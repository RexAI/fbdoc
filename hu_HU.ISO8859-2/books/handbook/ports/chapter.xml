<?xml version="1.0" encoding="iso-8859-2"?>
<!--
     The FreeBSD Documentation Project

     $FreeBSD$
-->
<!-- The FreeBSD Hungarian Documentation Project
     Translated by: PALI, Gabor <pgj@FreeBSD.org>
     %SOURCE%	en_US.ISO8859-1/books/handbook/ports/chapter.xml
     %SRCID%	1.290
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="ports" xml:lang="hu">
  <title>Alkalmazások telepítése: csomagok
    és portok</title>

  <sect1 xml:id="ports-synopsis">
    <title>Áttekintés</title>

    <indexterm><primary>portok</primary></indexterm>
    <indexterm><primary>csomagok</primary></indexterm>

    <para>A &os; rendszereszközök gazdag
      gyûjteményével érkezik az alaprendszer
      részeként.  Azonban a külsõ
      alkalmazások telepítéséhez rengeteg
      teendõt kell elvégeznünk.  A feladat
      elvégzésére ezért a &os; két,
      egymást kiegészítõ
      technológiát kínál fel: a &os;
      Portgyûjteményt (telepítés
      forráskódból) és a csomagokat
      (telepítés elõre elkészített
      bináris csomagokból).  Mind a két
      módszerrel fel tudjuk telepíteni a kedvenc
      alkalmazásunk legújabb verzióját
      lokálisan vagy egyenesen a
      hálózatról.</para>

    <para>A fejezet elolvasása során
      megismerjük:</para>

    <itemizedlist>
      <listitem>
	<para>hogyan telepítsünk külsõ
	  fejlesztésû bináris
	  szoftvercsomagokat;</para>
      </listitem>
      <listitem>
	<para>hogyan fordítsunk le a forrásukból
	  külsõ fejlesztésû szoftvereket a
	  Portgyûjtemény
	  segítségével;</para>
      </listitem>
      <listitem>
	<para>hogyan távolítsunk el korábban
	  már telepített csomagokat és
	  portokat;</para>
      </listitem>
      <listitem>
	<para>hogyan bíráljuk felül a
	  Portgyûjtemény által használt
	  alapértelmezett értékeket;</para>
      </listitem>
      <listitem>
	<para>hogyan keressük meg a megfelelõ
	  szoftvercsomagokat;</para>
      </listitem>
      <listitem>
	<para>hogyan frissítsük a telepített
	  alkalmazásokat.</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 xml:id="ports-overview">
    <title>Az alkalmazások telepítésének
      összefoglalása</title>

    <para>Ha korábban már használtunk &unix;
      rendszereket, valószínûleg ismerjük a
      külsõ alkalmazások
      telepítésének jellemezõ
      menetét:</para>

    <procedure>
      <step>
	<para>Töltsük le a szoftvert, amelyet vagy
	  forráskód vagy pedig bináris
	  formátumban érhetünk el.</para>
      </step>

      <step>
	<para>Bontsuk ki az alkalmazás letöltött
	  változatát (ez általában a
	  &man.compress.1;, &man.gzip.1; vagy a &man.bzip2.1;
	  által tömörített tar
	  állomány).</para>
      </step>

      <step>
	<para>Keressük meg a dokumentációt
	  (többnyire az <filename>INSTALL</filename> vagy a
	  <filename>README</filename> állományban
	  található, vagy a <filename>doc/</filename>
	  alkönyvtárban) és olvassuk el benne, hogyan
	  tudjuk telepíteni a szoftvert.</para>
      </step>

      <step>
	<para>Ha a szoftver forrását
	  töltöttük le, fordítsuk le.
	  Elképzelhetõ, hogy ennek során
	  szerkesztenünk kell a <filename>Makefile</filename>
	  állományt vagy lefuttatnunk a
	  <filename>configure</filename> szkriptet, illetve más
	  lépéseket is el kell
	  végeznünk.</para>
      </step>

      <step>
	<para>Próbáljuk a ki szoftvert, majd
	  telepítsük.</para>
      </step>
    </procedure>

    <para>Ez annak a forgatókönyve, amikor minden hiba
      nélkül lezajlik.  Megeshet azonban, ha olyan szoftvert
      telepítünk, amelyet nem kifejezetten a &os;-hez
      terveztek, akkor javítanunk kell a
      forráskódban a szoftver megfelelõ
      mûködéséhez.</para>

    <para>Ha sikerül mûködésre bírni,
      folytathatjuk &os;-n a szoftver telepítését a
      <quote>megszokott</quote> módon.  Habár a &os; erre
      a célra két lehetõséget is
      felkínál, amivel rengeteg
      erõfeszítéstõl megkímélhet
      minket: ezek a csomagok és a portok.  Az írás
      pillanatában közel &os.numports; külsõ
      alkalmazás érhetõ el ilyen
      formában.</para>

    <para>Egy adott alkalmazás esetén a
      hozzá tartozó &os;-s csomag mindössze egyetlen
      letöltendõ állományt takar.  A csomag
      tartalmazza az alkalmazás
      telepítéséhez szükséges
      összes parancs elõre lefordított
      változtatát, ugyanígy magát a
      dokumentációt is.  A letöltött csomagokat
      a &os; csomagkezelõ parancsaival vehetjük
      használatba: ezek a &man.pkg.add.1;, &man.pkg.delete.1;,
      &man.pkg.info.1; és így tovább.  Az új
      alkalmazások telepítése ennek
      köszönhetõen egyetlen paranccsal
      elvégezhetõ.</para>

    <para>Egy alkalmazás &os;-s portja mögött
      lényegében állományok
      gyûjteménye áll, amelyek abban
      segítenek, hogy automatikusan tudjunk telepíteni a
      forráskód
      felhasználásával.</para>

    <para>Ne felejtsük el, hogy normális esetben
      számos lépcsõt végig kell járnunk
      egy program sajátkezû
      lefordításához (letöltés,
      kitömörítés, javítgatás,
      fordítás, telepítés).  A portot
      alkotó állományok tartalmazzák az
      összes olyan szükséges információt,
      amelyek átengedik ezt a feladatot a rendszernek.  Kiadunk
      néhány egyszerû parancsot és az
      alkalmazás magától letöltõdik,
      kitömörítõdik, módosítja a
      forráskódját, lefordul és
      települ.</para>

    <para>Valójában a portrendszer
      használható olyan csomagok
      létrehozására is, amelyeket
      késõbb a <command>pkg_add</command> és
      többi hozzá hasonló, hamarosan
      részletesebben is bemutatandó csomagkezelõ
      paranccsal is kezelni tudunk.</para>

    <para>A csomagok és a portok egyaránt képesek
      <emphasis>függõségeket</emphasis> kezelni.
      Tegyük fel, hogy egy olyan alkalmazást akarunk
      telepíteni, amely egy adott
      függvénykönyvtár
      meglététõl függ a rendszeren.  Az
      alkalmazás és a könyvtár is
      elérhetõ &os; portként és
      csomagként.  Akár a <command>pkg_add</command>
      parancsot, akár a portrendszert használjuk az
      alkalmazás hozzáadására, mind a
      kettõ észre fogja venni, hogy a szükséges
      könyvtárt még nem telepítettük,
      ezért elõször azt fogja automatikusan
      telepíteni.</para>

    <para>Tudván, hogy a két említett
      megoldás szinte teljesen egyenértékû,
      felmerülhet a kérdés: a &os; mégis
      miért rendelkezik mindkettõvel?  A csomagoknak
      és a portoknak is megvannak a maguk elõnyei, és
      hogy a kettõ közül melyiket használjuk, csak
      az egyéni ízlésünkön
      múlik.</para>

    <itemizedlist>
      <title>A csomagok használatának elõnyei</title>

      <listitem>
	<para>Egy csomag általában kisebb, mint az
	  alkalmazás forráskódját
	  tartalmazó tömörített tar
	  állomány.</para>
      </listitem>

      <listitem>
	<para>A csomagokat nem kell fordítani.  Nagyobb
	  alkalmazások, mint például a
	  <application>Mozilla</application>,
	  <application>KDE</application> vagy
	  <application>GNOME</application> esetén ez
	  kulcsfontosságú lehet, fõleg abban az
	  esetben, ha a rendszerünk ehhez nem eléggé
	  gyors.</para>
      </listitem>

      <listitem>
	<para>A csomagok használata nem várja el
	  tõlünk, hogy behatóbban ismerjük,
	  miként is kell &os;-n szoftvereket
	  lefordítani.</para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <title>A portok használatának elõnyei</title>

      <listitem>
	<para>A csomagokat általános esetben igen
	  óvatos beállításokkal
	  készítik el, hiszen a lehetõ legtöbb
	  rendszeren mûködõképesnek kell
	  lenniük.  Ha viszont portból
	  telepítünk, nyugodtan hangolhatjuk úgy a
	  beállításokat, hogy
	  (például) a &pentium; 4 vagy az Athlon
	  processzoroknak kedvezõ kódot hozzanak
	  létre.</para>
      </listitem>

      <listitem>
	<para>Bizonyos alkalmazások fordítás
	  idején állítandó
	  beállításokkal rendelkeznek arról,
	  hogy mire lesznek képesek és mire nem.
	  Például az <application>Apache</application>
	  beépített konfigurációs
	  opciók széles kelléktárával
	  rendelkezik.  Amikor viszont portból hozzuk
	  létre, nem kell elfogadnunk ezek alapértelmezett
	  értékeit, hanem a saját
	  igényeinknek megfelelõen
	  átállíthatjuk ezeket.</para>

	<para>Egyes esetekben több különféle
	  beállítást tükrözõ csomag
	  is létezhet ugyanahhoz az alkalmazáshoz.
	  Például a <application>Ghostscript</application>
	  elérhetõ <filename>ghostscript</filename>
	  és <filename>ghostscript-nox11</filename>
	  csomagként is attól függõen, hogy
	  telepítettük-e az X11 szervert.  Ez
	  természetesen egy meglehetõsen durva
	  kijátszása a csomagrendszernek, és
	  gyorsan lehetetlenné is válik a
	  használata, ha az adott alkalmazás
	  egy-két fordítási idejû
	  beállításnál többel
	  rendelkezik.</para>
      </listitem>

      <listitem>
	<para>Néhány szoftver licencelése tiltja a
	  bináris terjesztést.  Ezért ezek a
	  szoftverek kizárólag csak
	  forráskód formájában
	  továbbíthatóak.</para>
      </listitem>

      <listitem>
	<para>Néhányan nem bíznak meg a
	  bináris verziókban.  Ha látjuk a
	  forráskódot is, akkor (elméletben)
	  át tudjuk nézni, és mi magunk is
	  megkereshetjük a benne lappangó
	  hibákat.</para>
      </listitem>

      <listitem>
	<para>Ha vannak saját javításaink, csak a
	  forráskód birtokában tudjuk ezeket
	  felhasználni.</para>
      </listitem>

      <listitem>
	<para>Sokan szeretik, ha egyszerûen csak <quote>ott
	  van</quote> a szoftverek forráskódja.  Ha
	  éppen unatkoznak, beléjük tudnak
	  nézni, ötleteket és kódot tudnak
	  belõlük meríteni (persze csak akkor, ha ezt a
	  licenc megengedi), vagy tovább tudják ezeket
	  fejleszteni, orvosolni tudják a hibáikat
	  stb.</para>
      </listitem>
    </itemizedlist>

    <para>A portok frissítésérõl a &a.ports;
      és a &a.ports-bugs; valamelyikérõl
      szerezhetünk naprakész
      információkat.</para>

    <warning>
      <para>Mielõtt bármelyik alkalmazást is
	telepítenénk, érdemes meglátogatnunk
	az <uri xlink:href="http://vuxml.freebsd.org">http://vuxml.freebsd.org</uri> oldalt, ahol a
	hozzá tartozó ismert biztonsági
	problémákról olvashatunk.</para>

      <para>Telepíthetjük a <package>ports-mgmt/portaudit</package> programot is,
	amely automatikusan ellenõrzi a telepített
	alkalmazások ismert sebezhetõségeit.  Ez az
	ellenõrzés egyébként megejthetõ
	minden port lefordítása elõtt is.  Ezalatt a
	<command>portaudit -F -a</command> parancs
	kiadásával ellenõrizhetjük utólag
	a telepített csomagokat.</para>
    </warning>

    <para>A fejezet fennmaradó részében
      megmutatjuk, hogyan használjuk &os;-ben a csomagokat
      és portokat külsõ alkalmazások
      telepítésére és
      karbantartására.</para>

  </sect1>

  <sect1 xml:id="ports-finding-applications">
    <title>A számunkra szükséges alkalmazások
      felkutatása</title>

    <para>Mielõtt telepítenénk bármilyen
      alkalmazást, tudnunk kell, hogyan is nevezik.</para>

    <para>A &os;-hez elérhetõ alkalmazások
      listája folyamatosan növekszik.  Szerencsére
      számos módja van annak, hogy
      utánajárjunk a keresett szoftvernek:</para>

    <itemizedlist>
      <listitem>
	<para>A &os; honlapján találhatunk egy
	  rendszeresen frissülõ listát az összes
	  elérhetõ alkalmazásról, a <link xlink:href="&url.base;/ports/index.html">http://www.FreeBSD.org/ports/</link>
	  címen.  Itt a portok különbözõ
	  kategóriákba sorolva találhatóak
	  meg, ahol név szerint megkereshetjük az
	  alkalmazást (amennyiben ismerjük), vagy
	  végigböngészhetjük az adott
	  kategóriában elérhetõ
	  alkalmazásokat is.</para>
      </listitem>

      <listitem>
	<indexterm><primary>FreshPorts</primary></indexterm>

	<para>Dan Langlille a <uri xlink:href="http://www.FreshPorts.org/">http://www.FreshPorts.org/</uri> címen
	  karbantartja a FreshPorts nevû oldalt.  Ezen az oldalon
	  folyamatosan nyomon lehet követni a
	  Portgyûjteményben megtalálható
	  alkalmazások változásait,
	  lehetõvé téve, hogy egy vagy több
	  portot is <quote>figyeljünk</quote>, vagy e-mailt
	  küldjünk a
	  frissítésükrõl.</para>
      </listitem>

      <listitem>
	<indexterm><primary>FreshMeat</primary></indexterm>

	<para>Amennyiben nem ismerjük a keresett alkalmazás
	  nevét, próbáljuk meg felkutatni a
	  FreshMeaten (<uri xlink:href="http://www.freshmeat.net/">http://www.freshmeat.net/</uri>)
	  vagy hozzá hasonló oldalakon, majd
	  nézzük meg a &os; honlapján, hogy az adott
	  alkalmazást portolták-e már a
	  rendszerre.</para>
      </listitem>

      <listitem>
	<para>Ha pontosan ismerjük a port nevét, és
	  csak a kategóriáját kellene
	  megkeresnünk, használjuk a &man.whereis.1;
	  parancsot.  Egyszerûen csak adjuk ki a <command>whereis
	  név</command> parancsot,
	  ahol a <replaceable>név</replaceable> a
	  telepítendõ program neve.  Ha sikerült
	  megtalálni, részletes információt
	  kapunk arról, hogy hol található,
	  valahogy így:</para>

      <screen>&prompt.root; <userinput>whereis lsof</userinput>
lsof: /usr/ports/sysutils/lsof</screen>

      <para>A fenti példában megtudhatjuk, hogy az
	<command>lsof</command> parancs a
	<filename>/usr/ports/sysutils/lsof</filename>
	könyvtárban található.</para>
      </listitem>

      <listitem>
	<para>Vagy egy egyszerû &man.echo.1; paranccsal is
	  megkereshetjük a portfában a portokat.  Mint
	  például:</para>

	<screen>&prompt.root; <userinput>echo /usr/ports/*/*lsof*</userinput>
/usr/ports/sysutils/lsof</screen>

	<para>Ez a módszer a <filename>/usr/ports/distfiles</filename>
	  könyvtárba letöltött összes
	  illeszkedõ állományt is
	  kilistázza.</para>
      </listitem>

      <listitem>
	<para>Egy másik lehetõség egy adott port
	  megtalálására, ha a
	  Portgyûjtemény beépített
	  keresési mechanizmusát használjuk.  Ennek
	  használatához a <filename>/usr/ports</filename>
	  könyvtárban kell lennünk.  Miután
	  beléptünk ide, futtassuk le a <command>make
	  search
	  name=programnév</command>
	  parancsot, ahol a <replaceable>programnév</replaceable>
	  a keresendõ program neve.  Például, ha az
	  <command>lsof</command> programot keressük:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports</userinput>
&prompt.root; <userinput>make search name=lsof</userinput>
Port:   lsof-4.56.4
Path:   /usr/ports/sysutils/lsof
Info:   Lists information about open files (similar to fstat(1))
Maint:  obrien@FreeBSD.org
Index:  sysutils
B-deps:
R-deps: </screen>

	<para>A keresés eredményében
	  leginkább a <quote>Path:</quote> kezdetû sorra kell
	  odafigyelnünk, mivel ez árulja el, hol is
	  találhatjuk meg a portot.  Az itt szereplõ
	  többi információ nem szükséges
	  a port telepítéséhez, ezért
	  azokkal itt most nem foglalkozunk.</para>

	<para>Mélyebb keresésekhez használhatjuk a
	  <command>make search
	  key=szöveg</command> parancsot
	  is, ahol a <replaceable>szöveg</replaceable> a
	  keresendõ szöveg(részlet) lesz.  Ezt a
	  rendszer keresni fogja a portok neveiben,
	  megjegyzésekben, leírásokban és
	  függõségekben.  Amikor nem ismerjük a
	  keresett program nevét, ez olyan portok
	  keresésére alkalmas, amelyek egy adott
	  témához kapcsolódnak.</para>

	<para>A fenti esetek mindegyikében a keresés nem
	  különbözteti meg a kis- és
	  nagybetûket.  Tehát az <quote>LSOF</quote>
	  keresése ugyanazt az eredményt adja, mint az
	  <quote>lsof</quote> esetén.</para>
      </listitem>

    </itemizedlist>
  </sect1>

  <sect1 xml:id="packages-using">
    <info><title>A csomagrendszer használata</title>
      <authorgroup>
	<author><personname><firstname>Chern</firstname><surname>Lee</surname></personname><contrib>Írta: </contrib></author>
      </authorgroup>
    </info>

    

    <para>&os; alatt több különbözõ
      módon tudunk csomagokat használni:</para>

    <itemizedlist>
      <listitem>
	<para>A <application>sysinstall</application>
	  használatán keresztül a futó
	  rendszeren tudjuk megnézni a telepített
	  csomagokat, tudunk vele csomagokat telepíteni vagy
	  törölni.  Ezzel részletesebben a <xref linkend="packages"/> foglalkozik.</para>
      </listitem>

      <listitem>
	<para>A szakasz további részében
	  ismertetett egyéb parancssoros csomagkezelõ
	  segédprogramok.</para>
      </listitem>
    </itemizedlist>

    <sect2>
      <title>Csomagok telepítése</title>

      <indexterm>
	<primary>csomagok</primary>
	<secondary>telepítése</secondary>
      </indexterm>

      <indexterm><primary><command>pkg_add</command></primary></indexterm>

      <para>A &man.pkg.add.1; segédprogram
	segítségével telepíthetünk
	&os;-hez készült szoftvercsomagokat lokálisan
	vagy a hálózaton levõ egyik szerveren
	megtalálható
	állományokból:</para>

      <example>
	<title>Csomagok letöltése manuálisan
	  és telepítése lokálisan</title>

	<screen>&prompt.root; <userinput>ftp -a ftp2.FreeBSD.org</userinput>
Connected to ftp2.FreeBSD.org.
220 ftp2.FreeBSD.org FTP server (Version 6.00LS) ready.
331 Guest login ok, send your email address as password.
230-
230-     This machine is in Vienna, VA, USA, hosted by Verio.
230-         Questions? E-mail freebsd@vienna.verio.net.
230-
230-
230 Guest login ok, access restrictions apply.
Remote system type is UNIX.
Using binary mode to transfer files.
<prompt>ftp&gt;</prompt> <userinput>cd /pub/FreeBSD/ports/packages/sysutils/</userinput>
250 CWD command successful.
<prompt>ftp&gt;</prompt> <userinput>get lsof-4.56.4.tgz</userinput>
local: lsof-4.56.4.tgz remote: lsof-4.56.4.tgz
200 PORT command successful.
150 Opening BINARY mode data connection for 'lsof-4.56.4.tgz' (92375 bytes).
100% |**************************************************| 92375       00:00 ETA
226 Transfer complete.
92375 bytes received in 5.60 seconds (16.11 KB/s)
<prompt>ftp&gt;</prompt> <userinput>exit</userinput>
&prompt.root; <userinput>pkg_add lsof-4.56.4.tgz</userinput></screen>
      </example>

      <para>Ha nincsenek egyáltalán helyben csomagjaink
	(például egy &os; CD-készletben), akkor a
	legjobban úgy járunk, ha használjuk a
	&man.pkg.add.1; <option>-r</option> kapcsolóját.
	Ennek hatására a segédprogram
	önmagától meghatározza a
	szükséges állományformátumot
	és verziót, majd FTP-n keresztül letölti
	és telepíti a csomagot.</para>

      <indexterm><primary><command>pkg_add</command></primary></indexterm>

      <screen>&prompt.root; <userinput>pkg_add -r lsof</userinput></screen>

      <para>Az iménti példában a program
	mindenféle további beavatkozás
	nélkül letölti a megfelelõ csomagot
	és felteszi.  Ha a központi helyett egy másik
	szervert szeretnénk használni, felül kell
	bírálnunk az alapértelmezett
	beállításokat és igényeinknek
	megfelelõen be kell állítanunk a
	<envar>PACKAGESITE</envar> környezeti változó
	értékét.  A &man.pkg.add.1; a &man.fetch.3;
	programot használja az állományok
	letöltésére, amely pedig számos
	egyéb környezeti változót is figyel,
	mint például az <envar>FTP_PASSIVE_MODE</envar>,
	az <envar>FTP_PROXY</envar> és az
	<envar>FTP_PASSWORD</envar>.  Ha tûzfal mögött
	vagyunk, ezek közül néhányat biztosan be
	kell majd állítanunk, vagy FTP/HTTP proxyt kell
	használnunk.  A &man.fetch.3; man oldalán
	megtaláljuk ezen változók teljes
	felsorolását.  Figyeljük meg, hogy az
	<literal>lsof-4.56.4</literal> helyett csak
	<literal>lsof</literal>-ot adtunk meg.  Amikor ugyanis
	kérjük a csomag letöltését is,
	nem szabad verziószámot megadnunk.  A
	&man.pkg.add.1; mindig az alkalmazás legfrissebb
	verzióját fogja letöltetni.</para>

      <note>
	<para>Ha a &os.current; vagy &os.stable; verziókat
	  használjuk, a &man.pkg.add.1; mindig az
	  alkalmazás elérhetõ legfrissebb
	  verzióját fogja letölteni.  Ha azonban
	  valamelyik -RELEASE verziót használjuk, a
	  csomagnak az adott kiadáshoz készült
	  verzióját fogja leszedni.  Ezt a
	  mûködési módot a
	  <envar>PACKAGESITE</envar> változó
	  felülírásával viszont meg tudjuk
	  változtatni.  Például ha a
	  &os;&nbsp;5.4-RELEASE változatával dolgozunk, a
	  &man.pkg.add.1; alapértelmezés szerint a
	  <literal>ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-5.4-release/Latest/</literal>
	  címrõl fogja letölteni a csomagokat.  Ha mi
	  viszont a &os;&nbsp;5-STABLE csomagok
	  letöltését akarjuk elérni,
	  állítsuk az <envar>PACKAGESITE</envar>
	  értékét a
	  <literal>ftp://ftp.freebsd.org/pub/FreeBSD/i386/packages-5-stable/Latest/</literal>
	  címre.</para>
      </note>

      <para>A csomagok <filename>.tgz</filename> és
	<filename>.tbz</filename> formátumokban kerülnek
	terjesztésre.  Ezek az <uri xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/">ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/</uri>
	címen, vagy pedig a &os; CD-ken találhatóak
	meg.  A 4 CD-bõl álló készlet (illetve
	a PowerPak stb.) minden CD-jén találhatunk
	csomagokat a <filename>packages/</filename>
	könyvtárban.  A csomagokat tároló
	könyvtár struktúrája hasonló a
	<filename>/usr/ports</filename> könyvtárban
	kialakított könyvtárfához.  Minden
	kategóriának saját könyvtára
	van, és minden csomag megtalálható az
	<filename>All</filename> (összes)
	kategóriában.</para>

      <para>A csomagrendszer könyvtárszerkezete tehát
	megegyezik a portok szétosztásával,
	ezáltal így képesek egymással
	összedolgozni a teljes csomag/port rendszer
	megformálásában.</para>

    </sect2>

    <sect2>
      <title>A csomagok kezelése</title>

      <indexterm>
	<primary>csomagok</primary>
	<secondary>kezelés</secondary>
      </indexterm>

      <para>A &man.pkg.info.1; egy olyan segédprogram, amellyel
	készíteni lehet egy listát a
	telepített csomagokról, és emellett
	még más egyéb információkat
	tudhatunk meg róluk.</para>

      <indexterm><primary><command>pkg_info</command></primary></indexterm>

      <screen>&prompt.root; <userinput>pkg_info</userinput>
cvsup-16.1          A general network file distribution system optimized for CV
docbook-1.2         Meta-port for the different versions of the DocBook DTD
...</screen>

      <para>A &man.pkg.version.1; összefoglalja az összes
	telepített csomag verzióját.
	Ezenkívül össze is hasonlítja a csomagok
	verzióját a portfában
	található aktuális
	verziókéval.</para>

      <indexterm><primary><command>pkg_version</command></primary></indexterm>

      <screen>&prompt.root; <userinput>pkg_version</userinput>
cvsup                       =
docbook                     =
...</screen>

      <para>A második oszlopban látható jelek
	utalnak a telepített verzió a helyi
	portfában található
	verzióéhoz viszonyított
	korára.</para>

      <informaltable frame="none" pgwide="1">
        <tgroup cols="2">
	<thead>
	    <row>
	      <entry>Jel</entry>
	      <entry>Jelentés</entry>
	    </row>
	</thead>
	<tbody>
	  <row>
	    <entry>=</entry>
	    <entry>A telepített csomag verziója megegyzik
	      a helyi portfában található
	      verziójával.</entry>
	  </row>
	  <row>
	    <entry>&lt;</entry>
	    <entry>A telepített verzió a portfában
	      levõnél régebbi.</entry>
	  </row>
	  <row>
	    <entry>&gt;</entry>
	    <entry>A telepített verzió újabb, mint
	      a portfában található.  (A helyi
	      portfa valószínûleg nem lett
	      frissítve.)</entry>
	  </row>
	  <row>
	    <entry>?</entry>
	    <entry>A telepített csomag nem
	      található a portok között.  (Ez
	      akkor történhet meg, amikor
	      például egy portot
	      eltávolítottak a
	      Portgyûjteménybõl vagy
	      átnevezték.)</entry>
	  </row>
	  <row>
	    <entry>*</entry>
	    <entry>A csomagnak több verziója is jelen
	      van.</entry>
	  </row>
	  <row>
	    <entry>!</entry>
	    <entry>A telepített csomag szerepel az indexben, de a
	      <command>pkg_version</command> valamiért nem volt
	      képes összehasonlítani a
	      verziószámát az indexben levõ
	      bejegyzéssel.</entry>
	  </row>
	</tbody>
	</tgroup>
    </informaltable>
    </sect2>

    <sect2>
      <title>Csomagok törlése</title>

      <indexterm><primary><command>pkg_delete</command></primary></indexterm>
      <indexterm>
	<primary>csomagok</primary>
	<secondary>törlés</secondary>
      </indexterm>

      <para>Egy korábban már telepített csomag
	eltávolításához használjuk a
	&man.pkg.delete.1; segédprogramot.</para>

      <screen>&prompt.root; <userinput>pkg_delete xchat-1.7.1</userinput></screen>

      <para>A &man.pkg.delete.1; használatánál
	szükség van a csomag teljes nevének és
	verziószámának megadására.  A
	fenti parancs tehát nem mûködik, ha csak az
	<replaceable>xchat</replaceable>-et adjuk meg az
	<replaceable>xchat-1.7.1</replaceable> helyett.  A
	telepített csomag verzióját azonban
	könnyedén kitalálhatjuk a &man.pkg.version.1;
	alkalmazásával.  Esetleg egyszerûen
	dzsókerkaraktereket is használhatunk:</para>

      <screen>&prompt.root; <userinput>pkg_delete xchat\*</userinput></screen>

      <para>Ebben az esetben az összes <literal>xchat</literal>-tel
	kezdõdõ csomagot letörli.</para>

    </sect2>

    <sect2>
      <title>Egyebek</title>

      <para>A csomagokra vonatkozó összes
	információ a <filename>/var/db/pkg</filename>
	könyvtárban található.  Az egyes
	csomagok leírása és hozzájuk
	telepített állományok listája az
	ezen a könyvtáron belül elhelyezkedõ
	állományokban tárolódik.</para>

    </sect2>
  </sect1>

  <sect1 xml:id="ports-using">
    <title>A Portgyûjtemény használata</title>

    <para>A most következõ szakaszokban megismerhetjük
      azokat az alapvetõ utasításokat, amelyekkel a
      Portgyûjteményen keresztül tudunk programokat
      telepíteni és eltávolítani.  Az ehhez
      használható <command>make</command> targetek
      és környezeti változók
      részletesebb leírását a &man.ports.7;
      man oldalán lelhetjük meg.</para>

    <sect2 xml:id="ports-tree">
      <title>A Portgyûjtemény beszerzése</title>

      <para>Mielõtt bármelyik portot is tudnánk
	telepíteni, elsõként magát a
	Portgyûjteményt kell megszereznünk &mdash; ez
	lényegében a <filename>/usr/ports</filename>
	könyvtárban megtalálható
	<filename>Makefile</filename> állományok,
	javítások és leírások
	gyûjteménye.</para>

      <para>A &os; telepítése közben a
	<application>sysinstall</application> rákérdez a
	Portgyûjtemény telepítésére is.
	Ha erre nemet válaszoltunk volna, a portok
	gyûjteményét az alábbi módokon
	szerezhetjük be:</para>

      <procedure>
	<title>A CVSup használatával</title>

	<para>A <application>CVSup</application> protokoll
	  használatával viszonylag gyorsan el tudjuk
	  érni és naprakészen tudjuk tartani a
	  Portgyûjtemény egy példányát.
	  A <application>CVSup</application> használatát
	  alaposabban a <link linkend="cvsup">A CVSup
	  használata</link> címû
	  függelékben ismerhetjük meg.</para>

	<note>
	  <para>A &os; 6.2 változatától kezdve az
	    alaprendszerben a <application>CVSup</application>
	    protokollt a <application>csup</application>
	    valósítja meg.  A &os; korábbi
	    változatának használói ezt a
	    programot a <package>net/csup</package>
	    porton vagy csomagon keresztül tudják
	    telepíteni.</para>
	</note>

	<para>Gondoskodjunk róla, hogy a <filename>/usr/ports</filename> üres legyen a
	  <application>csup</application> elsõ futtatása
	  elõtt!  Ha más forrásból raktuk ide
	  a Portgyûjteményt, a
	  <application>csup</application> nem fogja lenyesegetni az
	  azóta eltávolított
	  javításokat.</para>

	<step>
	  <para>Futtassuk a <command>csup</command> programot:</para>

	  <screen>&prompt.root; <userinput>csup -L 2 -h cvsup.FreeBSD.org /usr/share/examples/cvsup/ports-supfile</userinput></screen>

	  <para>Itt írjuk át a
	    <replaceable>cvsup.FreeBSD.org</replaceable>
	    címét a hozzánk legközelebb
	    levõ <application>CVSup</application> szerver
	    címére.  Az összes elérhetõ
	    tükörszerver címét a <link linkend="cvsup-mirrors">CVSup
	    tükrözések</link> (<xref linkend="cvsup-mirrors"/>) címû részben
	    olvashatjuk.</para>

	  <note>
	    <para>Ha például el akarjuk kerülni a
	      <application>CVSup</application> szerver
	      megadását a parancssorban, akkor
	      mindenképpen a <filename>ports-supfile</filename>
	      állományból érdemes
	      készíteni egy saját
	      verziót.</para>

	    <procedure>
	      <step>
		<para>Ebben az esetben <systemitem class="username">root</systemitem>
		  felhasználóként másoljuk a
		  <filename>/usr/share/examples/cvsup/ports-supfile</filename>
		  állományt egy új helyre,
		  például a <filename>/root</filename>
		  könyvtárba vagy a saját
		  felhasználói
		  könyvtárunkba.</para>
	      </step>

	      <step>
		<para>Szerkesszük át a
		  <filename>ports-supfile</filename>
		  állományt.</para>
	      </step>

	      <step>
		<para>Írjuk át a
		  <replaceable>CHANGE_THIS.FreeBSD.org</replaceable>
		  értéket a hozzánk
		  legközelebb található
		  <application>CVSup</application> szerverére.  A
		  <link linkend="cvsup-mirrors">CVSup
		  tükrözések</link> (<xref linkend="cvsup-mirrors"/>) címû
		  részben megtaláljuk az összes ilyen
		  tükörszervert.</para>
	      </step>

	      <step>
		<para>És most indítsuk el a
		  <command>csup</command> parancsot az alábbi
		  módon:</para>

		<screen>&prompt.root; <userinput>csup -L 2 /root/ports-supfile</userinput></screen>
	      </step>
	    </procedure>
	  </note>
	</step>

	<step>
	  <para>A &man.csup.1; parancs késõbbi futása
	    során már letölti és
	    érvényesíti az észlelt
	    változtatásokat a saját
	    Portgyûjteményünkben, de a
	    telepített portokat nem fogja
	    újrafordítani.</para>
	</step>
      </procedure>

      <procedure>
	<title>A Portsnap használatával</title>

	<para>A <application>Portsnap</application> egy másik
	  módszert képvisel a Portgyûjtemény
	  terjesztésére, a lehetõségeinek
	  részletesebb megismeréséhez
	  tekintsük át <link linkend="updating-upgrading-portsnap">A Portsnap
	    használata</link> címû szakaszt.</para>

	<step>
	  <para>Töltsük le a Portgyûjtemény
	    tömörített pillanatképét a
	    <filename>/var/db/portsnap</filename>
	    könyvtárba.  Ha akarjuk, ezután a
	    lépés után már
	    lekapcsolódhatunk az internetrõl.</para>

	  <screen>&prompt.root; <userinput>portsnap fetch</userinput></screen>
	</step>

	<step>
	  <para>Ha még csak elõször futtatjuk a
	    <application>Portsnap</application>et, bontsuk ki az
	    imént letöltött állapotot a
	    <filename>/usr/ports</filename>
	    könyvtárba:</para>

	  <screen>&prompt.root; <userinput>portsnap extract</userinput></screen>

	  <para>Ha viszont már korábban is létezett
	    a <filename>/usr/ports</filename>
	    könyvtárunk és most csak
	    frissítjük, akkor helyette ezt a parancsot adjuk
	    ki:</para>

	  <screen>&prompt.root; <userinput>portsnap update</userinput></screen>
	</step>
      </procedure>

      <procedure>
	<title>A <application>sysinstall</application>
	  használatával</title>

	<para>Ebben az esetben a <application>sysinstall</application>
	  nevû programmal telepítjük a
	  Portgyûjteményt valamilyen
	  telepítõeszközrõl.  Ilyenkor azonban a
	  kiadás dátumának megfelelõ,
	  valószínûleg régebbi változat
	  kerül fel.  Ha rendelkezünk
	  internet-hozzáféréssel, akkor
	  inkább az elõbb tárgyalt módszerek
	  valamelyikét alkalmazzuk.</para>

	<step>
	  <para><systemitem class="username">root</systemitem>
	    felhasználóként adjuk ki a
	    <command>sysinstall</command> parancsot, ahogy itt is
	    láthatjuk:</para>

	  <screen>&prompt.root; <userinput>sysinstall</userinput></screen>
	</step>

	<step>
	  <para>Menjünk le és álljunk meg a
	    <guimenuitem>Configure</guimenuitem>
	    (Beállítások) menüpontnál,
	    és nyomjunk <keycap>Enter</keycap>
	    billentyût.</para>
	</step>

	<step>
	  <para>Menjünk le és keressük meg a
	    <guimenuitem>Distributions</guimenuitem>
	    (Terjesztések) menüponot, majd nyomjuk meg az
	    <keycap>Enter</keycap> billentyût.</para>
	</step>

	<step>
	  <para>Menjünk le, válasszuk ki a
	    <guimenuitem>ports</guimenuitem> elemet a
	    <keycap>Szóköz</keycap>
	    megnyomásával.</para>
	</step>

	<step>
	  <para>Menjünk fel az <guimenuitem>Exit</guimenuitem>
	    (Kilépés) ponthoz, nyomjuk meg az
	    <keycap>Enter</keycap> billentyût.</para>
	</step>

	<step>
	  <para>Válasszuk ki a telepítéshez
	    használni kívánt eszközt, mint
	    például CD, FTP stb.</para>
	</step>

	<step>
	  <para>Menjünk fel az <guimenuitem>Exit</guimenuitem>
	    (Kilépés) menüpontig, majd nyomjuk meg
	    az <keycap>Enter</keycap> billentyût.</para>
	</step>

	<step>
	  <para>Végezetül lépjünk ki a
	    <application>sysinstall</application> programból,
	    aminhez nyomjuk meg az <keycap>X</keycap>
	    billentyût.</para>
	</step>
      </procedure>
    </sect2>

    <sect2 xml:id="ports-skeleton">
      <title>Portok telepítése</title>

      <indexterm>
	<primary>portok</primary>
	<secondary>telepítés</secondary>
      </indexterm>

      <para>A <quote>váz</quote> fogalma az elsõ, amit a
	Portgyûjteménnyel kapcsolatban tisztázni
	kell.  Dióhéjban összefoglalva, egy port
	váza azon állományok legszûkebb
	halmaza, amelyek elárulják a &os;
	számára, hogyan fordítsuk le hibamentesen
	és hogyan telepítsük az adott programot.
	Ehhez minden port vázában
	megtalálható:</para>

      <itemizedlist>
	<listitem>
	  <para>Egy <filename>Makefile</filename> nevû
	    állomány.  Ez tartalmazza azokat a
	    különbözõ utasításokat,
	    amelyek megmondják, hogyan kell lefordítani
	    és hova kell telepíteni a rendszerünkben
	    az adott alkalmazást.</para>
	</listitem>

	<listitem>
	  <para>Egy <filename>distinfo</filename> nevû
	    állomány.  Ebben található
	    információ a port
	    lefordításához szükséges
	    állományok
	    letöltésérõl, valamint a
	    letöltött állományok
	    ellenõrzéséhez szükséges (az
	    &man.md5.1; és &man.sha256.1; programokkal
	    számolt) ellenõrzõösszegek.</para>
	</listitem>

	<listitem>
	  <para>Egy <filename>files</filename> alkönyvtár.
	    Itt találhatjuk meg azokat a
	    javításokat, amelyek
	    alkalmazásával le tudjuk fordítani a
	    programot &os;-n is.  Ezek a javítások
	    többnyire bizonyos állományok
	    módosításaira vonatkozó
	    apró állományok
	    formájában jelennek meg.
	    Természetüknél fogva szöveges
	    formátumúak, és általában
	    olyanok szerepelnek bennük, hogy
	    <quote>Töröld a 10.  sort</quote> vagy
	    <quote>Változtasd meg a 26.  sort erre: ...</quote>.
	    Ezeket a javításokat eredetileg patcheknek
	    (foltoknak) nevezik, vagy másképp diffeknek
	    (eltéréseknek) is, mivel a &man.diff.1;
	    program segítségével hozzák
	    ezeket létre.</para>

	  <para>Ez a könyvtár tartalmazhat további
	    állományokat is portok
	    elkészítéséhez.</para>
	</listitem>

	<listitem>
	  <para>Egy <filename>pkg-descr</filename> nevû
	    állomány.  Ez a program részletesebb,
	    gyakran többsoros bemutatása.</para>
	</listitem>

	<listitem>
	  <para>Egy <filename>pkg-plist</filename> nevû
	    állomány.  Itt találjuk meg a port
	    által telepítendõ összes
	    állományt.  Ez egyben közli a
	    portrendszerrel is, hogy az eltávolítás
	    során mely állományokat kell majd
	    törölnie.</para>
	</listitem>
      </itemizedlist>

      <para>Egyes portokban szerepelhetnek még egyéb
	állományok is, mint például a
	<filename>pkg-message</filename>.  Ezeket az
	állományokat a portrendszer különleges
	helyzetek kezelésére tartogatja.  Ha még
	többet kívánunk megtudni ezekrõl az
	állományokról, vagy magukról a
	portokról általánosságban, lapozzuk
	fel a <link xlink:href="&url.books.porters-handbook.en;/index.html">&os; porterek kézikönyv</link>ét.</para>

      <para>A port ugyan tartalmazza a forráskód
	lefordításához szükséges
	utasításokat, de konkrétan a
	forráskódot nem.  Ezt egy CD-rõl vagy az
	internetrõl tudjuk megszerezni.  A forráskód
	általában a szerzõje által kedvelt
	formában jelenik meg: ez gyakran egy gzip-pel
	tömörített tar állomány, de lehet
	tömörítve mással is, vagy éppen
	lehet tömörítetlen.  A program
	forráskódját, legyen akármilyen
	formában is, nevezik <quote>distfile</quote>-nak
	(terjesztési állománynak).  A &os; portok
	telepítésének két
	módszerét tárjuk fel a
	következõkben.</para>

      <note>
	<para>A portok telepítéséhez
	  <systemitem class="username">root</systemitem> felhasználóként
	  kell bejelentkeznünk.</para>
      </note>

      <warning>
	<para>Mielõtt telepítenénk bármelyik
	  portot is, ajánlott frissíteni a
	  Portgyûjteményünket és
	  ellenõriznünk az adott portot a <uri xlink:href="http://vuxml.freebsd.org">http://vuxml.freebsd.org</uri> címen
	  található biztonsági
	  adatbázisban.</para>

	<para>Az újonnan telepítendõ
	  alkalmazások biztonsági
	  sebezhetõségeinek ellenõrzését
	  automatikussá is tehetjük a
	  <application>portaudit</application>
	  használatával.  Ez a segédeszköz is
	  a Portgyûjteményben található
	  (<package>ports-mgmt/portaudit</package>).
	  Érdemes minden port telepítése elõtt
	  letöltenünk a legfrissebb sebezhetõségi
	  adatbázist a <command>portaudit -F</command> parancs
	  kiadásával.  Mellesleg az adatbázis
	  rendszeres frissítése és ez a
	  biztonsági felülvizsgálat a
	  naponként elvégzendõ biztonsági
	  ellenõrzések közt is megjelenik.
	  Ezekrõl részletesebben a &man.portaudit.1;
	  és &man.periodic.8; man oldalakon olvashatunk.</para>
      </warning>

      <para>A Portgyûjtemény feltételezi, hogy
	mûködõ
	internet-hozzáféréssel rendelkezünk.
	Amennyiben ez nem így lenne, a terjesztési
	állományokat, forráskódokat
	saját magunknak kell bemásolnunk a
	<filename>/usr/ports/distfiles</filename>
	könyvtárba.</para>

      <para>A kezdéshez lépjünk be a
	telepítendõ port
	könyvtárába:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/sysutils/lsof</userinput></screen>

      <para>Miután beléptünk az
	<filename>lsof</filename> könyvtárába,
	láthatjuk a port vázát.  A
	következõ lépés a
	fordítás, avagy a port
	<quote>buildelése</quote>
	(elkészítése).  Ezt egy szimpla
	<command>make</command> parancs kiadásával
	kezdeményezhetjük.  Miután megtettük,
	valami ilyesmit kell tapasztalnunk:</para>

      <screen>&prompt.root; <userinput>make</userinput>
&gt;&gt; lsof_4.57D.freebsd.tar.gz doesn't seem to exist in /usr/ports/distfiles/.
&gt;&gt; Attempting to fetch from ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.
===&gt;  Extracting for lsof-4.57
...
[ide jön a kitömörítés kimenete]
...
&gt;&gt; Checksum OK for lsof_4.57D.freebsd.tar.gz.
===&gt;  Patching for lsof-4.57
===&gt;  Applying FreeBSD patches for lsof-4.57
===&gt;  Configuring for lsof-4.57
...
[ide jön a configure szkript kimenete]
...
===&gt;  Building for lsof-4.57
...
[ide jön a fordítás kimenete]
...
&prompt.root;</screen>

      <para>A fordítás befejeztével visszakapjunk a
	parancssort.  A soron következõ lépés a
	port telepítése lesz.  Ehhez mindössze
	egyetlen szóval kell kiegészítenünk a
	<command>make</command> parancs meghívását:
	ez a szó pedig az <buildtarget>install</buildtarget>
	(telepít) lesz.</para>

      <screen>&prompt.root; <userinput>make install</userinput>
===&gt;  Installing for lsof-4.57
...
[a telepítés kimenete kimarad]
...
===&gt;   Generating temporary packing list
===&gt;   Compressing manual pages for lsof-4.57
===&gt;   Registering installation for lsof-4.57
===&gt;  SECURITY NOTE:
      This port has installed the following binaries which execute with
      increased privileges.
&prompt.root;</screen>

      <para>Miután ismét visszakaptuk a parancssort,
	már futtatni is tudjuk a frissen telepített
	alkalmazásunkat.  Mivel az <command>lsof</command>
	programnak tovább jogosultságokra is
	szüksége van, egy errõl szóló
	biztonsági figyelmeztetést is láthatunk.  A
	portok létrehozása és
	telepítése során érdemes
	figyelnünk az ehhez hasonló
	figyelmeztetésekre.</para>

      <para>A telepítés befejeztével nem árt
	törölnünk a fordításhoz
	felhasznált alkönyvtárat (work) is.  Ezzel
	nemcsak a drága lemezterületet spóroljuk meg,
	hanem megelõzzük a port késõbbi
	frissítése során felmerülõ
	esetleges problémákat is.</para>

      <screen>&prompt.root; <userinput>make clean</userinput>
===&gt;  Cleaning for lsof-4.57
&prompt.root;</screen>

      <note>
	<para>Az eljárásból két
	  lépést meg is tudunk takarítani, ha
	  egyszerûen csak a <command>make install
	  clean</command> parancsot adjuk ki az elõbb
	  három lépésben tagolt
	  <command>make</command>, <command>make
	  install</command> és
	  <command>make clean</command>
	  parancsok helyett.</para>
      </note>

      <note>
	<para>Bizonyos parancsértelmezõk a
	  <envar>PATH</envar> környezeti változóban
	  felsorolt könyvtárakban található
	  parancsokat gyorsítótárban
	  tárolják, ezzel felgyorsítva a
	  hozzájuk tartozó végrehajtható
	  állományok keresését.  Ha
	  történetesen ilyen parancsértelmezõt
	  használnánk, az új portok
	  telepítése után
	  szükségünk lehet a <command>rehash</command>
	  parancs kiadására, mivel enélkül nem
	  tudjuk elérni a frissen telepített parancsokat.
	  Ezt a parancsot például a
	  <command>tcsh</command> és a hozzá
	  hasonló parancsértelmezõkben
	  találhatjuk meg, az <command>sh</command> és
	  rokonainál pedig a <command>hash -r</command> ennek a
	  megfelelõje.  A pontos információkat
	  errõl a témáról a
	  parancsértelmezõnk
	  dokumentációjában lelhetjük
	  meg.</para>
      </note>

      <para>Némely külsõ DVD termék, mint
	például a <link xlink:href="http://www.freebsdmall.com">&os; Mall</link>tól
	megrendelhetõ &os; Toolkit, tartalmazhatnak
	terjesztési állományokat.  Ezek
	remekül használhatóak a
	Portgyûjteménnyel.  Ehhez csatlakoztatnunk kell a
	DVD-t a <filename>/cdrom</filename> könyvtárba.
	Ettõl eltérõ csatlakozási pontok
	használata esetén ne felejtsük el
	átállítani a <varname>CD_MOUNTPTS</varname>
	változót sem a <command>make</command>
	számára.  Ekkor a fordításhoz
	szükséges állományokat úgy
	fogja kezelni a rendszer, mintha a merevlemezünkön
	lennének.</para>

      <note>
	<para>Vigyázzunk arra, hogy néhány portot
	  nem lehet CD-n terjeszteni.  Ez részben azért
	  lehet, mert a szükséges állományok
	  letöltéséhez, illetve újbóli
	  terjesztéséhez ki kell tölteni valamilyen
	  regisztrációs nyomtatványt, vagy pedig
	  egyéb okok miatt.  Tehát ha olyan portot akarunk
	  telepíteni, ami nincs rajta a CD-n, mindenképpen
	  rendelkeznünk kell internetkapcsolattal.</para>
      </note>

      <para>A portrendszer a &man.fetch.1; segédprogramot
	használja az állományok
	letöltésére, amely figyelembevesz
	különféle környezeti
	változókat, ilyenek többek közt az
	<envar>FTP_PASSIVE_MODE</envar>, <envar>FTP_PROXY</envar>
	és az <envar>FTP_PASSWORD</envar>.  Ha tûzfal
	mögött vagyunk, szükségünk lehet ezek
	némelyikének helyes
	beállítására, vagy FTP/HTTP proxyt
	kell használnunk.  A &man.fetch.3; man oldala tartalmazza
	ezen változók teljes
	listáját.</para>

      <para>A <command>make fetch</command>
	azon felhasználók számára
	nyújt segítséget, akik nem csatlakoznak
	minden esetben a hálózatra.  Egyszerûen csak
	futtassuk le a könyvtárszerkezet
	legtetejérõl (<filename>/usr/ports</filename>) ezt a
	parancsot és a szükséges
	állományok letöltõdnek nekünk.  A
	parancs mûködik az alsóbb szinteken is,
	például a <filename>/usr/ports/net</filename>
	könyvtárban.  Azonban legyünk tekintettel arra,
	hogy ha egy port függ más portoktól vagy
	függvénykönyvtáraktól, ez a
	parancs <emphasis>nem fogja</emphasis> letölteni a
	hozzájuk tartozó állományokat.
	Ilyenkor a <buildtarget>fetch</buildtarget> helyett
	használjuk a <buildtarget>fetch-recursive</buildtarget>
	targetet.</para>

      <note>
	<para>Ha a <command>make</command> parancsot egy felsõbb
	  szinten futtatjuk, akkor ezzel létre tudjuk hozni az
	  összes vagy csak kategóriánként az
	  összes portot, hasonlóan az elõbb
	  említett <command>make
	  fetch</command> módszerhez.
	  Ez azonban veszélyes, mivel egyes portok
	  kizárják mások használatát.
	  Emellett elõfordulhat az is, hogy bizonyos portok
	  ugyanazon a néven telepítenek több,
	  tartalmukban különbözõ
	  állományt.</para>
      </note>

      <para>Nagyon ritkán adódhat, hogy a
	felhasználónak nem a
	<varname>MASTER_SITES</varname> által mutatott
	helyekrõl kell beszereznie a szükséges
	állományokat (innen töltõdnek ugyanis
	le).  A <varname>MASTER_SITES</varname>
	beállítást az alábbi paranccsal
	bírálhatjuk felül:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/könyvtár</userinput>
&prompt.root; <userinput>make MASTER_SITE_OVERRIDE= \
ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/ fetch</userinput></screen>

      <para>Ebben a példában a
	<varname>MASTER_SITES</varname> értékét a
	<systemitem class="fqdomainname">ftp.FreeBSD.org/pub/FreeBSD/ports/distfiles/</systemitem>
	címre változtattuk meg.</para>

      <note>
	<para>A portok némelyike lehetõvé teszi
	  (esetleg meg is követeli), hogy engedélyezzük
	  vagy letiltsuk a készülõ program bizonyos
	  elemeit hatékonysági, biztonsági vagy
	  egyéb testreszabási irányelvek
	  mentén.  Ilyen többek közt a <package>www/mozilla</package>, a <package>security/gpgme</package> és a <package>mail/sylpheed-claws</package>.  Ha
	  elérhetõek ilyen beállítási
	  lehetõségek, arról a rendszer egy
	  üzenetben tájékoztat minket.</para>
      </note>

      <sect3>
	<title>Az alapértelmezett könyvtárak
	  felülbírálása</title>

	<para>Néha hasznos (vagy kötelezõ) lehet
	  eltérõ munka- és
	  célkönyvtárak alkalmazása.  A
	  <varname>WRKDIRPREFIX</varname> és a
	  <varname>PREFIX</varname> változókkal ezek
	  alapértelmezéseit tudjuk megváltoztatni.
	  Például a</para>

	<screen>&prompt.root; <userinput>make WRKDIRPREFIX=/usr/home/example/ports install</userinput></screen>

	<para>parancs a portot a
	  <filename>/usr/home/example/ports</filename>
	  könyvtárban fogja lefordítani és az
	  eredményét a <filename>/usr/local</filename>
	  könyvtárba telepíti.  A</para>

	<screen>&prompt.root; <userinput>make PREFIX=/usr/home/example/local install</userinput></screen>

	<para>parancs hatására a port a
	  <filename>/usr/ports</filename> könyvtárban
	  készül el és a
	  <filename>/usr/home/example/local</filename>
	  könyvtárba települ.</para>

	<para>Természetesen a</para>

	<screen>&prompt.root; <userinput>make WRKDIRPREFIX=../ports PREFIX=../local install</userinput></screen>

	<para>parancs ötvözi az elõbbi kettõt
	  (amelyet most túlságosan is hosszú lenne
	  kiírni, de vélhetõen sejthetõ
	  belõle az alapötlet).</para>

	<para>Lehetõség van ezen változókat a
	  saját környezetünkben is
	  beállítani.  Ha erre lenne
	  szükségünk, nézzünk utána
	  az ezzel kapcsolatos teendõnek a
	  parancsértelmezõnk man oldalán.</para>

      </sect3>

      <sect3>
	<title>Az <command>imake</command>
	  használatáról</title>

	<para>Bizonyos portok az (X Window System
	  részeként megjelenõ)
	  <command>imake</command> segédprogramra
	  támaszkodnak, ahol viszont nem mûködik a
	  <varname>PREFIX</varname>
	  átállítása és
	  mindenképpen a <filename>/usr/X11R6</filename>
	  könyvtárba akar telepíteni.  Ehhez
	  hasonlóan egyes Perl portok figyelmen kívül
	  hagyják a <varname>PREFIX</varname>
	  változót és közvetlenül a Perl
	  fájába kerülnek.  Az ilyen portok
	  esetén nagyon nehéz vagy szinte lehetetlen
	  betartatni a <varname>PREFIX</varname>
	  használatát.</para>

      </sect3>

      <sect3>
	<title>A portok újrakonfigurálása</title>

	<para>Egyes portok lefordítása elõtt
	  megjelenik egy ncurses alapú menü, ahol ki tudunk
	  választani bizonyos fordítási
	  beállításokat.  Gyakran elõfordul,
	  hogy a port lefordítása után a
	  felhasználók szeretnék újra
	  elõhozni ezt a menüt és megadni vagy kivenni
	  bizonyos beállításokat.  Erre több
	  mód is kínálkozik.  Egyik ilyen
	  lehetõség az, ha belépünk a port
	  könyvtárába és kiadjuk a
	  <command>make config</command>
	  parancsot, amivel lényegében ismét
	  elõcsaljuk a beállításokat
	  összefoglaló menüt.  Másik ilyen
	  lehetõség a <command>make
	  showconfig</command>
	  alkalmazása, amivel a porthoz tartozó
	  összes beállítást tudjuk egyszerre
	  megjeleníteni.  Ezek mellett még
	  használható a <command>make
	  rmconfig</command> parancs is, amivel
	  törölni tudjuk az összes eddigi
	  beállítást és így
	  újrakezdhetjük a port
	  konfigurációját.  Ezek és a
	  többi ilyen opció a &man.ports.7; man oldalon
	  kerül bõvebb kifejtésre.</para>

      </sect3>
    </sect2>

    <sect2 xml:id="ports-removing">
      <title>A portok eltávolítása</title>

      <indexterm>
	<primary>portok</primary>
	<secondary>eltávolítás</secondary>
      </indexterm>

      <para>Most már tudjuk, miként lehet portokat
	telepíteni, azonban valószínûleg
	még az is érdekelhet minket, hogy miként
	kell ezeket eltávolítani abban az esetben, ha
	például késõbb meggondolnánk
	magunkat velük kapcsolatban.  A korábban
	telepített példaportot fogjuk
	eltávolítani (a figyelmetlenek
	kedvéért megemlítjük, hogy ez az
	<command>lsof</command> volt).  A portok
	eltávolítása teljesen egybevág a
	csomagokéval (errõl a <link linkend="packages-using">csomagokról szóló
	részben</link> beszéltünk), mivel ekkor is
	használhatjuk a &man.pkg.delete.1; parancsot:</para>

      <screen>&prompt.root; <userinput>pkg_delete lsof-4.57</userinput></screen>

    </sect2>

    <sect2 xml:id="ports-upgrading">
      <title>A portok frissítése</title>

      <indexterm>
	<primary>portok</primary>
	<secondary>frissítés</secondary>
      </indexterm>

      <para>Elõször is a &man.pkg.version.1; parancs
	felhasználásával listázzuk ki azokat
	a portokat, amik felett már eljárt az idõ
	és a Portgyûjteményben
	található belõlük újabb
	verzió:</para>

      <screen>&prompt.root; <userinput>pkg_version -v</userinput></screen>

      <sect3 xml:id="ports-file-updating">
	<title>A <filename>/usr/ports/UPDATING</filename>
	  állomány</title>

	<para>Miután frissítettük a
	  Portgyûjteményünket, de még
	  mielõtt megpróbálnánk
	  akármelyik portot is frissíteni, érdemes
	  egy pillantást vetnünk a
	  <filename>/usr/ports/UPDATING</filename>
	  állományra.  Itt megtalálhatóak
	  azok a problémák és a hozzájuk
	  tartozó lépések, amelyekkel a
	  felhasználóknak a portok
	  frissítése során szembe kell
	  nézniük, beleértve az
	  állományformátumok, a
	  konfigurációs állományok
	  helyének megváltozását vagy
	  egyéb olyan módosításokat, amik a
	  korábbi verziókkal
	  összeférhetetlenséget
	  szülhetnek.</para>

	<para>Amennyiben az <filename>UPDATING</filename>
	  állomány tartalma ellentmondana az itt
	  olvasottakkal, mindig az <filename>UPDATING</filename>
	  állományban leírtak az
	  irányadóak.</para>

      </sect3>

      <sect3 xml:id="portupgrade">
	<title>Portok frissítése a
	  <application>portupgrade</application>
	  használatával</title>

	<indexterm><primary>portupgrade</primary></indexterm>

	<para>A <application>portupgrade</application> nevû
	  segédprogramot a portok egyszerûbb
	  frissítésére találták ki,
	  és a <package>ports-mgmt/portupgrade</package> portban
	  található meg.  A <command>make
	  install clean</command> paranccsal
	  bármelyik más porthoz hasonlóan
	  telepíthetjük:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/ports-mgmt/portupgrade</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

	<para>A <command>pkgdb -F</command> paranccsal
	  fésültessük át a telepített
	  portok listáját, és javítsuk az
	  általa jelentett ellentmondásokat.
	  Érdemes rendszeresen elvégezni ezt,
	  lehetõleg minden frissítés
	  elõtt.</para>

	<para>Miután kiadtuk a <command>portupgrade -a</command>
	  parancsot, a <application>portupgrade</application>
	  nekilát frissíteni az összes elavult portot
	  a rendszerünkben.  Ha minden egyes
	  frissítést külön meg szeretnénk
	  erõsíteni, használjuk a <option>-i</option>
	  kapcsolót is.</para>

	<screen>&prompt.root; <userinput>portupgrade -ai</userinput></screen>

	<para>Ha nem akarjuk az összes portot frissíteni,
	  csupán egy bizonyos alkalmazásét,
	  használjuk a <command>portupgrade
	  pkgname</command>
	  paraméterezést.  A <option>-R</option>
	  kapcsoló megadásával a
	  <application>portupgrade</application> elõször
	  frissíti az adott alkalmazás
	  függõségeit.</para>

	<screen>&prompt.root; <userinput>portupgrade -R firefox</userinput></screen>

	<para>Ha a mûvelet során csomagokat
	  kívánunk használni portok helyett, adjuk
	  meg a <option>-P</option> kapcsolót.  Ennek
	  révén a <application>portupgrade</application>
	  megkeresi a csomagokat a <envar>PKG_PATH</envar>
	  környezeti változóban felsorolt
	  könyvtárakban vagy ha itt nem találja,
	  letölti ezeket egy távoli szerverrõl.
	  Amennyiben a csomagokat sem helyben, sem pedig a távoli
	  szerveren nem találja, a
	  <application>portupgrade</application> helyettük portokat
	  fog használni.  Ilyenkor a portok
	  használatát a <option>-PP</option>
	  kapcsoló beállításával
	  lehet elkerülni:</para>

	<screen>&prompt.root; <userinput>portupgrade -PP gnome2</userinput></screen>

	<para>Csak a terjesztési állományok (vagy a
	  <option>-P</option> esetén csomagok)
	  letöltéséhez használjuk a
	  <option>-F</option> kapcsolót.  Mindezekrõl
	  részletesebben a &man.portupgrade.1; man oldalon
	  olvashatunk.</para>

      </sect3>

      <sect3 xml:id="portmanager">
	<title>Portok frissítése a
	  <application>Portmanager</application>
	  használatával</title>

	<indexterm><primary>portmanager</primary></indexterm>

	<para>A <application>Portmanager</application> egy másik
	  hasznos segédprogram a portok könnyû
	  frissítéséhez.  A <package>ports-mgmt/portmanager</package> porton
	  keresztül érhetõ el:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/ports-mgmt/portmanager</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

	<para>Használatával az összes
	  telepített port egyetlen paranccsal
	  frissíthetõ:</para>

	<screen>&prompt.root; <userinput>portmanager -u</userinput></screen>

	<para>Ha a <application>Portmanager</application> minden egyes
	  lépését külön meg
	  kívánjuk erõsíteni, akkor a
	  <option>-ui</option> kapcsolókat se felejtsük el
	  megadni.  A <application>Portmanager</application> emellett
	  új portok telepítésére is
	  használható.  Eltérõen a
	  <command>make install clean</command> parancsban
	  megszokottaktól, a kiválasztott port összes
	  függõségét még a
	  fordítás és a telepítés
	  elõtt fogja frissíteni.</para>

	<screen>&prompt.root; <userinput>portmanager x11/gnome2</userinput></screen>

	<para>Ha bármilyen gondot tapasztalnánk a
	  kiválasztott port függõségeit
	  illetõen, a <application>Portmanager</application>t
	  felkérhetjük az összes
	  függõség helyes sorrendben
	  történõ
	  újrafordítására.  Amikor
	  befejezte, a problémás portot is újra
	  létrehozza.</para>

	<screen>&prompt.root; <userinput>portmanager graphics/gimp -f</userinput></screen>

	<para>Bõvebb információkért
	  lásd &man.portmanager.1;.</para>

      </sect3>

      <sect3>
	<title>Portok frissítése a
	  <application>Portmaster</application>
	  használatával</title>

	<indexterm><primary>portmaster</primary></indexterm>

	<para>A <application>Portmaster</application> szintén a
	  portok frissítésére alkalmas
	  segédprogram.  A <application>Portmaster</application>
	  esetében a hangsúly az
	  <quote>alaprendszerben</quote> is megtalálható
	  eszközök használatán van (tehát
	  nem függ semmilyen más porttól) és a
	  <filename>/var/db/pkg/</filename>
	  könyvtárban található
	  információk alapján dönti el, hogy
	  milyen portokat kell frissítenie.  A <package>ports-mgmt/portmaster</package> portból
	  érhetõ el:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/ports-mgmt/portmaster</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

	<para>A <application>Portmaster</application> a portokat az
	  alábbi négy kategória
	  valamelyikébe sorolja be:</para>

	<itemizedlist>
	  <listitem>
	    <para>Gyökér (root) portok (nem függenek
	      semmitõl, semmi sem függ tõlük)</para>
	  </listitem>
	  <listitem>
	    <para>Törzs (trunk) portok (nem függenek
	      semmitõl, de mások függenek
	      tõlük)</para>
	  </listitem>
	  <listitem>
	    <para>Ág (branch) portok (vannak
	      függõségeik és mások is
	      függenek tõlük)</para>
	  </listitem>
	  <listitem>
	    <para>Levél (leaf) portok (vannak
	      függõségeik, de semmi sem függ
	      tõlük)</para>
	  </listitem>
	</itemizedlist>

	<para>A következõ paranccsal le tudjuk kérni az
	  összes telepített portot és az
	  <option>-L</option> kapcsolóval
	  frissítéseket keresni hozzájuk:</para>

<screen>&prompt.root; <userinput>portmaster -L</userinput>
===&gt;&gt;&gt; Root ports (No dependencies, not depended on)
===&gt;&gt;&gt; ispell-3.2.06_18
===&gt;&gt;&gt; screen-4.0.3
        ===&gt;&gt;&gt; New version available: screen-4.0.3_1
===&gt;&gt;&gt; tcpflow-0.21_1
===&gt;&gt;&gt; 7 root ports
...
===&gt;&gt;&gt; Branch ports (Have dependencies, are depended on)
===&gt;&gt;&gt; apache-2.2.3
        ===&gt;&gt;&gt; New version available: apache-2.2.8
...
===&gt;&gt;&gt; Leaf ports (Have dependencies, not depended on)
===&gt;&gt;&gt; automake-1.9.6_2
===&gt;&gt;&gt; bash-3.1.17
        ===&gt;&gt;&gt; New version available: bash-3.2.33
...
===&gt;&gt;&gt; 32 leaf ports

===&gt;&gt;&gt; 137 total installed ports
        ===&gt;&gt;&gt; 83 have new versions available
</screen>

	<para>Az összes telepített port egyetlen
	  egyszerû paranccsal frissíthetõ:</para>

	<screen>&prompt.root; <userinput>portmaster -a</userinput></screen>

	<note>
	  <para>A <application>Portmaster</application>
	    alapértelmezés szerint minden egyes
	    törlendõ korábbi portról
	    biztonsági másolatot készít.
	    Amikor az új változat telepítése
	    sikeresen lezajlott, akkor a
	    <application>Portmaster</application> ezt a másolatot
	    megsemmisíti.  A <option>-b</option>
	    paraméterrel azonban megkérhetjük, hogy
	    ne törölje le a biztonsági mentést.
	    Az <option>-i</option> megadásával a
	    <application>Portmaster</application> interaktív
	    módban indul el, és minden port
	    frissítése elõtt a
	    felhasználó
	    megerõsítését fogja
	    kérni.</para>
	</note>

	<para>Amennyiben valamilyen hiba lép fel a
	  frissítés folyamán, az
	  <option>-f</option> opció megadásával
	  kérhetjük az összes port
	  frissítését és
	  újrafordítását is:</para>

	<screen>&prompt.root; <userinput>portmaster -af</userinput></screen>

	<para>A <application>Portmaster</application>
	  használatával új portokat is fel tudunk
	  telepíteni a rendszerre úgy, hogy azok
	  függõségeit is igyekszik frissíteni a
	  lefordításuk elõtt:</para>

	<screen>&prompt.root; <userinput>portmaster shells/bash</userinput></screen>

	<para>A további részleteket a &man.portmaster.8;
	  man oldalon találjuk.</para>

      </sect3>
    </sect2>

    <sect2 xml:id="ports-disk-space">
      <title>A portok tárigénye</title>

      <indexterm>
	<primary>portok</primary>
	<secondary>tárigény</secondary>
      </indexterm>

      <para>A Portgyûjtemény idõvel egyre több
	helyet fog elfoglalni a merevlemezünkön.
	Miután sikeresen létrehoztunk és
	telepítettünk egy szoftvert a
	hozzá tartozó portból, érdemes mindig
	eltakarítanunk magunk után a <filename>work</filename> könyvtárban menet
	közben keletkezett átmeneti
	állományokat a <command>make
	clean</command> parancs
	használatával.  Az egész
	Portgyûjteményt egyetlen mozdulattal ezzel a
	paranccsal tudjuk végigsepregetni:</para>

      <screen>&prompt.root; <userinput>portsclean -C</userinput></screen>

      <para>Az idõ elõrehaladtával a <filename>distfiles</filename> könyvtárban
	is rengeteg régi forrás tud felhalmazódni.
	Ezeket eltávolíthatjuk kézzel, vagy az
	alábbi parancs segítségével
	törölhetjük az összes olyan
	terjesztési állományt, amelyekre már
	egyetlen port sem hivatkozik:</para>

      <screen>&prompt.root; <userinput>portsclean -D</userinput></screen>

      <para>Vagy törölhetjük az összes olyan
	terjesztési állományt, amelyre egyetlen
	pillanatnyilag feltelepített port sem hivatkozik a
	rendszerünkben:</para>

      <screen>&prompt.root; <userinput>portsclean -DD</userinput></screen>

      <note>
	<para>A <command>portsclean</command> segédprogram a
	  <application>portupgrade</application> programcsomag
	  része.</para>
      </note>

      <para>Ne felejtsük el eltávolítani azokat a
	portokat, amikre már nincs szükségünk a
	továbbiakban.  Ebben a feladatban egy jól
	használható segédeszköz lehet a
	segítségünkre, a <package>ports-mgmt/pkg_cutleaves</package> port.</para>

    </sect2>
  </sect1>

  <sect1 xml:id="ports-nextsteps">
    <title>Telepítés utáni teendõk</title>

    <para>Az új alkalmazás feltelepítése
      után minden bizonnyal szeretnénk elolvasni a
      hozzá társított dokumentációt,
      az egyedi beállításainknak megfelelõen
      módosítani a konfigurációs
      állományokat, engedélyezni a
      rendszerindítás során
      történõ automatikus
      indítását (ha démonról lenne
      szó) és így tovább.</para>

    <para>Az egyes alkalmazások
      beállításához elvégzendõ
      lépések nyilvánvalóan
      egyedenként eltérõek.  Azonban tudunk
      szolgálni néhány általános
      tanáccsal válaszként az ilyenkor
      felmerülõ <quote>Na és akkor most mi
      legyen?</quote> kérdésre:</para>

    <itemizedlist>
      <listitem>
	<para>Kérdezzük meg a &man.pkg.info.1;
	  programtól, milyen állományok és
	  hova kerültek fel a telepítés során.
	  Például, ha a SzuperCsomag 1.0.0-át
	  raktunk fel, akkor a</para>

	<screen>&prompt.root; <userinput>pkg_info -L SzuperCsomag-1.0.0 | less</userinput></screen>

	<para>parancs kilistázza az összes
	  állományt, amit a csomagból felraktunk.
	  Ezek közül leginkább a
	  <filename>man/</filename> könyvtárban
	  levõekre figyeljünk, mivel ezek lesznek az
	  alkalmazás man oldalai.  Ehhez hasonlóan az
	  <filename>etc/</filename> könyvtárban a
	  konfigurációs állományok és
	  a <filename>doc/</filename> könyvtárban pedig a
	  nagyobb lélegzetvételû
	  dokumentációk foglalnak helyet.</para>

	<para>Ha nem emlékszünk pontosan rá, hogy az
	  alkalmazások melyik verzióját is
	  telepítettük, a</para>

	<screen>&prompt.root; <userinput>pkg_info | grep -i SzuperCsomag</userinput></screen>

	<para>alakú parancs megkeresi az összes olyan
	  csomagot, aminek a nevében szerepel a
	  <replaceable>SzuperCsomag</replaceable>
	  szövegrészlet.  A fenti példában
	  természetesen igény szerint változtassuk
	  meg a <replaceable>SzuperCsomag</replaceable> szöveget a
	  tényleges csomag nevére.</para>
      </listitem>

      <listitem>
	<para>Ahogy sikerült megtalálnunk az
	  alkalmazáshoz tartozó man oldalakat, lapozzuk
	  fel ezeket a &man.man.1; segítségével.
	  Ugyanígy nézzük át a
	  mellékelt minta konfigurációs
	  állományokat és az összes
	  elérhetõ dokumentációt.</para>
      </listitem>

      <listitem>
	<para>Ha az alkalmazásnak van saját honlapja,
	  kutassunk ott is információk után,
	  olvassuk el a gyakran ismételt kérdéseket
	  és így tovább.  Ha nem tudnánk
	  pontosan a honlap címét, a</para>

	<screen>&prompt.root; <userinput>pkg_info SzuperCsomag-1.0.0</userinput></screen>

	<para>kimenetébõl könnyen
	  elõkeríthetõ.  Itt egy
	  <literal>WWW:</literal> kezdetû sort kell keresnünk
	  (már amennyiben létezik), amit az
	  alkalmazás honlapjának címe kell
	  kövessen.</para>
      </listitem>

      <listitem>
	<para>A rendszerrel együtt indítandó portok
	  (ilyenek többek közt az internetes
	  szolgáltatások), általában a
	  <filename>/usr/local/etc/rc.d</filename>
	  könyvtárba rakják a saját
	  indítószkriptjüket.  Érdemes
	  leellenõrizni ezt a szkriptet és az
	  igényeinknek megfelelõen módosítani,
	  átnevezni.  A <link linkend="configtuning-starting-services">Szolgáltatások
	  indítása</link> címû szakaszban ezt
	  részleteiben is megismerhetjük.</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 xml:id="ports-broken">
    <title>Teendõ a sérült portokkal</title>

    <para>Ha véletlenül ráakadnánk egy olyan
      portra, ami nem mûködik megfelelõen,
      nagyjából a következõket tudjuk
      tenni:</para>

    <orderedlist>
      <listitem>
	<para>Derítsük ki a <link xlink:href="&url.base;/support.html#gnats">Hibajelentések
	  adatbázisá</link>ból, hogy
	  készül-e már javítás az adott
	  porthoz.  Ha igen, akkor annak befejezése után
	  már képesek leszünk
	  használni.</para>
      </listitem>

      <listitem>
	<para>Kérjük meg a port
	  karbantartóját, hogy segítsen.  A
	  karbantartó elérhetõségének
	  felderítéséhez gépeljük be a
	  <command>make maintainer</command>
	  parancsot, vagy keressük meg a
	  <filename>Makefile</filename> állományban a
	  karbantartó e-mail címét.  Ne
	  felejtsük el neki megemlíteni a levélben a
	  port nevét és verzióját (vagyis
	  mindenképpen küldjük el a
	  <literal>&dollar;FreeBSD:</literal> sort a
	  <filename>Makefile</filename>
	  állományból) és a parancs
	  kiadásától a hiba
	  felbukkanásáig tartó kimenetet.</para>

	<note>
	  <para>Némely portokat nem
	    egyedülálló személyek tartanak
	    karban, hanem egy <link xlink:href="&url.articles.mailing-list-faq.en;/article.html">
	    levelezési lista</link>.  A legtöbbjük
	    neve, ha nem is mindé, nagyjából
	    ilyen alakú: <email role="nolink">freebsd-<replaceable>listanév</replaceable>@FreeBSD.org</email>.
	    Egy ilyen jellegû kérdés
	    megfogalmazása során ezt is vegyük
	    figyelembe!</para>

	  <para>Kifejezetten a <email role="nolink">ports@FreeBSD.org</email>
	    karbantartóval rendelkezõ portoknak nincs
	    rendes gazdája.  A hozzájuk
	    kapcsolódó javítások és
	    mindenféle segítség, ötlet
	    errõl a levelezési listáról
	    érkeznek.  Ilyen esetekben számítunk
	    az önkéntes segítõkre!</para>
	</note>

	<para>Ha nem kapunk semmilyen választ, a hiba
	  bejelentésére használhatjuk a
	  &man.send-pr.1; programot is (errõl bõvebben
	  lásd a <link xlink:href="&url.articles.problem-reports.en;/article.html">&os;-s
	  hibajelentések írása</link>
	  címû cikket).</para>
      </listitem>

      <listitem>
	<para>Javítsuk meg mi magunk!  A <link xlink:href="&url.books.porters-handbook.en;/index.html">porterek
	  kézikönyve</link> részletesen taglalja a
	  <quote>portok</quote> belsõ
	  felépítését, így onnan
	  elindulva akár magunktól is meg tudunk
	  javítani egy esetlegesen sérült portot,
	  vagy be is küldhetjük a sajátunkat!</para>
      </listitem>

      <listitem>
	<para>Töltsük le a porthoz tartozó csomagot a
	  hozzánk legközelebb levõ FTP oldalról.
	  A <quote>központi</quote> csomaggyûjtemény az
	  <systemitem class="fqdomainname">ftp.FreeBSD.org</systemitem> címen, a
	  <link xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/">packages
	  nevû könyvtárban</link>
	  található, de mielõtt ide
	  fordulnánk, nézzük meg a hozzánk
	  <link xlink:href="http://mirrorlist.FreeBSD.org/">legközelebb
	  levõ tükörszervert</link> is!  Ha egy csomagot
	  így telepítünk, akkor több
	  eséllyel fog mûködni és
	  ráadásul még jóval gyorsabb is.  A
	  csomag telepítésére használjuk a
	  &man.pkg.add.1; programot.</para>
      </listitem>
    </orderedlist>

  </sect1>
</chapter>
