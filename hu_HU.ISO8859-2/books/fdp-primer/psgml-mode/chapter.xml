<?xml version="1.0" encoding="iso-8859-2"?>
<!-- Copyright (c) 1998, 1999 Nik Clayton, All rights reserved.

     Redistribution and use in source (SGML DocBook) and 'compiled' forms
     (SGML HTML, PDF, PostScript, RTF and so forth) with or without
     modification, are permitted provided that the following conditions
     are met:

      1. Redistributions of source code (SGML DocBook) must retain the above
         copyright notice, this list of conditions and the following
         disclaimer as the first lines of this file unmodified.

      2. Redistributions in compiled form (transformed to other DTDs,
         converted to PDF, PostScript, RTF and other formats) must reproduce
         the above copyright notice, this list of conditions and the
         following disclaimer in the documentation and/or other materials
         provided with the distribution.

     THIS DOCUMENTATION IS PROVIDED BY NIK CLAYTON "AS IS" AND ANY EXPRESS OR
     IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
     OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
     DISCLAIMED. IN NO EVENT SHALL NIK CLAYTON BE LIABLE FOR ANY DIRECT,
     INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
     (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
     SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
     HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
     STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
     ANY WAY OUT OF THE USE OF THIS DOCUMENTATION, EVEN IF ADVISED OF THE
     POSSIBILITY OF SUCH DAMAGE.

     $FreeBSD$
-->
<!-- The FreeBSD Hungarian Documentation Project
     Translated by: PALI, Gabor <pgj@FreeBSD.org>
     %SOURCE%  en_US.ISO8859-1/books/fdp-primer/psgml-mode/chapter.xml
     %SRCID%   1.11
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="psgml-mode" xml:lang="hu">
  <title>Az <literal>sgml-mode</literal> használata az
    <application>Emacs</application>
    szövegszerkesztõben</title>

  <para>Az <application>Emacs</application> és
    <application>XEmacs</application> újabb változataihoz
    tartozik egy <literal>psgml</literal> nevû, nagyon hasznos
    csomag (a Portgyûjteménybõl a <package>editors/psgml</package> portból
    telepíthetjük fel).  Ez a
    kiegészítés vagy az <filename>.xml</filename>
    állományok megnyitásakor töltõdik be
    automatikusan, vagy pedig az <command>M-x sgml-mode</command>
    parancs begépelésével.
    Általánosságban véve ez az SGML
    állományok és a bennük
    található elemek és tulajdonságok
    szerkesztésére alkalmas mód.</para>

  <para>Az alábbiakban bemutatunk néhány olyan
    alapvetõ parancsot ebben a módban, amelyekkel
    könnyebbé válik a különbözõ
    SGML dokumentumok, többek közt a kézikönyv
    szerkesztése.</para>

  <variablelist>
    <varlistentry>
      <term><command>C-c C-e</command></term>

      <listitem>
	<para>Meghívja az
	  <function>sgml-insert-element</function> függvényt.
	  Ekkor meg kell adnunk az adott pontra beillesztendõ elem
	  nevét.  Itt a <keycap>Tab</keycap>
	  lenyomásával kérhetjük a név
	  kiegészítését, az adott ponton
	  érvénytelen elemek neveit ilyenkor nem
	  érhetjük el.</para>

	<para>A szövegbe ekkor bekerülnek az elemhez
	  tartozó kezdõ- és
	  zárócímkék.  Amennyiben az elemhez
	  még tartoznak más egyéb
	  kötelezõ elemek is, akkor egyúttal ezek is
	  beszúródnak.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><command>C-c =</command></term>

      <listitem>
	<para>Meghívja az
	  <function>sgml-change-element-name</function>
	  függvényt.  A parancs használatához
	  álljunk a módosítandó elembe.  A
	  végrehajtáshoz meg kell még adnunk azt
	  is, hogy mire akarjuk átírni az elem
	  nevét.  Ezután az érintett elem
	  kezdõ- és zárócímkéi
	  lecserélõdnek.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><command>C-c C-r</command></term>

      <listitem>
	<para>Meghívja az <function>sgml-tag-region</function>
	  függvényt.  A használatához
	  elõször jelöljük ki a szöveg egy
	  részét (vigyük a kurzort a
	  kijelölés kezdetéhez, adjuk ki a
	  <command>C-space</command> billentyûparancsot, vigyük a kurzort a
	  kijelölés végéhez és
	  ismét adjuk ki a <command>C-space</command> parancsot).
	  Ezután meg kell adnunk még a bejelölt
	  rész jelöléséhez használni
	  kívánt elemet.  Ennek
	  eredményeképpen végül a
	  kijelölt szakasz elejére és
	  végére bekerül az adott elem kezdõ-
	  és zárócímkéje.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><command>C-c -</command></term>

      <listitem>
	<para>Meghívja az <function>sgml-untag-element</function>
	  függvényt.  Álljunk a kurzorral az
	  eltávolítani kívánt elem
	  kezdõ- vagy
	  zárócímkéjére és
	  adjuk ki a parancsot.  Ekkor az elem kezdõ- és
	  zárócímkéi törlésre
	  kerülnek.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><command>C-c C-q</command></term>

      <listitem>
	<para>Meghívja az <function>sgml-fill-element</function>
	  függvényt.  Ennek hatására az elem,
	  amelyben állunk a kurzorral rekurzívan
	  feldolgozásra kerül (például
	  újraformázódik).  Ez a
	  változtatás a tördelést is
	  érinteni <emphasis>fogja</emphasis>, tehát
	  például még
	  <tag>programlisting</tag> elemek esetében is.
	  Ezért mindig csak körültekintéssel
	  alkalmazzuk!</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><command>C-c C-a</command></term>

      <listitem>
	<para>Meghívja az
	  <function>sgml-edit-attributes</function> függvényt.
	  Ekkor a legközelebbi befoglaló elemhez
	  megnyílik egy másik szerkesztési
	  pufferben az összes hozzá tartozó
	  tulajdonság, értékekkel együtt.  Itt
	  a <keycap>Tab</keycap> lenyomásával tudunk
	  lépkedni az egyes elemek között, a
	  <command>C-k</command> paranccsal lecserélni egy
	  meglevõ értéket egy újra, illetve a
	  <command>C-c C-c</command> paranccsal bezárni a puffert
	  és visszatérni az eredeti dokumentum
	  szerkesztéséhez.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><command>C-c C-v</command></term>

      <listitem>
	<para>Meghívja az <function>sgml-validate</function>
	  függvényt.  Felajánlja a jelenleg megnyitott
	  dokumentum mentését (amennyiben
	  szükséges) és ellenõrzi az SGML
	  szabvány szerinti
	  érvényességét.  A vizsgálat
	  eredménye egy új pufferbe kerül, ahol
	  szépen sorban végig tudjuk nézni az
	  összes hibát és javítani ezeket
	  menet közben.</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><command>C-c /</command></term>

      <listitem>
	<para>Meghívja az
	  <function>sgml-insert-end-tag</function>
	  függvényt.  Bezárja a kurzor elõtt
	  megkezdett elemet.</para>
      </listitem>
    </varlistentry>
  </variablelist>

  <para>Nyilvánvalóan ebben a módban még
    vannak további hasznos funkciók, de az
    említetteket használják a leggyakrabban.</para>

  <para>A Dokumentációs Projekten belüli
    munkához az <filename>.emacs</filename>
    állományban a következõ bejegyzéseket
    érdemes megadni a megfelelõ tördeléshez,
    elrendezéshez és sorszélességhez:</para>

  <programlisting>
    (defun local-sgml-mode-hook
      (setq fill-column 70
            indent-tabs-mode nil
            next-line-add-newlines nil
            standard-indent 4
            sgml-indent-data t)
      (auto-fill-mode t)
      (setq sgml-catalog-files '("/usr/local/share/xml/catalog")))
    (add-hook 'psgml-mode-hook
      '(lambda () (local-psgml-mode-hook)))
  </programlisting>
</chapter>
