<?xml version="1.0" encoding="iso-8859-2"?>
<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook XML V5.0-Based Extension//EN"
	"http://www.FreeBSD.org/XML/share/xml/freebsd50.dtd">
<!-- The FreeBSD Hungarian Documentation Project
     Translated by: PALI, Gabor <pgj@FreeBSD.org>
     %SOURCE%	en_US.ISO8859-1/articles/laptop/article.xml
     %SRCID%	1.25
-->
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="hu">
  <info><title>&os; laptopon</title>
    

    <abstract>
      <para>A &os; néhány buktatótól eltekintve
	remekül mûködik a legtöbb laptopon.  A
	következõkben nagyító alá vesszük
	azokat a problémákat, amelyek a &os; laptopon
	történõ futtatását
	akadályozhatják, az asztali
	számítógépektõl eltérõ
	hardverkövetelményekre vonatkozóan.</para>

      <para><emphasis>Fordította: Páli Gábor,
	utolsó ellenõrzés:
	2010.11.28.</emphasis></para>
    </abstract>

    <legalnotice xml:id="trademarks" role="trademarks">
      &tm-attrib.freebsd;
      &tm-attrib.linux;
      &tm-attrib.microsoft;
      &tm-attrib.general;
    </legalnotice>

    <pubdate>$FreeBSD$</pubdate>

    <releaseinfo>$FreeBSD$</releaseinfo>
  </info>

    <para>A &os;-t gyakran az Internetes kiszolgálók
      operációs rendszerének vélik, ám
      éppen ugyanolyan jól alkalmazható egy asztali
      számítógépre is, és ha egy laptopon
      kívánjuk használni, továbbra is
      élvezhetjük a korábban megszokott elõnyeit:
      rendszerezett felépítés, könnyû
      karbantarthatóság és
      frissíthetõség, a programok
      telepítéséhez kidolgozott port- és
      csomagkezelõ rendszer, és így tovább.
      (Az egyéb elõnyei, mint mondjuk a
      megbízhatóság, kiemelkedõ
      hálózati teljesítmény, nagy
      terhelés alatti teljesítmény, természetesen
      nem feltétlenül szembetûnõek egy laptopon.)
      Azonban a laptopokra történõ telepítése
      gyakran felvet olyan gondokat, amelyek az asztali
      számítógépek esetén nem jelennek meg,
      és ezért általában nem is kerülnek
      szóba (a laptopok ugyanis az asztali
      számítógépekénél jóval
      nagyobb mértékben &microsoft.windows;-ra vannak
      tervezve).  Ebben a leírásban szeretnénk
      megtárgyalni ezeket a problémákat.
      Néhányan ugyan már elõzetesen
      feljegyezték a &os;-vel kapcsolatos tapasztalataikat bizonyos
      modellek esetén olyan oldalakon, amelyek nem részei a &os;
      hivatalos dokumentációjának.  Emiatt könnyen
      elõfordulhat, hogy úgy is találhatunk hasznos
      információkat a témában, ha egyszerûen
      rákeresünk valamelyik népszerû
      keresõben a laptopunk modelljére és a
      <quote>&os;</quote> szóra.  Ezen kívül
      létezik még egy külön &os;-hez kialakított
      Internetes adatbázis, ahol a különféle laptopok
      hardveres problémáihoz találhatunk
      segítséget: ez <link xlink:href="http://laptop.bsdgroup.de/freebsd/">A &os; laptop
      kompabilitási lista</link>.</para>

    <para>Amennyiben szeretnénk felvenni a kapcsolatot más &os;
      laptop felhasználókkal, érdeklõdjünk a
      &a.mobile.name; listán.  Valamint megéri még
      ellátogatni <link xlink:href="http://tuxmobile.org/mobile_bsd.html">erre</link> a &os;-s
      laptopokkal foglalkozó oldalra is.	</para>

  <sect1 xml:id="xorg">
    <title>&xorg;</title>

    <para>Az <application>&xorg;</application> legújabb
      változatai képesek együttmûködni a
      napjainkban kapható laptopok videóvezérlõivel.
      Habár a hardveres gyorsítás nem
      feltétlenül támogatott, az általános
      SVGA módnak használhatónak kell lennie.</para>

    <para>Keressük meg a laptopunk kézikönyvében,
      hogy milyen videóvezérlõ található
      benne, majd vessük össze ezt az
      <application>&xorg;</application> dokumentációjával,
      amibõl kiderül, mennyire támogatja.  Ha kiemelten nem
      támogatná, használjuk az általános
      eszközt (<emphasis>generic device</emphasis>, de ne hagyjuk
      megtéveszteni magunkat semmi hasonlóval).  Mellesleg
      szerencsét próbálhatunk az
      <userinput>&xorg; -configure</userinput> paranccsal is, amely
      magától képes felderíteni
      konfigurációnk nagy részét.</para>

    <para>A legtöbb gondot egyébként a monitor
      beállítása okozza.  Az
      <application>&xorg;</application>-ra vonatkozó források
      többnyire kizárólag csak
      katódsugárcsöves megjelenítõkre
      összepontosítanak, így egy
      folyadékkristályos megjelenítõ
      esetén némileg trükkös lehet eltalálni a
      megfelelõ <literal>modeline</literal>
      beállításokat.  Elképzelhetõ
      egyébként, hogy szerencsénk van, és
      egyáltalán nem is kell megadni modeline-t, vagy
      egyszerûen csak a megfelelõ <literal>HorizSync</literal>
      és <literal>VertRefresh</literal>
      értéktartományokat kell behangolni.  Ha azonban
      ezek sem mûködnének, a legjobb, amit ilyenkor
      tehetünk, hogy további forrásokat nézünk
      át az Interneten a helyes beállítások
      után keresve (ezek gyakorta &linux;-os oldalak, de ez a mi
      esetünkben most nem számít, hiszen ugyanazt az
      <application>&xorg;</application>-ot használja mind a két
      rendszer) és bemásoljuk a konfigurációs
      állományba a mienkhez hasonló hardverre
      talált modeline beállításokat.</para>

    <para>A laptopok legtöbbjét a pozícionáló
      eszközeiken két gombbal szállítják, ami
      eléggé problémás tud lenni az X esetén
      (tekintettel arra, hogy a középsõ gombot bevett
      módon szövegek másolására
      használják), ennek feloldására be lehet
      állítani úgy az X-et, hogy a bal és jobb gomb
      egyszerre történõ lenyomása helyettesítse
      a középsõ gombot.  Ehhez adjuk meg a</para>

    <programlisting>Option "Emulate3Buttons"</programlisting>

    <para>sort az <filename>xorg.conf</filename> állományban, az
      <literal>InputDevice</literal>szekcióban.</para>
  </sect1>

  <sect1 xml:id="modems">
    <title>Modem</title>

    <para>A laptopokba általában szerelnek belsõ
      (beépített, integrált) modemeket is.  Sajnos, ez
      az esetek döntõ részében valamilyen
      <quote>winmodem</quote>, ahol a tényleges funkciókat
      szoftveres úton valósítják meg és csak
      a &windows;-hoz fejlesztett meghajtók képesek ezeket
      elérhetõvé tenni (ámbár
      néhány ilyen meghajtó már szárnyra
      kapott más operációs rendszerekhez is:
      például, ha <emphasis>Lucent LT</emphasis> chipsetes
      modemmel rendelkezünk, akkor elõfordulhat, hogy
      támogatja a <package>comms/ltmdm</package> port).
      Ilyenkor kénytelenek vagyunk egy külsõ modemet
      vásárolni: erre az egyik legjobb megoldás egy
      PC-kártyás (PCMCIA) modem (ld. lentebb), de a soros vagy
      USB-s modemek esetlegesen olcsóbbnak bizonyulhatnak.
      Általánosságban elmondható, hogy a
      hagyományos modemek (a nem winmodemek) minden
      nehézség nélkül
      használhatóak.</para>
  </sect1>

  <sect1 xml:id="pcmcia">
    <title>PCMCIA (PC-kártyás) eszköz</title>

    <para>A laptopokon általában találhatóak PCMCIA
      (vagy más néven PC-kártya)
      bõvítõhelyek, ezek &os; alatt eléggé
      jól támogatottak. Ellenõrizzük le a
      rendszerindulás során megjelenõ üzenetek
      között (a &man.dmesg.8; segítségével),
      hogy ezeket a rendszer megfelelõen észlelte-e
      (<filename>pccard0</filename>, <filename>pccard1</filename> stb.
      neveken kell megjelenniük a bõvítõhelyeknek,
      valamint az így csatlakoztatott eszközöknek
      <filename>pcic0</filename> stb. néven).</para>

    <para>A &os;&nbsp;4.X a 16 bites PCMCIA-kártyákat
      támogatja, a &os;&nbsp;5.X pedig már ismeri a
      16 és 32 bites (<quote>CardBus</quote>) kártyákat
      is.  A jelenleg támogatott kártyák adatbázisa
      fellelhetõ a <filename>/etc/defaults/pccard.conf</filename>
      állományban.  Vásárlás elõtt az
      itt szereplõ kártyákban érdemes gondolkodni.
      Az itt nem szereplõ kártyák mûködhetnek
      általános (<quote>generic</quote>) eszközként:
      a legtöbb (16 bites) modem ragyogóan
      használható, feltéve, hogy nem winmodem (ezek
      gyakran PC-kártya formájában is megjelennek,
      legyünk óvatosak).  Érdemes megemlíteni, hogy
      ha a kártyánkat általános modemként
      ismerte fel a rendszer, a <filename>pccard.conf</filename>
      állományban alapértelmezés szerinti
      található egy 10 másodperces
      késleltetés (hogy elkerüljük a fagyást
      egyes modemeken), ami sok esetben túlzott
      óvatosságra vall, így ha nem érezzük
      szükségét és van kedvünk
      állítgatni, csökkentsük ezt az idõt vagy
      akár teljesen ki is kapcsolhatjuk.</para>

    <para>Elõfordulhat, hogy a <filename>pccard.conf</filename> egyes
      részei átírásra szorulnak.
      Nézzük meg, hogy rendszerünkben melyik
      megszakítások (IRQ) vannak már használatban
      és töröljük õket.  Tehát ha mondjuk
      van egy hangkártyánk, amely az 5-ös IRQ-t
      használja, vegyük ki a felsorolásból a
      számát (máskülönben a rendszer
      lefagyásába futhatunk bele egy kártya
      behelyezése során).  Ellenõrizzük
      továbbá a szabad memória
      bõvítõhelyeket; ha a kártyánkat nem
      ismerte még fel a rendszer, próbáljuk meg
      átállítani egy másik megengedett
      értékre (ezek megtalálhatóak a
      &man.pccardc.8; kézikönyvében).</para>

    <para>Ha még nem futna, indítsuk el a &man.pccardd.8;
      daemont.  (Ha minden indításkor szeretnénk
      aktiválni, akkor tegyük bele az
      <filename>/etc/rc.conf</filename> állományba a
      <programlisting>pccard_enable="YES"</programlisting>
      sort.)  Innentõl kezdve minden behelyezett és kivett
      kártyát észlel a rendszerünk, amirõl a
      naplóban értesítést is ad.</para>

    <para>A &os;&nbsp;4.4 kiadása elõtt komolyabb
      változások történtek a pccard
      forrásában (pl. a megszakítások ISA-n
      keresztüli közvetítése olyan
      számítógépek esetén, ahol a &os; nem
      tudja használni a PCI BIOS-t).  Ha ezzel kapcsolatosan
      felmerülne bármilyen probléma, érdemes
      frissíteni a rendszert.</para>
   </sect1>

  <sect1 xml:id="power-management">
    <title>Energiagazdálkodás</title>

    <para>Sajnálatos módon ezek a funkciók
      egyáltalán nem mondhatóak jól
      támogatottnak &os; alatt.  Ha szerencsénk van, akkor egyes
      funkciók jól mûködnek, mások pedig
      egyáltalán nem.</para>

    <para>Hogy még bonyolultabb legyen a helyzet, két
      szabvány is létezik az energiagazdálkodásra:
      az APM és az ACPI, ahol az utóbbi bõvebb és
      kiterjedtebb szabvány, mint az elõbbi, de több
      problémát is felvet.</para>

    <para>Egyes laptopok az APM-et és az ACPI-t is
      támogatják (adott mértékig), mások
      pedig csak az egyik szabványt ismerik. Emiatt mind a kettõvel
      kísérletezni kell egy elfogadható
      energiagazdálkodási séma
      kialakításához.</para>

    <note><para>Egyszerre nem lehet bekapcsolni az APM-et és az ACPI-t,
      még akkor sem, ha a laptop mind a kettõt
      támogatja.</para></note>

    <sect2>
      <title>APM</title>

      <para>Az APM (Advanced Power Management) BIOS támogatást ad
	a különféle energiagazdálkodási
	jellemzõkhöz, mint mondjuk a készenléti
	állapot, hibernálás, a processzor
	órajelének csökkentése stb., amelyek
	el is érhetõek &os;&nbsp;4.X és &os;&nbsp;5.X
	alatt.</para>

      <para>Az APM támogatás bekapcsolásához
	fordíthatunk energiagazdálkodásra
	felkészített rendszermagot
	(<literal>device apm0</literal> &os;&nbsp;4.X esetén és
	<literal>device apm</literal> &os;&nbsp;5.X esetén) is, de
	a &os;&nbsp;5.X vonal rendszermagjához már létezik
	külön APM modul is, amelyet az indítás
	során tudunk betöltetni úgy, hogy
	<filename>/boot/loader.conf</filename> állományhoz
	hozzávesszük az <literal>apm_load="YES"</literal>
	sort.</para>

      <para>Ezen felül &os;&nbsp;5.X esetén még be kell
	írni a <literal>hint.apm.0.disabled="0"</literal> sort is a
	<filename>/boot/device.hints</filename>
	állományba.</para>

      <para>Az APM-et minden indítással együtt
	aktivizálhatjuk, ha megadjuk az
	<literal>apm_enable="YES"</literal> sort a
	<filename>/etc/rc.conf</filename> állományban.  Ezen
	kívül még hasznos lehet elindítani a
	&man.apmd.8; daemont is, méghozzá a
	<literal>apmd_enable="YES"</literal> sor
	hozzávételével.  Ez a daemon felügyeli a
	BIOS-nak küldött különbözõ
	APM-eseményeket, így készenléti
	állapotba tudjuk helyezni a laptopunkat gombnyomásra,
	vagy akár összecsukással is.</para>

      <para>A APM-parancsok a &man.apm.8; kézikönyvében
	szerepelnek.  Például, az <command>apm -b</command>
	paranccsal le lehet kérdezni az akkumulátor
	töltöttségét (vagy 255-öt ad vissza, ha
	nem támogatott ez funkció), a <command>apm -Z</command>
	energiatakarékos állapotba, ill. a
	<command>apm -z</command> (vagy a <command>zzz</command>) parancs
	készenléti állapotba helyezi a laptopot.  A
	számítógép kikapcsolásához
	és áramtalanításához a
	<command>shutdown -p</command> parancsot kell használni.
	Még egyszer megemlítjük, hogy a tárgyalt
	funkciók közül nem mindegyik mûködik
	megfelelõen vagy akár egyáltalán
	nem mûködik.</para>

      <para>Esetenként tapasztalhatjuk, hogy a laptop
	energiatakarékos vagy készenléti állapotba
	helyezése ugyan mûködik konzolon, de X alatt
	viszont nem (vagyis nem kapjuk vissza a képet).  Ha
	&os;&nbsp;5.X-et használunk, erre egy megoldás lehet,
	ha beletesszük a
	<literal>options SC_NO_SUSPEND_VTYSWITCH</literal> sort a
	rendszermagunk konfigurációs
	állományába és újrafordítjuk
	azt.  Másik lehetõség, hogy átváltunk
	egy virtuális konzolra (a
	<keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>Alt</keycap>
	  <keycap>F1</keycap>
	</keycombo>
	lenyomásával, vagy ugyanígy egy másik
	funkcióbillentyûvel), majd elindítjuk az
	&man.apm.8;-et.  Ha &man.apmd.8;-t használunk,
	automatizálhatjuk is ezt a rendszert a &man.vidcontrol.1;
	segítségével.  Ehhez nem kell mást
	tennünk, csupán átírni a
	<filename>/etc/apmd.conf</filename> állományt az
	alábbiak szerint:</para>

      <programlisting>apm_event SUSPENDREQ {
 exec "vidcontrol -s 1 &lt; /dev/console";
 exec "/etc/rc.suspend";
}

apm_event USERSUSPENDREQ {
 exec "vidcontrol -s 1 &lt; /dev/console";
 exec "sync &amp;&amp; sync &amp;&amp; sync";
 exec "sleep 1";
 exec "apm -z";
}

apm_event NORMRESUME, STANDBYRESUME {
 exec "/etc/rc.resume";
 exec "vidcontrol -s 9 &lt; /dev/console";
}</programlisting>
    </sect2>

    <sect2>
      <title>ACPI</title>

      <para>Az ACPI (Advanced Configuration and Power Management Interface)
	nem csak energiagazdálkodást tesz lehetõvé,
	hanem hardver-felderítést is (ezzel szinte
	feleslegessé téve a PnP-t és a PCI
	BIOS-t).  Az ACPI támogatása csak &os;&nbsp;5.X
	alatt érhetõ el, és alapértelmezés
	szerint aktív.  Ilyenkor tehát nem kell semmit se
	csinálni, hogy mûködésre bírjuk.  Az
	ACPI viselkedését az &man.acpiconf.8;-al tudjuk
	vezérelni.</para>

      <para>Sajnos azonban, a gyártók gyakorta hibás
	ACPI-implementációval szállítják a
	laptopokat, aminek következtében az ACPI
	bekapcsolása több gondot okoz, mint hasznot, egészen
	annyira, hogy akár a &os; bizonyos gépeken
	képtelen elindulni aktív ACPI
	támogatással.</para>

      <para>Ha az ACPI használata gondokat okoz, ajánlott
	érdeklõdni a laptopunk
	gyártójánál, hogy vajon
	készült-e ACPI-vel kapcsolatos BIOS-frissítés
	az utóbbi idõben.  Mivel a &os; ACPI
	implementációja is még gyerekcipõben
	jár, ezért érdemes még frissíteni a
	rendszerünket is, elképzelhetõ ugyanis, hogy a
	problémánkat azóta már
	megoldották.</para>

      <para>Az ACPI kikapcsolásához egyszerûen ki kell
	bõvíteni a <filename>/boot/device.hints</filename>
	állományt a <literal>hint.acpi.0.disabled="1"</literal>
	sorral.  Ha gondunk lenne egy ACPI-t használó gép
	indításával, ideiglenesen ki tudjuk kapcsolni az
	ACPI-t az indítás során aktiválható
	paranccsoron keresztül is, az <literal>unset acpi_load</literal>
	parancs kiadásával.  A &os;&nbsp;5.1-RELEASE
	kiadásától kezdve már egy
	rendszerindító menüben is kiválaszthatjuk,
	hogyan induljon a rendszer: itt az egyik menüpont az
	ACPI kikapcsolása.  Ekkor tehát az ACPI
	kikapcsolásához válasszuk a
        <guimenuitem>2. Boot &os; with ACPI disabled</guimenuitem>
	(2. A &os; indítása ACPI támogatás
	nélkül) pontot a menüben.</para>
    </sect2>

    <sect2>
      <title>A monitor energiagazdálkodása</title>

      <para>Az X ablakkezelõ rendszer (<application>&xorg;</application>)
	is tartalmaz energiagazdálkodást a
	megjelenítõ eszközök számára
	(ajánlott ezzel kapcsolatosan megnézni a &man.xset.1;
	man oldalt, rákeresve a <quote>dpms</quote> szóra).
	Valószínûleg ezt is hasznos lesz megismerni.
	Azonban vegyük figyelembe, hogy sokszor nem következetesen
	mûködik a laptopokon: elõfordulhat, hogy kikapcsolja
	ugyan a megjelenítõt, de nem kapcsolja ki
	a háttérvilágítást.</para>
    </sect2>
  </sect1>
</article>
