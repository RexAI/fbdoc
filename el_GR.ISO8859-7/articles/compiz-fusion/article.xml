<?xml version="1.0" encoding="iso-8859-7"?>
<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook XML V5.0-Based Extension//EN"
	"http://www.FreeBSD.org/XML/share/xml/freebsd50.dtd" [
<!ENTITY nvidia "nVidia">
]>
<!--

  Installing and Using compiz-fusion in FreeBSD

  The FreeBSD Greek Documentation Project

  %SOURCE%	en_US.ISO8859-1/articles/compiz-fusion/article.xml
  %SRCID%	1.6

-->
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="el">
  <info><title>Εγκατάσταση και χρήση του Compiz&nbsp;Fusion</title>
    

    <author><personname><firstname>Μανώλης</firstname><surname>Κιαγιάς</surname></personname><affiliation>
	<address><email>manolis@FreeBSD.org</email></address>
      </affiliation></author>

    <copyright>
      <year>2008</year>
      <holder role="mailto:manolis@FreeBSD.org">Μανώλης Κιαγιάς</holder>
    </copyright>

    <pubdate>$FreeBSD$</pubdate>

    <releaseinfo>$FreeBSD$</releaseinfo>

    <legalnotice xml:id="trademarks" role="trademarks">
      &tm-attrib.freebsd;
      &tm-attrib.general;
    </legalnotice>

    <abstract>
      <para>Η πιο πρόσφατη <quote>μόδα</quote> στον κόσμο του &linux; είναι
	αναμφίβολα τα τρισδιάστατα εφέ στο desktop.  Αν και η χρησιμότητα τους
	έχει αμφισβητηθεί, δεν παύουν να εντυπωσιάζουν και να παραμένουν
	συνέχεια στη δημοσιότητα.  Τα εφέ αυτά υλοποιούνται με τη βοήθεια
	διάφορων προγραμμάτων όπως τα
	<link xlink:href="http://compiz.org/"><application>Compiz</application></link>,
	<link xlink:href="http://www.beryl-project.org/"><application>Beryl</application></link>,
	και το πιο πρόσφατο <link xlink:href="http://www.compiz-fusion.org/"><application>Compiz&nbsp;Fusion</application></link>.
	Δεν χρειάζεται να στερείστε αυτά τα εφέ όταν χρησιμοποιείτε το &os;.
	Οι οδηγίες που ακολουθούν θα σας βοηθήσουν να εγκαταστήσετε και να
	ρυθμίσετε στο σύστημα σας τα προγράμματα που απαιτούνται για να
	έχετε τα πλέον πρόσφατα τρισδιάστατα εφέ που προσφέρει το
	<application>Compiz&nbsp;Fusion</application> χρησιμοποιώντας (αν
	χρειάζεται) και την κατάλληλη έκδοση των προγραμμάτων οδήγησης
	γραφικών της &nvidia;.</para>
    </abstract>
  </info>

  <sect1 xml:id="introduction">
    <title>Εισαγωγή</title>

    <para>H εγκατάσταση του <application>Compiz&nbsp;Fusion</application>
      από την συλλογή των Ports, είναι μια σχετικά απλή διαδικασία.
      Χρειάζονται, όμως, και κάποιες επιπλέον ρυθμίσεις, οι οποίες δεν
      περιγράφονται στην τεκμηρίωση του port.  Το άρθρο αυτό θα σας βοηθήσει
      να ρυθμίσετε τον <application>&xorg;</application> server για
      τρισδιάστατη λειτουργία, να ρυθμίσετε την &nvidia; κάρτα γραφικών σας,
      και τελικά να εγκαταστήσετε και να εκτελέσετε την εφαρμογή
      <command>compiz</command>.</para>

    <para>Αφού διαβάσετε αυτό το άρθρο, θα ξέρετε:</para>

    <itemizedlist>
      <listitem>
	<para>Πως να ρυθμίσετε το πιο πρόσφατο πρόγραμμα οδήγησης της &nvidia;
	  (αν απαιτείται) για το σύστημα σας.</para>
      </listitem>

      <listitem>
	<para>Πως να ρυθμίσετε το αρχείο <filename>xorg.conf</filename> για
	  να μπορέσετε να ενεργοποιήσετε τα τρισδιάστατα εφέ.</para>
      </listitem>

      <listitem>
	<para>Πως να εγκαταστήσετε και να ρυθμίσετε το
	  <application>Compiz&nbsp;Fusion</application> χρησιμοποιώντας την
	  συλλογή των Ports.</para>
      </listitem>

      <listitem>
	<para>Πως να αντιμετωπίσετε συνηθισμένα προβλήματα που αφορούν τα
	  τρισδιάστατα εφέ.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xml:id="nvidia-setup">
    <title>Ρύθμιση των Προγραμμάτων Οδήγησης της &nvidia; Για Το &os;</title>

    <para>Τα τρισδιάστατα εφέ απαιτούν αρκετή ισχύ επεξεργασίας από την
      κάρτα γραφικών σας.  Αν χρησιμοποιείτε κάποια κάρτα γραφικών που
      βασίζεται σε κυκλώματα της &nvidia;, θα πρέπει να εγκαταστήσετε και να
      ρυθμίσετε το πρόγραμμα οδήγησης που παρέχεται από την εταιρία για το
      &os;, χρησιμοποιώντας την έκδοση που είναι κατάλληλη για το σύστημα
      σας.  Αν χρησιμοποιείτε κάποια άλλη κάρτα, που όμως γνωρίζετε ότι μπορεί
      να ανταποκριθεί στις απαιτήσεις των εφέ, μπορείτε να παραλείψετε αυτή
      την ενότητα και να συνεχίσετε με την ρύθμιση του
      <filename>xorg.conf</filename>.</para>

    <sect2 xml:id="determine-driver">
      <title>Προσδιορίστε το σωστό πρόγραμμα οδήγησης</title>

      <para>Υπάρχουν διάφορες εκδόσεις των προγραμμάτων οδήγησης της &nvidia;
	στη συλλογή των ports.  Η επιλογή του σωστού προγράμματος για το
	σύστημα σας, εξαρτάται από το μοντέλο (και την παλαιότητα) της κάρτας
	γραφικών σας:</para>

      <itemizedlist>
	<listitem>
	  <para>Οι τελευταίες εκδόσεις των καρτών &nvidia;, υποστηρίζονται από
	    το port <package>x11/nvidia-driver</package>.</para>
	</listitem>
	<listitem>
	  <para>Κάρτες της &nvidia; που ανήκουν στις σειρές GeForce 2MX/3/4
	    υποστηρίζονται από τα προγράμματα οδήγησης της σειράς 96 τα οποία
	    διατίθενται μέσω του port
	    <package>x11/nvidia-driver-96xx</package>.</para>
	</listitem>
	<listitem>
	  <para>Ακόμα πιο παλιές κάρτες, όπως οι GeForce και RIVA TNT
	    υποστηρίζονται από τη σειρά 71 των προγραμμάτων οδήγησης, τα
	    οποία διατίθενται μέσω του port
	    <package>x11/nvidia-driver-71xx</package>.</para>
	</listitem>
      </itemizedlist>

      <para>Στην πραγματικότητα, η &nvidia; παρέχει λεπτομερείς πληροφορίες
	σχετικά με το ποια κάρτα υποστηρίζεται από ποιο πρόγραμμα οδήγησης.
	Οι πληροφορίες αυτές διατίθενται απευθείας από το δικτυακό τους τόπο:
	<uri xlink:href="http://www.nvidia.com/object/IO_32667.html">http://www.nvidia.com/object/IO_32667.html</uri>.</para>
    </sect2>

    <sect2 xml:id="install-driver">
      <title>Εγκατάσταση του προγράμματος οδήγησης της &nvidia;</title>

      <para>Αφού καθορίσετε το σωστό πρόγραμμα οδήγησης για την κάρτα σας,
	η εγκατάσταση είναι το ίδιο απλή με οποιοδήποτε άλλη εφαρμογή της
	συλλογής των ports.</para>

      <note>
	<para>Βεβαιωθείτε ότι έχετε ανανεώσει τη συλλογή των ports,
	  χρησιμοποιώντας τη μέθοδο που προτιμάτε (π.χ.
	  <application>csup</application>, <application>CVSup</application> ή
	  <application>portsnap</application>) πριν εγκαταστήσετε
	  οποιαδήποτε εφαρμογή από τα ports.  Τα προγράμματα οδήγησης των
	  καρτών γραφικών, καθώς και τα προγράμματα τρισδιάστατων εφέ, είναι
	  υπό συνεχή εξέλιξη και εμφανίζονται τακτικά νέες εκδόσεις.</para>
      </note>

      <para>Για παράδειγμα, για να εγκαταστήσετε το τελευταίο πρόγραμμα
	οδήγησης:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/x11/nvidia-driver</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

      <para>Το πρόγραμμα οδήγησης θα δημιουργήσει ένα άρθρωμα (module) για τον
	πυρήνα, το οποίο θα πρέπει να φορτωθεί στην εκκίνηση του συστήματος.
	Θα χρειαστεί να προσθέσετε την ακόλουθη γραμμή στο αρχείο
	<filename>/boot/loader.conf</filename>:</para>

      <programlisting>nvidia_load="YES"</programlisting>

      <note>
	<para>Μπορείτε να φορτώσετε το άρθρωμα απευθείας στον πυρήνα που
	  εκτελείται τη δεδομένη χρονική στιγμή χρησιμοποιώντας την εντολή
	  <command>kldload nvidia</command>, αλλά έχει παρατηρηθεί ότι οι
	  τελευταίες εκδόσεις του <application>&xorg;</application> δεν
	  λειτουργούν σωστά αν το πρόγραμμα οδήγησης δεν φορτωθεί κατά την
	  εκκίνηση του συστήματος.  Για το λόγο αυτό, σας συνιστούμε να
	  επανεκκινήσετε το σύστημα σας μετά την προσθήκη της καταχώρησης
	  στο αρχείο <filename>/boot/loader.conf</filename>.</para>
      </note>

      <para>Έχοντας φορτώσει το άρθρωμα στον πυρήνα, χρειάζεται μόνο μια μικρή
	αλλαγή σε μια γραμμή του αρχείου <filename>xorg.conf</filename> για να
	ενεργοποιήσετε το πρόγραμμα οδήγησης.</para>

      <para>Βρείτε την ακόλουθη γραμμή στο
	<filename>/etc/X11/xorg.conf</filename>:</para>

      <programlisting>Driver      "nv"</programlisting>

      <para>και αλλάξτε την σε:</para>

      <programlisting>Driver      "nvidia"</programlisting>

      <para>Όταν ξεκινήσετε το γραφικό περιβάλλον με το συνήθη τρόπο, θα δείτε
	την οθόνη χαιρετισμού της &nvidia;.  Όλα θα πρέπει να λειτουργούν
	κανονικά.  Σημειώστε ωστόσο, ότι στο σημείο αυτό δεν έχει ακόμα
	ρυθμιστεί το <application>&xorg;</application> για τρισδιάστατα εφέ.
	Η ρύθμιση αυτή περιγράφεται παρακάτω.</para>

      <note>
	<para>Αν και δεν είναι οπωσδήποτε απαραίτητο, μπορείτε επίσης να
	  εγκαταστήσετε τα ports
	  <package>x11/nvidia-xconfig</package> και
	  <package>x11/nvidia-settings</package>.  Το πρώτο
	  μπορεί να σας βοηθήσει να ρυθμίσετε το
	  <filename>/etc/X11/xorg.conf</filename> μέσω της γραμμής εντολών,
	  ενώ το δεύτερο θα σας επιτρέψει να αλλάζετε ρυθμίσεις στην οθόνη
	  μέσα από γραφικό περιβάλλον και ενώ εκτελείται το
	  <application>&xorg;</application>.</para>
      </note>
    </sect2>
  </sect1>

  <sect1 xml:id="xorg-configuration">
    <title>Ρύθμιση του <filename>xorg.conf</filename> για Τρισδιάστατα Εφέ</title>

    <para>Πριν εγκαταστήσετε και εκτελέσετε το
      <application>Compiz&nbsp;Fusion</application>, θα πρέπει να προσθέσετε
      μερικές ρυθμίσεις στο <filename>/etc/X11/xorg.conf</filename>:</para>

    <para>Προσθέστε τις ακόλουθες γραμμές για να ενεργοποιηθούν τα εφέ τύπου
      composite:</para>

    <programlisting>Section "Extensions"
Option         "Composite" "Enable"
EndSection</programlisting>

    <para>Εντοπίστε το τμήμα <quote>Screen</quote> το οποίο θα μοιάζει με το
      παρακάτω:</para>

    <programlisting>Section "Screen"
Identifier     "Screen0"
Device         "Card0"
Monitor        "Monitor0"
...</programlisting>

    <para>και προσθέστε τις δύο γραμμές που ακολουθούν (μπορείτε να τις
      βάλετε μετά την καταχώρηση <quote>Monitor</quote>):</para>

    <programlisting>DefaultDepth    24
Option         "AddARGBGLXVisuals" "True"</programlisting>

    <para>Εντοπίστε το <quote>Subsection</quote> το οποίο αναφέρεται στην
      επιθυμητή ανάλυση οθόνης.  Για παράδειγμα, αν θέλετε να χρησιμοποιήσετε
      ανάλυση 1280x1024, βρείτε την ενότητα που φαίνεται στο παράδειγμα.  Αν
      δεν υπάρχει ενότητα που να αναφέρεται στην επιθυμητή ανάλυση, μπορείτε
      να την προσθέσετε χειροκίνητα:</para>

    <programlisting>SubSection     "Display"
Viewport    0 0
Modes      "1280x1024"
EndSubSection</programlisting>

    <para>Για τη λειτουργία των εφέ, απαιτείται βάθος χρώματος 24bits.
      Αλλάξτε το παραπάνω ώστε να δείχνει:</para>

    <programlisting>SubSection     "Display"
Viewport    0 0
Depth       24
Modes      "1280x1024"
EndSubSection</programlisting>

    <para>Τέλος, επιβεβαιώστε ότι φορτώνονται τα αρθρώματα <quote>glx</quote>
      και <quote>extmod</quote> μέσα από το τμήμα
      <quote>Module</quote>:</para>

    <programlisting>Section "Module"
Load           "extmod"
Load           "glx"
...</programlisting>

    <note>
      <para>Αν έχετε εγκαταστήσει το port
	<package>x11/nvidia-xconfig</package>,
	μπορείτε να κάνετε τις περισσότερες από τις παραπάνω ρυθμίσεις
	δίνοντας τις ακόλουθες εντολές (ως root):</para>

      <screen>&prompt.root; <userinput>nvidia-xconfig --add-argb-glx-visuals</userinput>
&prompt.root; <userinput>nvidia-xconfig --composite</userinput>
&prompt.root; <userinput>nvidia-xconfig --depth=24</userinput></screen>

      <para>Αν θέλετε να δείτε όλες τις δυνατότητες του παραπάνω
        προγράμματος, δώστε την εντολή
        <command>nvidia-xconfig -A | more</command>.</para>
    </note>
  </sect1>

  <sect1 xml:id="compiz-fusion">
    <title>Εγκατάσταση και ρύθμιση Compiz&nbsp;Fusion</title>

    <para>Η εγκατάσταση του <application>Compiz&nbsp;Fusion</application>
      είναι το ίδιο απλή με οποιοδήποτε άλλο πρόγραμμα:</para>

    <screen>&prompt.root; <userinput>cd /usr/ports/x11-wm/compiz-fusion</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

    <para>Βεβαιωθείτε ότι επιλέξατε τα <quote>EXTRA</quote> plugins και το
      <quote>EMERALD</quote> window decorator από τη λίστα επιλογών που θα
      εμφανιστεί.  Αν χρησιμοποιείτε <application>GNOME</application>, ή έχετε
      εγκαταστήσει στο σύστημα σας υποστήριξη <command>gconf</command>,
      μπορείτε επίσης να επιλέξετε <quote>gconf support</quote>.  Με τον τρόπο
      αυτό, οι ρυθμίσεις των εφέ θα ενσωματωθούν με τις άλλες ρυθμίσεις που
      έχετε κάνει στο γραφικό περιβάλλον σας, και θα μπορείτε να τις δείτε
      χρησιμοποιώντας το <command>gconf-editor</command>.  Ωστόσο, το
      <application>Compiz&nbsp;Fusion</application>
      <emphasis>μπορεί</emphasis> να αποθηκεύσει τις ρυθμίσεις του και σε απλά
      αρχεία κειμένου, αν δεν επιθυμείτε τέτοιου είδους ολοκλήρωση.  Στην
      περίπτωση αυτή, θα δημιουργηθεί ο κατάλογος
      <filename>.compizconfig</filename> μέσα στον προσωπικό σας
      κατάλογο.</para>

    <para>Μετά το τέλος της εγκατάστασης, ξεκινήστε το γραφικό περιβάλλον και
      σε ένα τερματικό, δώστε (ως απλός χρήστης) τις ακόλουθες εντολές:</para>

    <screen>&prompt.user; <userinput>compiz --replace --sm-disable --ignore-desktop-hints ccp &amp;</userinput>
<userinput>&prompt.user; emerald --replace &amp;</userinput></screen>

    <para>Η οθόνη σας θα τρεμοπαίξει για λίγα δευτερόλεπτα, καθώς θα γίνεται
      αντικατάσταση του τρέχοντος διαχειριστή παραθύρων σας (π.χ.
      <application>Metacity</application> αν χρησιμοποιείτε περιβάλλον
      <application>GNOME</application>) από το
      <application>Compiz&nbsp;Fusion</application>.  Η εφαρμογή
      <application>Emerald</application> αναλαμβάνει τις διακοσμήσεις των
      παραθύρων (π.χ. τα πλήκτρα για κλείσιμο, μεγιστοποίηση, ελαχιστοποίηση,
      τις μπάρες τίτλων κ.ο.κ.).</para>

    <para>Μπορείτε να μετατρέψετε το παραπάνω σε ένα απλοϊκό script το οποίο
      να εκτελείται αυτόματα κατά την εκκίνηση του περιβάλλοντος (π.χ.
      προσθέτοντας το στο <quote>Sessions</quote> στο γραφικό περιβάλλον
      <application>GNOME</application>):</para>

    <programlisting>#! /bin/sh
compiz --replace --sm-disable --ignore-desktop-hints ccp &amp;
emerald --replace &amp;</programlisting>

    <para>Αποθηκεύστε το στον κατάλογο σας, για παράδειγμα με το όνομα
      <filename>start-compiz</filename> και δώστε του δικαιώματα
      εκτέλεσης:</para>

    <screen>&prompt.user; <userinput>chmod +x ~/start-compiz</userinput></screen>

    <para>Χρησιμοποιήστε έπειτα τα γραφικά εργαλεία για να το προσθέσετε στα
      προγράμματα εκκίνησης,
      <guimenuitem>Startup Programs</guimenuitem>
      (βρίσκεται στο <guimenuitem>System</guimenuitem>,
      <guimenuitem>Preferences</guimenuitem>,
      <guimenuitem>Sessions</guimenuitem> στο περιβάλλον εργασίας
      <application>GNOME</application>).</para>

    <para>Για να ρυθμίσετε όπως θέλετε τα εφέ, εκτελέστε (πάλι ως κανονικός
      χρήστης) την εφαρμογή
      <application>Compiz&nbsp;Config&nbsp;Settings&nbsp;Manager</application>:</para>

    <screen>&prompt.user; <userinput>ccsm</userinput></screen>

    <note>
      <para>Στο <application>GNOME</application>, μπορείτε να βρείτε την
	εφαρμογή αυτή στο μενού <guimenuitem>System</guimenuitem>,
	<guimenuitem>Preferences</guimenuitem>.</para>
    </note>

    <para>Αν επιλέξατε <quote>gconf support</quote> κατά τη μεταγλώττιση,
      θα μπορείτε επίσης να δείτε τις ρυθμίσεις σας μέσω του
      <command>gconf-editor</command>, στην ενότητα
      <literal>apps/compiz</literal>.</para>
  </sect1>

  <sect1 xml:id="compiz-troubleshooting">
    <title>Αντιμετώπιση προβλημάτων του Compiz&nbsp;Fusion</title>

    <para>Η ακόλουθη ενότητα καλύπτει συχνές ερωτήσεις που αφορούν
      προβλήματα κατά την εκτέλεση του
      <application>Compiz&nbsp;Fusion</application>.</para>

    <qandaset>
      <qandaentry>
	<question xml:id="no-decorations">
	  <para>Έχω εγκαταστήσει το
	    <application>Compiz&nbsp;Fusion</application>, και μετά την
	    εκτέλεση των εντολών που περιγράφετε, τα παράθυρα μου δεν έχουν
	    πλέον μπάρες τίτλων και πλήκτρα ελέγχου.  Που είναι το
	    λάθος;</para>
	</question>

	<answer>
	  <para>Το πιθανότερο είναι ότι σας λείπει κάποια ρύθμιση στο
	    <filename>/etc/X11/xorg.conf</filename>.  Ελέγξτε προσεκτικά το
	    αρχείο, και ειδικά τις καταχωρήσεις
	    <literal>DefaultDepth</literal>
	    και <literal>AddARGBGLXVisuals</literal>.</para>
	</answer>
      </qandaentry>

      <qandaentry>
	<question xml:id="xorg-crash">
	  <para>Όταν εκτελώ την εντολή για να ξεκινήσει το
	    <application>Compiz&nbsp;Fusion</application>, ο X server
	    τερματίζεται απότομα και επιστρέφω στην κονσόλα.  Που είναι το
	    λάθος;</para>
	</question>

	<answer>
	  <para>Αν ελέγξετε το αρχείο
	    <filename>/var/log/Xorg.0.log</filename>, θα δείτε πιθανόν
	    κάποια σφάλματα κατά την εκκίνηση του Χ.  Το πιο κοινό σφάλμα
	    είναι:</para>

	  <screen>(EE) NVIDIA(0):     Failed to initialize the GLX module; please check in your X
(EE) NVIDIA(0):     log file that the GLX module has been loaded in your X
(EE) NVIDIA(0):     server, and that the module is the NVIDIA GLX module.  If
(EE) NVIDIA(0):     you continue to encounter problems, Please try
(EE) NVIDIA(0):     reinstalling the NVIDIA driver.</screen>

	  <para>Αυτό συνήθως συμβαίνει μετά από κάποια αναβάθμιση της
	    εφαρμογής <application>&xorg;</application>.  Θα πρέπει να
	    επανεγκαταστήσετε το port
	    <package>x11/nvidia-driver</package> ώστε να
	    μεταγλωττιστεί από την αρχή και το άρθρωμα glx.</para>
	</answer>
      </qandaentry>
    </qandaset>
  </sect1>
</article>
