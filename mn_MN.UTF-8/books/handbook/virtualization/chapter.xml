<?xml version="1.0" encoding="utf-8"?>
<!--
     The FreeBSD Mongolian Documentation Project

     Original revision 41087

     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="virtualization">
  <info><title>Виртуалчлал</title>
    <authorgroup>
      <author><personname><firstname>Мюррей</firstname><surname>Стөүкли</surname></personname><contrib>Хувь нэмэр болгон оруулсан </contrib></author>
    </authorgroup>
    
    <authorgroup>
      <author><personname><firstname>Цагаанхүүгийн</firstname><surname>Ганболд</surname></personname><contrib>Орчуулсан  </contrib></author>
    </authorgroup>
  </info>

  

  <sect1 xml:id="virtualization-synopsis">
    <title>Ерөнхий агуулга</title>

    <para>Виртуалчлалын програм хангамж нь олон үйлдлийн системийг нэг компьютер дээр
	ажиллуулах боломжийг олгодог. PC-үүдэд зориулсан тийм програм хангамжууд
	нь виртуалчлалын програм хангамжийг ажиллуулж зочин үйлдлийн систем хэд л
	бол хэдийг дэмжих эх үйлдлийн систем байдаг.</para>

    <para>Энэ бүлгийг уншсаны дараа, та дараах зүйлсийг мэдэх болно:</para>

    <itemizedlist>
      <listitem>
	<para>Хост буюу эх үйлдлийн систем болон зочин үйлдлийн системийн
	ялгаа.</para>
      </listitem>

      <listitem>
        <para>&os;-г &intel; дээр суурилсан &apple; &macintosh; компьютер дээр
	хэрхэн суулгах талаар.</para>
      </listitem>

<!--
   Note:  There is no working/end-user ready Xen support for FreeBSD as of 07-2010.
       Hide all information regarding Xen under FreeBSD.

      <listitem>
	<para>&os;-г Линукс дээр <application>&xen;</application> ашиглан хэрхэн суулгах талаар.</para>
      </listitem>
-->
      <listitem>
	<para>&os;-г &microsoft.windows; дээр
	<application>Virtual PC</application> ашиглан хэрхэн суулгах талаар.</para>
      </listitem>

      <listitem>
	<para>Виртуалчлалын доор &os; системийг хамгийн сайн ажиллагаатайгаар
	хэрхэн тааруулах талаар.</para>
      </listitem>

    </itemizedlist>

    <para>Энэ бүлгийг уншихаасаа өмнө та дараах зүйлсийг гүйцэтгэх хэрэгтэй:</para>

    <itemizedlist>
      <listitem>
	<para><link linkend="basics">&unix; болон &os;-ийн үндсүүдийг</link> 
	  ойлгох.</para>
      </listitem>

      <listitem><para><link linkend="install">&os;-г хэрхэн суулгах</link> талаар 
        мэдэх.</para></listitem>

      <listitem><para><link linkend="advanced-networking">Сүлжээний холболтоо хэрхэн 
      </link> тохируулах талаар мэдэх.</para></listitem>

      <listitem><para><link linkend="ports">Нэмэлт гуравдагч програм хангамжуудыг 
        хэрхэн суулгах</link> талаар мэдэх.</para></listitem>
    </itemizedlist>

  </sect1>



  <sect1 xml:id="virtualization-guest">
    <title>&os;-г зочин OS маягаар ашиглах</title>

    <sect2 xml:id="virtualization-guest-parallels">
      <title>&macos; X дээрх <application>Parallels</application></title>

      <para>&mac;-д зориулсан <application>Parallels Desktop</application> нь &macos;
        10.4.6 буюу түүнээс дээш хувилбарыг ашиглаж байгаа &intel; дээр суурилсан
	&apple; &mac; компьютеруудад зориулагдсан арилжааны програм хангамжийн
	бүтээгдэхүүн юм. &os; нь бүрэн дэмжигдсэн зочин үйлдлийн систем
	юм. &macos; X дээр <application>Parallels</application> суулгагдсаны дараа хэрэглэгч
	виртуал машинаа тохируулж дараа нь хүсэж байгаа зочин үйлдлийн
	системээ суулгах ёстой.</para>

	<sect3 xml:id="virtualization-guest-parallels-install">
	  <title>Parallels/&macos; X дээр &os;-г суулгах</title>

	  <para>&os;-г <application>Parallels</application> дээр суулгах эхний алхам нь
		&os;-г суулгахад зориулж шинэ виртуал машиныг үүсгэх
		явдал юм. <guimenu>Guest OS Type</guimenu> буюу Зочин OS-ийн төрөл гэж асуухад нь
		<guimenuitem>&os;</guimenuitem> гэж сонгох хэрэгтэй:</para>

	  <mediaobject>
            <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd1"/>
            </imageobject>
          </mediaobject>

	  <para>Тэгээд энэ виртуал &os; машины хувьд өөрийн төлөвлөгөөнөөс хамаараад
		боломжийн хэмжээний диск болон санах ойг сонгох хэрэгтэй.
		<application>Parallels</application> дээр &os;-г ашиглах ихэнх хэрэглээний хувьд
		4GB дискний зай ба 512MB хэмжээний RAM сайн ажилладаг.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd2"/>
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd3"/>
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd4"/>
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd5"/>
	    </imageobject>
	  </mediaobject>

	  <para>Сүлжээний төрөл болон сүлжээний интерфэйсийг сонгоно:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd6"/>
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd7"/>
	    </imageobject>
	  </mediaobject>

	  <para>Хадгалаад тохиргоог дуусгана:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd8"/>
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
            <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd9"/>
            </imageobject>
          </mediaobject>

	  <para>&os; виртуал машин үүсгэгдсэний дараа &os;-г түүн
		дээр суулгаж болно. Албан ёсны &os; CDROM эсвэл
		албан ёсны FTP сайтаас татан авсан ISO дүрс ашиглан
		суулгах нь зүйтэй юм. Локал &mac; файлын систем дээрээ
		тохирох ISO дүрсийг хуулах юм уу эсвэл &mac;-ийн CD хөтөч дээр
		CDROM хийх хэрэгтэй. &os; <application>Parallels</application> цонхны баруун
		доод талд байгаа дискний дүрсэн дээр дарах хэрэгтэй. Энэ нь
		виртуал машин дахь CDROM хөтчийг диск дээрх ISO файл
		эсвэл жинхэнэ CDROM хөтөчтэй холбох боломжийг олгох
		цонхыг харуулах болно.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd11"/>
	    </imageobject>
	  </mediaobject>

	  <para>CDROM эхтэй энэ холболтыг хийснийхээ дараа дахин ачаалах
		дүрсийг дарж &os; машиныг хэвийн үед дахин ачаалдаг шигээ
		дахин ачаална. <application>Parallels</application> нь 
		танд CDROM байгаа эсэхийг шалгах тусгай BIOS-оор эхлэх болно.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd10"/>
	    </imageobject>
	  </mediaobject>

	  <para>Энэ тохиолдолд энэ нь &os;-ийн суулгах зөөвөрлөгчийг олж
		ердийн &os; суулгалтыг эхлүүлэх болно.
		Та <application>&xorg;</application> суулгаж болох боловч энэ удаад
		тохируулахыг битгий оролдоорой.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd12"/>
	    </imageobject>
	  </mediaobject>

	  <para>Суулгалтыг дууссаныхаа дараа
		та өөрийн шинэ суулгасан &os; виртуал машин руугаа дахин
		ачаалж ороорой.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/parallels-freebsd13"/>
	    </imageobject>
	  </mediaobject>
	</sect3>

	<sect3 xml:id="virtualization-guest-parallels-configure">
	  <title>&os;-г <application>Parallels</application> дээр тохируулах</title>

	  <para>&os;-г <application>Parallels</application>-ийн тусламжтай &macos; X дээр амжилттайгаар
		суулгасны дараа виртуалчлагдсан ажиллагаанд зориулж системийг
		оновчтой болгохын тулд хэд хэдэн тохиргооны алхмуудыг хийх ёстой.</para>

          <procedure>
	    <step>
	      <title>Ачаалагч дуудагчийн хувьсагчуудыг тохируулна</title>

	      <para>Хамгийн чухал алхам бол <application>Parallels</application>-ийн орчинд &os;-ийн
		CPU-н хэрэглээг багасгахын тулд <option>kern.hz</option>-г
		багасгах явдал юм. Дараах мөрийг
		<filename>/boot/loader.conf</filename> файлд
		нэмэн үүнийг хийж болно:</para>

	  	<programlisting>kern.hz=100</programlisting>

	      <para>Энэ тохиргоогүйгээр, сул зогсож байгаа &os; <application>Parallels</application>
		зочин нэг процессор бүхий &imac;-ийн CPU-ийн 15%-г ойролцоогоор
		ашиглах болно. Энэ өөрчлөлтийн дараа хэрэглээ нь 5% руу ойртох
		болно.</para>
	    </step>

	    <step>
	      <title>Шинэ цөмийн тохиргооны файлыг үүсгэнэ</title>

	      <para>Бүх SCSI, FireWire, болон USB төхөөрөмжийн драйверуудыг
		цөмийн тохиргооны файлаас арилгаж болно. 
		<application>Parallels</application> нь <option>ed</option> драйверийн
		ашигладаг виртуал сүлжээний адаптерийн боломжтой байдаг, тэгэхээр
		&man.ed.4; болон &man.miibus.4;-д
		зориулснаас бусад бүх сүлжээний төхөөрөмжүүдийг цөмөөс арилгаж
		болно.</para>
	    </step>

	    <step>
	      <title>Сүлжээг тохируулна</title>

	      <para>Хамгийн хялбар сүлжээний тохиргоо бол хост &mac; шигээр
		ижил локал сүлжээнд виртуал машиныг холбохын тулд DHCP-г
		ашиглах явдал юм. Үүнийг <filename>/etc/rc.conf</filename>
		файлд <literal>ifconfig_ed0="DHCP"</literal> гэж
		нэмэн хийж болно. Сүлжээний илүү нарийн тохиргоонууд <xref linkend="advanced-networking"/>-д тайлбарлагдсан
		байгаа.</para>
	    </step>
          </procedure>

      </sect3>

    </sect2>

<!--
Deactive/hide this section as the instructions in there do NOT work anymore:
- FreeBSD 7.0 has reached its EOL a long time ago.
- The needed files from www.fsmware.com are not available anymore, as the
  server is dead.  So it is impossible to follow the instructions in here.

jkois@FreeBSD.org, 2010-06-18

    <sect2 id="virtualization-guest-xen">
      <sect2info>
	<authorgroup>
	  <author>
            <firstname>Фуканг</firstname>
	    <surname>Чен (Loader)</surname>
	    <contrib>Хувь нэмэр болгон оруулсан </contrib>
          </author>
        </authorgroup>

      </sect2info>

      <title>Линукс дээр ажиллах &xen; &os;</title>

	<para><application>&xen;</application> хэт бүрхүүл нь нээлттэй эх виртуалчлалын бүтээгдэхүүн бөгөөд
	түүнийг одоогооор арилжааны XenSource компани дэмждэг. Зочин
	үйлдлийн системүүд нь domU домэйн гэгддэг бөгөөд хост буюу эх үйлдлийн
	систем нь dom0 гэгддэг. &os;-ийн виртуал хувилбарыг Линукс дээр
	ажиллуулах эхний алхам нь Линукс dom0-д зориулж <application>&xen;</application>-ийг суулгах явдал юм.
	Хост буюу эх үйлдлийн систем нь Slackware Линукс тархац байна.</para>

	<sect3 id="xen-slackware-dom0">
	  <title>&xen; 3-г Линукс dom0 дээр суулгаж тохируулах</title>

	  <procedure>
	    <step>
	      <title>&xen; 3.0-г XenSource-с татаж авах</title>

	      <para><ulink
      url="http://bits.xensource.com/oss-xen/release/3.0.4-1/src.tgz/xen-3.0.4_1-src.tgz">xen-3.0.4_1-src.tgz</ulink>-г
	        <ulink url="http://www.xensource.com/"></ulink>-с татаж авах хэрэгтэй.</para>

	    </step>

	    <step>
	      <title>tar хийгдсэн бөмбөгийг задлах хэрэгтэй</title>

              <screen>&prompt.root; <userinput>cd xen-3.0.4_1-src</userinput>
&prompt.root; <userinput>KERNELS="linux-2.6-xen0 linux-2.6-xenU" make world</userinput>
&prompt.root; <userinput>make install</userinput></screen>

            <note>
	      <para>dom0-д зориулж цөмийг дахин эмхэтгэхийн тулд:</para>

	      <screen>&prompt.root; <userinput>cd xen-3.0.4_1-src/linux-2.6.16.33-xen0</userinput>
&prompt.root; <userinput>make menuconfig</userinput>
&prompt.root; <userinput>make</userinput>
&prompt.root; <userinput>make install</userinput></screen>

	      <para><application>&xen;</application>-ий хуучин хувилбаруудад <command>make ARCH=xen menuconfig</command>
		тушаалыг зааж өгөх хэрэгтэй байж болох юм</para>
	    </note>
	    </step>

	    <step>
	      <title>Grub menu.lst-д цэс оруулга нэмэх хэрэгтэй</title>

	      <para><filename>/boot/grub/menu.lst</filename>-г засварлаж
		дараах мөрүүдийг нэмэх хэрэгтэй:</para>

	      <programlisting>title Xen-3.0.4
root (hd0,0)
kernel /boot/xen-3.0.4-1.gz dom0_mem=262144
module /boot/vmlinuz-2.6.16.33-xen0 root=/dev/hda1 ro</programlisting>
            </step>

            <step>
              <title>Өөрийн компьютераа &xen; руу дахин ачаална</title>

              <para>Эхлээд
                <filename>/etc/xen/xend-config.sxp</filename>-г засварлаад
                			дараах мөрийг нэмнэ:</para>

                <programlisting>(network-script 'network-bridge netdev=eth0')</programlisting>

	      <para>Дараа нь бид
                 <application>&xen;</application>-г ажиллуулж болно:</para>

              <screen>&prompt.root; <userinput>/etc/init.d/xend start</userinput>
&prompt.root; <userinput>/etc/init.d/xendomains start</userinput></screen>

	      <para>Бидний dom0 ажиллаж байна:</para>

              <screen>&prompt.root; <userinput>xm list</userinput>
Name                                      ID   Mem VCPUs      State   Time(s)
Domain-0                                   0   256     1     r&ndash;&ndash;&ndash;&ndash;&ndash;  54452.9</screen>
            </step>
          </procedure>
        </sect3>

        <sect3>
          <title>&os; 7-CURRENT domU</title>

          <para><application>&xen; 3.0</application>-д зориулсан &os; domU цөм болон дискний дүрсийг <ulink
            url="http://www.fsmware.com/">http://www.fsmware.com/</ulink>
		татаж авах хэрэгтэй.</para>

      <itemizedlist>
	<listitem>
	  <para><ulink url="http://www.fsmware.com/xenofreebsd/7.0/download/kernel-current">kernel-current</ulink></para>
	</listitem>

	<listitem>
	  <para><ulink url="http://www.fsmware.com/xenofreebsd/7.0/download/mdroot-7.0.bz2">mdroot-7.0.bz2</ulink></para>
	</listitem>

	<listitem>
	  <para><ulink url="http://www.fsmware.com/xenofreebsd/7.0/download/config/xmexample1.bsd">xmexample1.bsd</ulink></para>
	</listitem>
      </itemizedlist>

      <para><filename>xmexample1.bsd</filename> тохиргооны файлыг
	<filename>/etc/xen/</filename> санд хийж цөм болон дискний дүрсний
	хадгалагдсан хэсэгтэй холбоотой оруулгуудыг засварлана.
	Энэ нь иймэрхүү харагдах ёстой:</para>

      <programlisting>kernel = "/opt/kernel-current"
memory = 256
name = "freebsd"
vif = [ '' ]
disk = [ 'file:/opt/mdroot-7.0,hda1,w' ]
#on_crash    = 'preserve'
extra = "boot_verbose"
extra += ",boot_single"
extra += ",kern.hz=100"
extra += ",vfs.root.mountfrom=ufs:/dev/xbd769a"</programlisting>

      <para><filename>mdroot-7.0.bz2</filename> файл шахагдаагүй байх ёстой.</para>

      <para>Дараа нь <filename>kernel-current</filename> дахь __xen_guest
	хэсгийг <application>&xen; 3.0.3</application>-ийн шаарддаг VIRT_BASE-г нэмж өөрчлөх хэрэгтэй:</para>

      <screen>&prompt.root; <userinput>objcopy kernel-current -R __xen_guest</userinput>
&prompt.root; <userinput>perl -e 'print "LOADER=generic,GUEST_OS=freebsd,GUEST_VER=7.0,XEN_VER=xen-3.0,BSD_SYMTAB,VIRT_BASE=0xC0000000\x00"' &gt; tmp</userinput>
&prompt.root; <userinput>objcopy kernel-current &ndash;&ndash;add-section __xen_guest=tmp</userinput></screen>

      <screen>&prompt.root; <userinput>objdump -j __xen_guest -s kernel-current</userinput>

kernel-current:     file format elf32-i386

Contents of section __xen_guest:
 0000 4c4f4144 45523d67 656e6572 69632c47  LOADER=generic,G
 0010 55455354 5f4f533d 66726565 6273642c  UEST_OS=freebsd,
 0020 47554553 545f5645 523d372e 302c5845  GUEST_VER=7.0,XE
 0030 4e5f5645 523d7865 6e2d332e 302c4253  N_VER=xen-3.0,BS
 0040 445f5359 4d544142 2c564952 545f4241  D_SYMTAB,VIRT_BA
 0050 53453d30 78433030 30303030 3000      SE=0xC0000000. </screen>

      <para>Одоо бид өөрсдийн domU-г үүсгэж ажиллуулахад бэлэн боллоо:</para>

      <screen>&prompt.root; <userinput>xm create /etc/xen/xmexample1.bsd -c</userinput>
Using config file "/etc/xen/xmexample1.bsd".
Started domain freebsd
WARNING: loader(8) metadata is missing!
Copyright (c) 1992-2006 The FreeBSD Project.
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
The Regents of the University of California. All rights reserved.
FreeBSD 7.0-CURRENT #113: Wed Jan  4 06:25:43 UTC 2006
    kmacy@freebsd7.gateway.2wire.net:/usr/home/kmacy/p4/freebsd7_xen3/src/sys/i386-xen/compile/XENCONF
WARNING: DIAGNOSTIC option enabled, expect reduced performance.
Xen reported: 1796.927 MHz processor.
Timecounter "ixen" frequency 1796927000 Hz quality 0
CPU: Intel(R) Pentium(R) 4 CPU 1.80GHz (1796.93-MHz 686-class CPU)
  Origin = "GenuineIntel"  Id = 0xf29  Stepping = 9
  Features=0xbfebfbff&lt;FPU,VME,DE,PSE,TSC,MSR,PAE,MCE,CX8,APIC,SEP,MTRR,PGE,MCA,CMOV,PAT,PSE36,CLFLUSH,
  DTS,ACPI,MMX,FXSR,SSE,SSE2,SS,HTT,TM,PBE&gt;
  Features2=0x4400&lt;CNTX-ID,&lt;b14&gt;&gt;
real memory  = 265244672 (252 MB)
avail memory = 255963136 (244 MB)
xc0: &lt;Xen Console&gt; on motherboard
cpu0 on motherboard
Timecounters tick every 10.000 msec
[XEN] Initialising virtual ethernet driver.
xn0: Ethernet address: 00:16:3e:6b:de:3a
[XEN]
Trying to mount root from ufs:/dev/xbd769a
WARNING: / was not properly dismounted
Loading configuration files.
No suitable dump device was found.
Entropy harvesting: interrupts ethernet point_to_point kickstart.
Starting file system checks:
/dev/xbd769a: 18859 files, 140370 used, 113473 free (10769 frags, 12838 blocks, 4.2% fragmentation)
Setting hostname: demo.freebsd.org.
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
	  inet6 ::1 prefixlen 128
	  inet6 fe80::1%lo0 prefixlen 64 scopeid 0x2
	  inet 127.0.0.1 netmask 0xff000000
Additional routing options:.
Mounting NFS file systems:.
Starting syslogd.
/etc/rc: WARNING: Dump device does not exist.  Savecore not run.
ELF ldconfig path: /lib /usr/lib /usr/lib/compat /usr/X11R6/lib /usr/local/lib
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout
Starting usbd.
usb: Kernel module not available: No such file or directory
Starting local daemons:.
Updating motd.
Starting sshd.
Initial i386 initialization:.
Additional ABI support: linux.
Starting cron.
Local package initialization:.
Additional TCP options:.
Starting background file system checks in 60 seconds.

Sun Apr  1 02:11:43 UTC 2007

FreeBSD/i386 (demo.freebsd.org) (xc0)

login: </screen>

      <para>domU нь &os;&nbsp;7.0-CURRENT
	цөмийг ажиллуулах ёстой:</para>

      <screen>&prompt.root; <userinput>uname -a</userinput>
FreeBSD demo.freebsd.org 7.0-CURRENT FreeBSD 7.0-CURRENT #113: Wed Jan  4 06:25:43 UTC 2006
kmacy@freebsd7.gateway.2wire.net:/usr/home/kmacy/p4/freebsd7_xen3/src/sys/i386-xen/compile/XENCONF  i386</screen>

      <para>Сүлжээг одоо domU дээр тохируулж болно. &os; domU нь <devicename>xn0</devicename>
	гэж нэрлэгдэх тусгай интерфэйсийг ашиглах болно:</para>

      <screen>&prompt.root; <userinput>ifconfig xn0 10.10.10.200 netmask 255.0.0.0</userinput>
&prompt.root; <userinput>ifconfig</userinput>
xn0: flags=843&lt;UP,BROADCAST,RUNNING,SIMPLEX&gt; mtu 1500
    inet 10.10.10.200 netmask 0xff000000 broadcast 10.255.255.255
    ether 00:16:3e:6b:de:3a
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
      inet6 ::1 prefixlen 128
      inet6 fe80::1%lo0 prefixlen 64 scopeid 0x2
      inet 127.0.0.1 netmask 0xff000000 </screen>

      <para>dom0 Slackware дээр <application>&xen;</application>-ээс
	хамаарах зарим сүлжээний интерфэйсүүд харагдах ёстой:</para>

      <screen>&prompt.root; <userinput>ifconfig</userinput>
eth0      Link encap:Ethernet  HWaddr 00:07:E9:A0:02:C2
          inet addr:10.10.10.130  Bcast:0.0.0.0  Mask:255.0.0.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:815 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1400 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:204857 (200.0 KiB)  TX bytes:129915 (126.8 KiB)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:99 errors:0 dropped:0 overruns:0 frame:0
          TX packets:99 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:9744 (9.5 KiB)  TX bytes:9744 (9.5 KiB)

peth0     Link encap:Ethernet  HWaddr FE:FF:FF:FF:FF:FF
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:1853349 errors:0 dropped:0 overruns:0 frame:0
          TX packets:952923 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:2432115831 (2.2 GiB)  TX bytes:86528526 (82.5 MiB)
          Base address:0xc000 Memory:ef020000-ef040000

vif0.1    Link encap:Ethernet  HWaddr FE:FF:FF:FF:FF:FF
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:1400 errors:0 dropped:0 overruns:0 frame:0
          TX packets:815 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:129915 (126.8 KiB)  TX bytes:204857 (200.0 KiB)

vif1.0    Link encap:Ethernet  HWaddr FE:FF:FF:FF:FF:FF
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:3 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2 errors:0 dropped:157 overruns:0 carrier:0
          collisions:0 txqueuelen:1
          RX bytes:140 (140.0 b)  TX bytes:158 (158.0 b)

xenbr1    Link encap:Ethernet  HWaddr FE:FF:FF:FF:FF:FF
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:4 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:112 (112.0 b)  TX bytes:0 (0.0 b)</screen>

      <screen>&prompt.root; <userinput>brctl show</userinput>
bridge name     bridge id           STP enabled         interfaces
xenbr1          8000.feffffffffff   no                  vif0.1
                                                        peth0
                                                        vif1.0</screen>
      </sect3>

    </sect2>
-->
    <sect2 xml:id="virtualization-guest-virtualpc">
      <title>&windows; дээрх <application>Virtual PC</application></title>

      <para>&windows;-д зориулсан <application>Virtual PC</application>
	нь чөлөөтэй татаж авахаар байдаг, &microsoft;-ийн програм хангамж
	юм. <link xlink:href="http://www.microsoft.com/windows/downloads/virtualpc/sysreq.mspx">
	Системийн шаардлагууд</link> хуудсыг үзнэ үү. &microsoft.windows; дээр
	<application>Virtual PC</application> суусны дараа хэрэглэгч виртуал
	машинаа тохируулж хүссэн зочин үйлдлийн системээ суулгах
	боломжтой.</para>

	<sect3 xml:id="virtualization-guest-virtualpc-install">
	  <title><application>Virtual PC</application> дээр &os; суулгах нь</title>

	  <para><application>Virtual PC</application> дээр
	    &os; суулгах эхний алхам нь &os;-г суулгах шинэ виртуал машин
	    үүсгэх явдал юм. Асуухад нь <guimenuitem>Create a
	    virtual machine</guimenuitem> гэсэн цэсийг сонгоно:</para>

	  <mediaobject>
            <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd1"/>
            </imageobject>
          </mediaobject>

	  <mediaobject>
            <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd2"/>
            </imageobject>
          </mediaobject>

	  <para>Тэгээд дараа нь <guimenuitem>Operating system</guimenuitem> гэдэг
		дээр <guimenuitem>Other</guimenuitem> гэдгийг сонгоно:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd3"/>
	    </imageobject>
	  </mediaobject>

	  <para>Дараа нь энэ виртуал &os;-д зориулсан өөрийн төлөвлөгөөнөөсөө
	    хамаараад хангалттай диск болон санах ойн хэмжээг сонгох
	    хэрэгтэй. <application>Virtual PC</application> дээр &os;-г
	    ашиглахад ихэнхдээ 4GB дискний зай болон 512MB RAM хангалттай байдаг:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd4"/>
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd5"/>
	    </imageobject>
	  </mediaobject>

	  <para>Хадгалаад тохиргоог дуусгана:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd6"/>
	    </imageobject>
	  </mediaobject>

	  <para>Өөрийн &os; виртуал машинаа сонгоод <guimenu>Settings</guimenu>
	    дээр дараад дараа нь сүлжээний төрөл болон сүлжээний интерфэйсийг
	    тохируулна:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd7"/>
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
            <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd8"/>
            </imageobject>
          </mediaobject>

	  <para>&os; машин үүсгэгдсэний дараа түүн дээр
	    &os; суулгах боломжтой болно. Үүнийг албан ёсны &os;
	    CDROM эсвэл албан ёсны FTP хаягаас татаж авсан ISO дүрснээс
	    суулгах нь зүйтэй. &windows; файлын систем дээр тохирсон
	    ISO дүрс хуулах эсвэл CD хөтөчдөө CDROM хийснийхээ дараа өөрийн виртуал
	    &os; машин дээр хоёр дарж эхлүүлэх хэрэгтэй. Дараа нь
	    <application>Virtual PC</application> цонхны
	    <guimenu>CD</guimenu> цэсэн дээр дарж <guimenu>Capture ISO Image...</guimenu>
	    цэсийг сонгоно. Ингэснээр виртуал машин дээр CDROM
	    хөтчийг диск дээр байгаа ISO файлтай эсвэл жинхэнэ
	    CDROM хөтөчтэй холбох боломжийг олгох цонхыг гаргаж ирэх юм.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd9"/>
	    </imageobject>
	  </mediaobject>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd10"/>
	    </imageobject>
	  </mediaobject>

	  <para>CDROM эхтэй энэ холболтыг хийсний дараа өөрийн
	    &os; виртуал машиныг <guimenu>Action</guimenu> болон
	    <guimenu>Reset</guimenu> цэсүүдийг сонгон дахин ачаалах
	    хэрэгтэй. <application>Virtual PC</application> нь 
	    CDROM байгаа эсэхийг эхлэн
	    шалгах тусгай BIOS-оор дахин ачаалах болно.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd11"/>
	    </imageobject>
	  </mediaobject>

	  <para>Энэ тохиолдолд &os;-ийн суулгац зөөвөрлөгчийг олж
	    &os; 
	    суулгалтыг эхлүүлнэ. <application>&xorg;</application>
	    тохируулахыг бүү оролдоорой.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd12"/>
	    </imageobject>
	  </mediaobject>

	  <para>Суулгаж дууссаныхаа дараа CDROM эсвэл хувилбарын ISO дүрсээ
	    гаргаж авахаа мартуузай. Төгсгөлд нь өөрийн шинэхэн суулгасан
	    &os; виртуал машин уруугаа дахин ачаалж орох хэрэгтэй.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/virtualpc-freebsd13"/>
	    </imageobject>
	  </mediaobject>
	</sect3>

	<sect3 xml:id="virtualization-guest-virtualpc-configure">
	  <title><application>Virtual PC</application> дээр &os;-г тохируулах нь</title>

	  <para>&microsoft.windows; дээр <application>Virtual PC</application> ашиглан
	    &os;-г амжилттай суулгасны дараа виртуалчлагдсан үйлдэлд зориулж
	    системийг оновчтой болгон хийж болох хэд хэдэн тохиргооны алхмууд
	    байдаг.</para>

          <procedure>
	    <step>
	      <title>Ачаалагч дуудагчийн хувьсагчуудыг тохируулна</title>

	      <para>Хамгийн чухал алхам бол <application>Virtual PC</application>
		орчинд &os;-ийн CPU-ийн хэрэглээг багасгахын тулд
		<option>kern.hz</option> тохиргоог багасгах явдал юм. Үүнийг
		хийхийн тулд доор дурдсан мөрийг <filename>/boot/loader.conf</filename>
		файлд нэмнэ:</para>

	  	<programlisting>kern.hz=100</programlisting>

	      <para>Энэ тохиргоогүй бол сул зогсож байгаа &os;
		<application>Virtual PC</application> зочин үйлдлийн систем
		нэг процессортой компьютерийн CPU-ний 40%-ийг ойролцоогоор
		ашиглах болно. Энэ тохиргооны дараа хэрэглээ дөнгөж
		3% уруу дөхөж очих болно.</para>
	    </step>

	    <step>
	      <title>Цөмийн шинэ тохиргооны файл үүсгэнэ</title>

	      <para>SCSI, FireWire болон USB төхөөрөмжийн
		бүх драйверуудыг цөмийн тохиргооны файлаас устгаж болно. <application>Virtual PC</application>
		нь &man.de.4; драйверийн ашигладаг виртуал
		сүлжээний адаптерийн боломжтой бөгөөд тэгэхээр
		&man.de.4; болон &man.miibus.4;-с бусад бүх сүлжээний
		төхөөрөмжүүдийг цөмөөс арилгаж болно.</para>
	    </step>

	    <step>
	      <title>Сүлжээг тохируулна</title>

	      <para>Хамгийн энгийн сүлжээний тохиргоо нь
		&microsoft.windows; холбогдсон
		тэр дотоод сүлжээндээ виртуал машиныг холбохдоо
		DHCP-ийг ашиглах явдал юм. <literal>ifconfig_de0="DHCP"</literal>
		мөрийг <filename>/etc/rc.conf</filename> файлд нэмж
		үүнийг хийнэ. Сүлжээний илүү нарийн тохиргоонуудын
		талаар <xref linkend="advanced-networking"/> дээр
		тайлбарласан байгаа болно.</para>
	    </step>
          </procedure>

      </sect3>

    </sect2>

    <sect2 xml:id="virtualization-guest-vmware">
      <title> &macos; дээрх <application>VMware Fusion</application></title>

      <para>&mac;-д зориулсан <application>VMware Fusion</application>
	нь &macos; 10.4.9 болон түүнээс хойшх хувилбар бүхий
	&intel; дээр тулгуурласан &apple; &mac; компьютеруудад
	зориулагдсан арилжааны програм хангамж бүтээгдэхүүн юм.
	&os; нь бүрэн дэмжигдсэн зочин үйлдлийн систем юм.
	&macos; X дээр <application>VMware Fusion</application> суулгасны
	дараа хэрэглэгч виртуал машинаа тохируулж хүссэн зочин үйлдлийн
	системээ суулгах боломжтой.</para>

	<sect3 xml:id="virtualization-guest-vmware-install">
	  <title><application>VMware Fusion</application> дээр &os; суулгах нь</title>

	  <para>Эхний алхам нь <application>VMware Fusion</application>-г эхлүүлнэ. 
	    Ингэхэд Виртуал Машины Сан ачаалагдах болно. "New"-г дарж виртуал машин үүсгэнэ:</para>

	  <mediaobject>
            <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd01"/>
            </imageobject>
          </mediaobject>

	  <para>Энэ нь New Virtual Machine
	    Assistant буюу Шинэ Виртуал Машины Туслагчийг ачаалах
	    бөгөөд <guimenuitem>Continue</guimenuitem> дарж үргэлжлүүлнэ:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd02"/>
	    </imageobject>
	  </mediaobject>

	  <para><guimenuitem>Operating System</guimenuitem> гэдэг
	    дээр <guimenuitem>Other</guimenuitem> гэдгийг сонгоод
	    <guimenuitem>&os;</guimenuitem> юм уу эсвэл 
	    <guimenuitem>&os; 64-bit</guimenuitem> гэдгийг
	    <guimenu>Version</guimenu> гэдэг дээр сонгоорой:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd03"/>
	    </imageobject>
	  </mediaobject>

	  <para>Виртуал машины нэр болон хадгалахыг хүсэж байгаа тэр
	    сангийнхаа нэрийг сонгоно:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd04"/>
	    </imageobject>
	  </mediaobject>

	  <para>Виртуал машинд зориулсан Виртуал Хатуу Дискийнхээ хэмжээг
	    сонгоно:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd05"/>
	    </imageobject>
	  </mediaobject>

	  <para>Виртуал машин суулгахдаа ISO дүрс эсвэл CD-ий аль нэгнээс суулгахыг
	    сонгоно:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd06"/>
	    </imageobject>
	  </mediaobject>

	  <para><guimenuitem>Finish</guimenuitem>-ийг дарсны дараа виртуал
	    машин дахин ачаалах болно:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd07"/>
	    </imageobject>
	  </mediaobject>

	  <para>Ердийн суулгадагтайгаа адил &os;-ийг суулгана:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd08"/>
	    </imageobject>
	  </mediaobject>

	  <para>Суулгаж дууссаны дараа Санах ойн хэрэглээ зэрэг
	    виртуал машины тохиргоонуудыг өөрчилж болно:</para>

          <note>
	    <para>Виртуал машин ажиллаж байхад виртуал машины системийн тоног төхөөрөмжийн
	      тохиргоонуудыг өөрчилж болдоггүй.</para>
          </note>

	  <mediaobject>
            <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd09"/>
            </imageobject>
          </mediaobject>

	  <para>Виртуал машины хандаж болох CPU-ийн тоо:</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd10"/>
	    </imageobject>
	  </mediaobject>

	  <para>CDROM төхөөрөмжийн төлөв. CD/DVD/ISO дахиж
	    хэрэг болохгүй бол ерөнхийдөө виртуал машинаас салгаж болно.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd11"/>
	    </imageobject>
	  </mediaobject>

	  <para>Сүүлийн өөрчлөх юм нь сүлжээнд виртуал машин хэрхэн холбогдохыг
	    заах юм. Эх хостоос нь гадна бусад машинуудаас виртуал машин рүү
	    холболт хийхийн тулд 
	    <guimenuitem>Connect directly to the physical network
	    (Bridged)</guimenuitem> буюу Физик сүлжээнд шууд
	    холбогдох (Гүүр хийгдсэн) гэдгийг сонгоорой. Хэрэв тэгж
	    хүсэхгүй байгаа бол виртуал машиныг Интернэт рүү хандах боломжтой
	    болгодог боловч сүлжээнээс виртуал машин руу хандах боломжгүй <guimenuitem>Share the
	    host's internet connection (NAT)</guimenuitem> буюу
	    хостын интернэтийн холболтыг (NAT) хуваалцах гэсэн сонголтыг
	    сонгохыг зөвлөдөг.</para>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="virtualization/vmware-freebsd12"/>
	    </imageobject>
	  </mediaobject>

	  <para>Тохиргоонуудыг өөрчилж дууссаныхаа дараа шинээр суулгасан
	    &os; виртуал машинаа ачаалах хэрэгтэй.</para>
	</sect3>

	<sect3 xml:id="virtualization-guest-vmware-configure">
	  <title>&os;-г <application>VMware Fusion</application> дээр тохируулах нь</title>

	  <para>&macos; X дээр <application>VMware Fusion</application>-ийн
	    тусламжтайгаар &os; амжилттай суугдсаны дараа виртуалчлагдсан
	    үйлдэлд зориулж системийг оновчтой болгохын тулд хийгдэж болох хэд хэдэн
	    тохиргооны алхмууд байдаг.</para>

          <procedure>
	    <step>
	      <title>Ачаалагч дуудагчийн хувьсагчуудыг тохируулна</title>

	      <para><application>VMware Fusion</application> орчин доор
		&os;-ийн CPU-ийн хэрэглээг багасгахын тулд
		<option>kern.hz</option> тохируулгыг багасгах нь хамгийн
		чухал алхам юм. Дараах мөрийг <filename>/boot/loader.conf</filename>-д
		нэмснээр үүнийг хийж болно:</para>

	  	<programlisting>kern.hz=100</programlisting>

	      <para>Энэ тохиргоогүйгээр сул зогсож байгаа &os;
	        <application>VMware Fusion</application> зочин OS нь
		ганц процессор бүхий &imac;-ийн CPU-ний бараг
		15%-ийг ашиглах болно. Энэ өөрчлөлтийн дараа
		ашиглалт дөнгөж 5% хүрэх хэмжээний байх болно.</para>
	    </step>

	    <step>
	      <title>Цөмийн шинэ тохиргооны файл үүсгэнэ</title>

	      <para>FireWire, болон USB төхөөрөмжийн бүх л драйверуудыг
		цөмийн тохиргооны файлаас хасаж болно. <application>VMware Fusion</application> нь
		&man.em.4; драйверийн ашигладаг виртуал сүлжээний
		адаптераар хангадаг учир &man.em.4;-д зориулснаас
		бусад сүлжээний бүх төхөөрөмжүүдийг цөмөөс хасаж болно.</para>
	    </step>

	    <step>
	      <title>Сүлжээг тохируулна</title>

	      <para>Хамгийн хялбар сүлжээний тохиргоо нь
		хост &mac; холбогдсон байгаа дотоод сүлжээндээ
		DHCP ашиглан виртуал машинаа холбох явдал
		юм. <filename>/etc/rc.conf</filename> файлд
		<literal>ifconfig_em0="DHCP"</literal> мөрийг нэмснээр
		үүнийг хийж болно. Сүлжээний илүү дэлгэрэнгүй тохиргоонуудын
		талаар <xref linkend="advanced-networking"/>-д тайлбарласан
		байгаа.</para>
	    </step>
          </procedure>

      </sect3>
    </sect2>

    <sect2 xml:id="virtualization-guest-virtualbox-guest-additions">
      <title>&os; зочин дээрх &virtualbox; зочин нэмэгдлүүд</title>

      <para><application>&virtualbox;</application> зочин нэмэгдлүүд нь
	дараах боломжуудыг олгодог:</para>

      <itemizedlist>
	<listitem>
	  <para>Завсрын самбар (Clipboard) хуваалцах.</para>
	</listitem>

	<listitem>
	  <para>Хулганы заагчийн нэгтгэл.</para>
	</listitem>

	<listitem>
	  <para>Хостын цагийн синхрончлол.</para>
	</listitem>

	<listitem>
	  <para>Цонхны хэмжээ өөрчлөх боломж.</para>
	</listitem>

	<listitem>
	  <para>Хялбар (Seamless) горим.</para>
	</listitem>
      </itemizedlist>

      <note>
	<para>&os; зочин дээр дараах тушаалуудыг ажиллуулна.</para>
      </note>

      <para>Эхлээд <package>emulators/virtualbox-ose-additions</package> багц эсвэл портыг
	&os; зочин дээр суулгана. Энэ нь портыг суулгах болно:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/emulators/virtualbox-ose-additions &amp;&amp; make install clean</userinput></screen>

      <para>Дараах мөрүүдийг <filename>/etc/rc.conf</filename>-д нэмнэ:</para>

      <programlisting>vboxguest_enable="YES"
vboxservice_enable="YES"</programlisting>

      <para>Хэрэв &man.ntpd.8; эсвэл &man.ntpdate.8; ашиглагдах бол хостын
	цагийн синхрончлолыг болиулах ёстой:</para>

      <programlisting>vboxservice_flags="--disable-timesync"</programlisting>

      <para><literal>vboxvideo</literal> драйверыг
	<command>Xorg -configure</command> автоматаар таних ёстой. Хэрэв үгүй бол
	<application>&virtualbox;</application> видео картын
	хувьд <filename>/etc/X11/xorg.conf</filename>-г өөрчлөөрөй:</para>

      <programlisting>Section "Device"
	### Available Driver options are:-
	### Values: &lt;i&gt;: integer, &lt;f&gt;: float, &lt;bool&gt;: "True"/"False",
	### &lt;string&gt;: "String", &lt;freq&gt;: "&lt;f&gt; Hz/kHz/MHz"
	### [arg]: arg optional
	Identifier "Card0"
	Driver "vboxvideo"
	VendorName "InnoTek Systemberatung GmbH"
	BoardName "VirtualBox Graphics Adapter"
	BusID "PCI:0:2:0"
EndSection</programlisting>

      <para><literal>vboxmouse</literal> драйверыг ашиглахын тулд
	<filename>/etc/X11/xorg.conf</filename> дахь хулгахын хэсгийг
	тохируулаарай:</para>

      <programlisting>Section "InputDevice"
	Identifier "Mouse0"
	Driver "vboxmouse"
EndSection</programlisting>

      <para><acronym>HAL</acronym> хэрэглэгчид дараах 
	<filename>/usr/local/etc/hal/fdi/policy/90-vboxguest.fdi</filename> файлыг үүсгэх юм уу эсвэл
	<filename>/usr/local/share/hal/fdi/policy/10osvendor/90-vboxguest.fdi</filename> файлаас
	хуулж үүсгэх шаардлагатай:</para>

      <programlisting>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!--
# Sun VirtualBox
# Hal driver description for the vboxmouse driver
# $Id: chapter.xml,v 1.33 2012-03-17 04:53:52 eadler Exp $

	Copyright (C) 2008-2009 Sun Microsystems, Inc.

	This file is part of VirtualBox Open Source Edition (OSE, as
	available from http://www.virtualbox.org. This file is free software;
	you can redistribute it and/or modify it under the terms of the GNU
	General Public License (GPL) as published by the Free Software
	Foundation, in version 2 as it comes in the "COPYING" file of the
	VirtualBox OSE distribution. VirtualBox OSE is distributed in the
	hope that it will be useful, but WITHOUT ANY WARRANTY of any kind.

	Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
	Clara, CA 95054 USA or visit http://www.sun.com if you need
	additional information or have any questions.
--&gt;
&lt;deviceinfo version="0.2"&gt;
  &lt;device&gt;
    &lt;match key="info.subsystem" string="pci"&gt;
      &lt;match key="info.product" string="VirtualBox guest Service"&gt;
        &lt;append key="info.capabilities" type="strlist"&gt;input&lt;/append&gt;
	&lt;append key="info.capabilities" type="strlist"&gt;input.mouse&lt;/append&gt;
        &lt;merge key="input.x11_driver" type="string"&gt;vboxmouse&lt;/merge&gt;
	&lt;merge key="input.device" type="string"&gt;/dev/vboxguest&lt;/merge&gt;
      &lt;/match&gt;
    &lt;/match&gt;
  &lt;/device&gt;
&lt;/deviceinfo&gt;</programlisting>
    </sect2>
  </sect1>

  <sect1 xml:id="virtualization-host">
    <title>&os;-г хост буюу эх маягаар ашиглах</title>

    <para><application>&virtualbox;</application> нь идэвхтэйгээр хөгжүүлэгдэж
      байгаа бүрэн хэмжээний виртуалчлалын багц бөгөөд &windows;, &macos;,
      &linux; ба &os; зэрэг ихэнх үйлдлийн системүүдийн хувьд байдаг.
      Энэ нь &windows; эсвэл &unix; төст зочин үйлдлийн системүүдийг
      адил хэмжээгээр ажиллуулах чадвартай юм. Энэ нь нээлттэй эхийн тоног
      төхөөрөмж хэлбэрээр байдаг боловч хаалттай хэсгүүд нь нэмэлт
      өргөтгөл хэлбэрээр байдаг. Эдгээр хэсгүүдэд USB 2.0 төхөөрөмжүүдийн
      дэмжлэг байдаг. Дэлгэрэнгүй мэдээллийг
      <application>&virtualbox;</application>-ийн викигийн
      <quote>Downloads</quote> хуудас
      <uri xlink:href="http://www.virtualbox.org/wiki/Downloads">http://www.virtualbox.org/wiki/Downloads</uri>-с
      олж болно. Одоогоор эдгээр өргөтгөлүүд &os;-н хувьд байхгүй.</para>

    <sect2 xml:id="virtualization-virtualbox-install">
      <title>&virtualbox; суулгах нь</title>

      <para><application>&virtualbox;</application> нь &os;-ийн багц эсвэл порт хэлбэрээр
	<package>emulators/virtualbox-ose</package> санд байрладаг.
	Дараах тушаалыг ашиглан портыг суулгаж болно:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/emulators/virtualbox-ose</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

      <para>Тохиргооны цэс дээрх сонголтуудаас ашигтай нэг нь
	<literal>GuestAdditions</literal> буюу зочин нэмэлтүүд програмууд
	юм. Эдгээр нь хулганын заагчийн нэгдэл (хулганыг эх болон зочин
	үйлдлийн системийн хооронд гарын тусгай хослол дарж шилжих шаардлагагүйгээр
	хуваалцан хэрэглэх боломжийг бүрдүүлдэг) болон ялангуяа &windows;
	зочдын хувьд илүү хурдан видео харуулах зэрэг зочин үйлдлийн системүүдийг
	хэд хэдэн ашигтай боломжуудаар хангадаг. Зочны нэмэлтүүд нь
	зочинг суулгаж дууссаны дараа <guimenu>Devices</guimenu>
	цэсэнд байх болно.</para>

      <para><application>&virtualbox;</application>-ийг анх удаа эхлүүлэхээсээ
	өмнө хэдэн тохиргооны өөрчлөлтүүдийг хийх ёстой. Порт цөмийн
	модулийг <filename>/boot/modules</filename> санд суулгах бөгөөд
	ажиллаж байгаа цөмд дараах тушаалаар дуудах ёстой:</para>

      <screen>&prompt.root; <userinput>kldload vboxdrv</userinput></screen>

      <para>Модулийг дахин ачаалсны дараа үргэлж дуудагддаг байхаар
	тохируулахын тулд дараах мөрийг <filename>/boot/loader.conf</filename>
	файлд нэмнэ:</para>

      <programlisting>vboxdrv_load="YES"</programlisting>

      <para>Гүүр болон зөвхөн хостын сүлжээний боломжийг олгох цөмийн
	модулийг ашиглахын тулд дараах мөрийг <filename>/etc/rc.conf</filename>
	файлд нэмж компьютерийг дахин ачаалах хэрэгтэй:</para>

      <programlisting>vboxnet_enable="YES"</programlisting>

      <para><systemitem class="groupname">vboxusers</systemitem> бүлэг <application>&virtualbox;</application>-г
	суулгах явцад үүсгэгддэг. <application>&virtualbox;</application>-д
	хандах шаардлагатай бүх хэрэглэгчид энэ бүлгийн гишүүн болж нэмэгдсэн
	байх ёстой. <command>pw</command> тушаалыг шинэ гишүүдийг нэмэхэд
	хэрэглэж болно:</para>

      <screen>&prompt.root; <userinput>pw groupmod vboxusers -m yourusername</userinput></screen>

      <para><filename>/dev/vboxnetctl</filename>-н анхдагч зөвшөөрлүүд нь
	хязгаарлагдмал байдаг бөгөөд гүүр сүлжээний хувьд өөрчлөх шаардлагатай
	байдаг:</para>

      <screen>&prompt.root; <userinput>chown root:vboxusers /dev/vboxnetctl</userinput>
&prompt.root; <userinput>chmod 0660 /dev/vboxnetctl</userinput></screen>

      <para>Зөвшөөрлүүдийн өөрчлөлтийг байнгын болгохын тулд эдгээр
	мөрүүдийг <filename>/etc/devfs.conf</filename> файлд нэмэх хэрэгтэй:</para>

      <programlisting>own     vboxnetctl root:vboxusers
perm    vboxnetctl 0660</programlisting>

      <para><application>&virtualbox;</application>-ийг ажиллуулахын
	тулд <application>&xorg;</application> дээрээс дараахийг бичиж ажиллуулах
	хэрэгтэй:</para>

      <screen>&prompt.user; <userinput>VirtualBox</userinput></screen>

      <para><application>&virtualbox;</application>-ийг тохируулж
	ашиглах талаар дэлгэрэнгүй мэдээллийг <uri xlink:href="http://www.virtualbox.org">http://www.virtualbox.org</uri>
	албан ёсны вэб сайтад хандаж үзнэ үү. 
	&os;-тэй холбоотой мэдээлэл болон алдааг олж засварлах
	заавруудыг &os;-ийн вики <uri xlink:href="http://wiki.FreeBSD.org/VirtualBox">http://wiki.FreeBSD.org/VirtualBox</uri> дэх тохирох
	хуудсанд хандаж үзнэ үү.</para>
    </sect2>

    <sect2 xml:id="virtualization-virtualbox-usb-support">
      <title>&virtualbox; USB дэмжлэг</title>

      <para>USB төхөөрөмжөөс унших болон түүн рүү бичихийн
	тулд хэрэглэгчид <systemitem class="groupname">operator</systemitem> бүлгийн гишүүн байх ёстой:</para>

      <screen>&prompt.root; <userinput>pw groupmod operator -m jerry</userinput></screen>

      <para>Дараа нь дараахийг <filename>/etc/devfs.rules</filename>
	файлд нэмэх юм уу эсвэл байхгүй бол үүсгээрэй:</para>

      <programlisting>[system=10]
add path 'usb/*' mode 0660 group operator</programlisting>

      <para>Эдгээр шинэ дүрмүүдийг ачаалахын тулд
	дараах мөрийг <filename>/etc/rc.conf</filename> файлд
	нэмнэ:</para>

      <programlisting>devfs_system_ruleset="system"</programlisting>

      <para>Дараа нь devfs-г дахин ачаална:</para>

      <screen>&prompt.root; <userinput>service devfs restart</userinput></screen>

      <para>USB-г одоо зочин үйлдлийн систем дээр идэвхжүүлж
	болно. USB төхөөрөмжүүд нь &virtualbox;-н тохиргоон дээр
	харагдаж байх ёстой.</para>
    </sect2>

    <sect2 xml:id="virtualization-virtualbox-host-dvd-cd-access">
      <title>&virtualbox; хостын DVD/CD хандалт</title>

      <para>Хостын DVD/CD хөтчүүдэд зочин системээс хандахдаа 
      физик хөтчийг хуваалцан хэрэглэх замаар ханддаг. 
      &virtualbox; дотор үүнийг виртуал машины Settings дэх Storage цонхноос 
      тохируулдаг. Шаардлагатай бол эхлээд хоосон IDE CD/DVD төхөөрөмж үүсгэнэ. 
      Дараа нь виртуал CD/DVD хөтөч сонгохын тулд гарч ирэх цэснээс
      хостын хөтчийг сонгоно. <literal>Passthrough</literal> гэж 
      хаяглагдсан сонгох боломжтой хайрцаг гарч ирнэ. 
      Энэ нь виртуал машиныг тоног төхөөрөмж шууд ашиглах боломжтой 
      болгодог. Жишээ нь дууны CD эсвэл хэрэв сонгогдсон бол 
      зөвхөн шарах боломж гэх мэтийг дурдаж болно.</para>

      <para><application>&virtualbox;</application> DVD/CD-г ажиллуухын
	  тулд <acronym>HAL</acronym>-г ажиллуулах ёстой бөгөөд ингэхийн
	  тулд <filename>/etc/rc.conf</filename>-д түүнийг идэвхжүүлж
	  хэрэв ажиллаагүй байгаа бол эхлүүлэх хэрэгтэй:</para>

      <programlisting>hald_enable="YES"</programlisting>

      <screen>&prompt.root; <userinput>service hald start</userinput></screen>

      <para><application>&virtualbox;</application> DVD/CD-г хэрэглэгч
	ашиглахын тулд тэдэнд <filename>/dev/xpt0</filename>,
	<filename>/dev/cdN</filename>,
	болон <filename>/dev/passN</filename>
	файлуудад хандах зөвшөөрөл хэрэгтэй. Үүнийг хийхдээ 
	хэрэглэгчийг <systemitem class="groupname">operator</systemitem> бүлэг рүү
	нэмж шийднэ. Эдгээр төхөөрөмжүүдийн зөвшөөрлүүдийг засахдаа дараах мөрүүдийг
	<filename>/etc/devfs.conf</filename> файлд нэмж хийж өгнө:</para>

      <programlisting>perm cd* 0600
perm xpt0 0660
perm pass* 0660</programlisting>

      <screen>&prompt.root; <userinput>service devfs restart</userinput></screen>
    </sect2>

<!--
   Note:  There is no working/end-user ready Xen support for FreeBSD as of 07-2010.
       Hide all information regarding Xen under FreeBSD.

    <sect2 id="virtualization-other">
      <title>Виртуалчлалын бусад сонголтууд</title>

      <para>&os; дээр <application>&xen;</application>-ийг хост орчин
	хэлбэрээр ажиллуулахаар ажил хийгдэж байгаа болно.</para>
    </sect2>
-->
  </sect1>

</chapter>
