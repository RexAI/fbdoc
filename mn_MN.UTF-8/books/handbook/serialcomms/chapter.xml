<?xml version="1.0" encoding="utf-8"?>
<!--
     The FreeBSD Mongolian Documentation Project

     Original revision 41085

     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="serialcomms">
  <info><title>Цуваа холбоонууд</title>
    <authorgroup>
      <author><personname><firstname>Цагаанхүүгийн</firstname><surname>Ганболд</surname></personname><contrib>Орчуулсан  </contrib></author>
    </authorgroup>
  </info>
  

  <sect1 xml:id="serial-synopsis">
    <title>Ерөнхий агуулга</title>

    <indexterm><primary>цуваа холбоонууд</primary></indexterm>
    <para>&unix; нь цуваа холбоонуудад зориулсан дэмжлэгтэй үргэлж байсаар ирсэн.
	Тухайлбал хамгийн анхны &unix; машинууд хэрэглэгчийн оролт болон гаралтын
	хувьд цуваа шугамууд дээр тулгуурладаг байсан. Дундаж терминал нь
	секундэд 10 тэмдэгт дамжих цуваа хэвлэгч болон гараас тогтдог байсан тэр үеэс хойш
	юмс асар их өөрчлөгдсөөр ирсэн юм. Энэ бүлэг нь &os; дээр цуваа холбоонуудыг
	ашиглах зарим аргуудаас дурдах болно.</para>

    <para>Энэ бүлгийг уншсаны дараа, та дараах зүйлсийг мэдэх болно:</para>
    <itemizedlist>
      <listitem><para>&os; системд терминалуудыг хэрхэн холбох
	талаар.</para></listitem>
      <listitem><para>Алсын хостууд уруу хэрхэн модемоор залгаж холбогдох
	талаар.</para></listitem>
      <listitem><para>Алсын хэрэглэгчдийг модемоор &os; систем уруу
	нэвтрэхийг хэрхэн зөвшөөрөх талаар.</para></listitem>
      <listitem><para>Цуваа консолоос &os; системийг хэрхэн
	ачаалах талаар.</para></listitem>
    </itemizedlist>

    <para>Энэ бүлгийг уншихаасаа өмнө та дараах зүйлсийг гүйцэтгэх хэрэгтэй:</para>
    <itemizedlist>
      <listitem><para><link linkend="kernelconfig">Шинэ цөмийг хэрхэн тохируулан суулгах</link>
      талаар мэдэх.</para></listitem>
      <listitem><para><link linkend="basics">&unix; зөвшөөрлүүд болон процессуудыг</link>
      ойлгох.</para></listitem>
      <listitem><para>&os; дээр ашиглагддаг цуваа тоног төхөөрөмжийн техникийн гарын авлагад
	хандаж болохоор байх.</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 xml:id="serial">
    <title>Танилцуулга</title>

    <!-- XXX Write me! -->

    <sect2 xml:id="serial-terminology">
      <title>Ухагдахуунууд</title>

      <variablelist>
	<varlistentry>
	  <term><acronym>bps</acronym></term>
	  <listitem>
	    <indexterm><primary>bits-per-second</primary></indexterm>

	    <para>Bits per Second <acronym>bps</acronym> буюу секундэд дамжуулах бит &mdash;
		өгөгдөл дамжих хурд</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><acronym>DTE</acronym></term>
	  <listitem>
	    <indexterm><primary>DTE</primary></indexterm>

	    <para>Data Terminal Equipment <acronym>DTE</acronym> буюу Өгөгдлийн Терминал Төхөөрөмж &mdash;
		жишээ нь таны компьютер</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><acronym>DCE</acronym></term>
	  <listitem>
	    <indexterm><primary>DCE</primary></indexterm>

	    <para>Data Communications Equipment <acronym>DCE</acronym> буюу Өгөгдлийн Холбоонуудын Төхөөрөмж &mdash;  таны модем</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>RS-232</term>
	  <listitem>
	    <indexterm><primary>RS-232C кабелиуд</primary></indexterm>

	    <para>Тоног төхөөрөмжийн цуваа холбоонуудад зориулсан андагч стандарт. 
	    Одоо <acronym>TIA</acronym>-232 гэгддэг.</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>Холбоонуудын өгөгдлийн хурдны талаар ярихдаа энэ хэсэг <quote>baud</quote>
	гэсэн ухагдахууныг ашигладаггүй. Baud нь тодорхой хугацаанд хийгдсэн цахилгааны
	төлвийн шилжилтүүдийн тоог хэлдэг бол <acronym>bps</acronym> нь хэрэглэгдэх <emphasis>зөв</emphasis>
	ойлголт юм.</para>
    </sect2>

    <sect2 xml:id="serial-cables-ports">
      <title>Кабелиуд болон Портууд</title>

      <para>&os; систем уруу модем эсвэл терминалыг холбохын тулд
	танд компьютер дээр чинь цуваа порт болон өөрийн цуваа төхөөрөмж уруу холбох зөв кабель
	хэрэгтэй болно. Хэрэв та өөрийн тоног төхөөрөмжтэй болон шаардагдах кабельтай
	аль хэдийн танил болсон бол энэ хэсгийг айлгүйгээр орхиж болно.</para>

      <sect3 xml:id="term-cables">
	<title>Кабелиуд</title>

	<para>Хэд хэдэн өөр өөр төрлийн цуваа кабелиуд байдаг. Бидний
	зорилгод нийцэх хоёр хамгийн нийтлэг төрөл бол null-модем болон стандарт
	RS-232 кабелиуд юм. Таны тоног
	төхөөрөмжийн баримт шаардлагатай кабелийн төрлийг тайлбарлах
	ёстой.</para>

	<sect4 xml:id="term-cables-null">
	  <title>Null-модем кабелиуд</title>

	  <indexterm>
	    <primary>null-модем кабель</primary>
	  </indexterm>
	  <para>Null-модем кабель нь <quote>Signal Ground</quote> буюу Газар дохио
		зэрэг зарим дохионуудыг шууд нэвтрүүлдэг боловч зарим дохионуудыг
		шилжүүлдэг. Жишээ нь нэг талын <quote>Transmitted Data</quote>
		буюу Дамжигдсан Өгөгдөл зүү нь нөгөө талын <quote>Received Data</quote>
		буюу Хүлээн авсан Өгөгдөл зүү уруу ордог.</para>

	  <para>null-модем кабелийг терминалуудтай ажиллахаар болгож
		болно. Энэ хүснэгт нь RS-232C
	    <link linkend="serialcomms-signal-names">дохионуудын нэрс</link> болон
		DB-25 холбогч дээрх зүүний тоонуудыг харуулж байна. Мөн стандарт нь
		шууд холбогдох 1-р зүүг 1-р зүү <emphasis>Protective Ground</emphasis>
		буюу Хамгаалалтын Газар шугам уруу дууддаг боловч энэ нь ихэвчлэн орхигддог.
		Зарим терминалууд 2, 3 болон 7-р зүүнүүдийг зөвхөн ашиглахад зүгээр
		ажилладаг бол бусдууд нь доор дурдсан жишээнүүдээс өөр тохиргоонуудыг
		шаарддаг.</para>

	  <table frame="none" pgwide="1">
	    <title>DB-25-аас DB-25 Null-Модем кабель</title>

	    <tgroup cols="5">
	      <thead>
		<row>
		  <entry align="left">Дохио</entry>
		  <entry align="left">Зүү #</entry>
		  <entry/>
		  <entry align="left">Зүү #</entry>
		  <entry align="left">Дохио</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>SG</entry>
		  <entry>7</entry>
		  <entry>холбогдох</entry>
		  <entry>7</entry>
		  <entry>SG</entry>
		</row>

		<row>
		  <entry>TD</entry>
		  <entry>2</entry>
		  <entry>холбогдох</entry>
		  <entry>3</entry>
		  <entry>RD</entry>
		</row>

		<row>
		  <entry>RD</entry>
		  <entry>3</entry>
		  <entry>холбогдох</entry>
		  <entry>2</entry>
		  <entry>TD</entry>
		</row>

		<row>
		  <entry>RTS</entry>
		  <entry>4</entry>
		  <entry>холбогдох</entry>
		  <entry>5</entry>
		  <entry>CTS</entry>
		</row>

		<row>
		  <entry>CTS</entry>
		  <entry>5</entry>
		  <entry>холбогдох</entry>
		  <entry>4</entry>
		  <entry>RTS</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>20</entry>
		  <entry>холбогдох</entry>
		  <entry>6</entry>
		  <entry>DSR</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>20</entry>
		  <entry>холбогдох</entry>
		  <entry>8</entry>
		  <entry>DCD</entry>
		</row>

		<row>
		  <entry>DSR</entry>
		  <entry>6</entry>
		  <entry>холбогдох</entry>
		  <entry>20</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>DCD</entry>
		  <entry>8</entry>
		  <entry>холбогдох</entry>
		  <entry>20</entry>
		  <entry>DTR</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <para>Дараагийн хоёр хүснэгт нийтлэг байдаг өөр хоёр схемийг үзүүлэв.</para>

	  <table frame="none" pgwide="1">
	    <title>DB-9-өөс DB-9 Null-Модем кабель</title>

	    <tgroup cols="5">
	      <thead>
		<row>
		  <entry align="left">Дохио</entry>
		  <entry align="left">Зүү #</entry>
		  <entry/>
		  <entry align="left">Зүү #</entry>
		  <entry align="left">Дохио</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>RD</entry>
		  <entry>2</entry>
		  <entry>холбогдох</entry>
		  <entry>3</entry>
		  <entry>TD</entry>
		</row>

		<row>
		  <entry>TD</entry>
		  <entry>3</entry>
		  <entry>холбогдох</entry>
		  <entry>2</entry>
		  <entry>RD</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>4</entry>
		  <entry>холбогдох</entry>
		  <entry>6</entry>
		  <entry>DSR</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>4</entry>
		  <entry>холбогдох</entry>
		  <entry>1</entry>
		  <entry>DCD</entry>
		</row>

		<row>
		  <entry>SG</entry>
		  <entry>5</entry>
		  <entry>холбогдох</entry>
		  <entry>5</entry>
		  <entry>SG</entry>
		</row>

		<row>
		  <entry>DSR</entry>
		  <entry>6</entry>
		  <entry>холбогдох</entry>
		  <entry>4</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>DCD</entry>
		  <entry>1</entry>
		  <entry>холбогдох</entry>
		  <entry>4</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>RTS</entry>
		  <entry>7</entry>
		  <entry>холбогдох</entry>
		  <entry>8</entry>
		  <entry>CTS</entry>
		</row>

		<row>
		  <entry>CTS</entry>
		  <entry>8</entry>
		  <entry>холбогдох</entry>
		  <entry>7</entry>
		  <entry>RTS</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <table frame="none" pgwide="1">
	    <title>DB-9-өөс DB-25 Null-Модем кабель</title>

	    <tgroup cols="5">
	      <thead>
		<row>
		  <entry align="left">Дохио</entry>
		  <entry align="left">Зүү #</entry>
		  <entry/>
		  <entry align="left">Зүү #</entry>
		  <entry align="left">Дохио</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>RD</entry>
		  <entry>2</entry>
		  <entry>холбогдох</entry>
		  <entry>2</entry>
		  <entry>TD</entry>
		</row>

		<row>
		  <entry>TD</entry>
		  <entry>3</entry>
		  <entry>холбогдох</entry>
		  <entry>3</entry>
		  <entry>RD</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>4</entry>
		  <entry>холбогдох</entry>
		  <entry>6</entry>
		  <entry>DSR</entry>
		</row>

		<row>
		  <entry>DTR</entry>
		  <entry>4</entry>
		  <entry>холбогдох</entry>
		  <entry>8</entry>
		  <entry>DCD</entry>
		</row>

		<row>
		  <entry>SG</entry>
		  <entry>5</entry>
		  <entry>холбогдох</entry>
		  <entry>7</entry>
		  <entry>SG</entry>
		</row>

		<row>
		  <entry>DSR</entry>
		  <entry>6</entry>
		  <entry>холбогдох</entry>
		  <entry>20</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>DCD</entry>
		  <entry>1</entry>
		  <entry>холбогдох</entry>
		  <entry>20</entry>
		  <entry>DTR</entry>
		</row>

		<row>
		  <entry>RTS</entry>
		  <entry>7</entry>
		  <entry>холбогдох</entry>
		  <entry>5</entry>
		  <entry>CTS</entry>
		</row>

		<row>
		  <entry>CTS</entry>
		  <entry>8</entry>
		  <entry>холбогдох</entry>
		  <entry>4</entry>
		  <entry>RTS</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <note>
	    <para>Нэг талд байгаа нэг зүү нь нөгөө талын хос зүү уруу холбогдох
		бол тэдгээрийн холбогч дээр хос зүүний хооронд нэг богино утсаар
		болон урт утсаар нөгөө ганц зүү уруу холбон ихэвчлэн шийдсэн
		байдаг.</para>
	  </note>

	  <para>Дээрх дизайнууд нь хамгийн нийтлэг юм шиг санагддаг. Өөр хувилбарууд
		дээр SG нь SG уруу, TD нь RD уруу, RTS болон CTS нь DCD уруу, DTR нь
		DSR уруу болон эсрэгээр холбогддог.</para>
	</sect4>

	<sect4 xml:id="term-cables-std">
	  <title>Стандарт RS-232C кабелиуд</title>
	  <indexterm><primary>RS-232C кабелиуд</primary></indexterm>

	  <para>Стандарт цуваа кабель нь RS-232C дохионуудыг бүгдийг нь шууд
		нэвтрүүлдэг. Өөрөөр хэлбэл кабелийн нэг талын <quote>Transmitted Data</quote> буюу
		Дамжигдсан Өгөгдөл зүү нь нөгөө талын <quote>Transmitted Data</quote> буюу
		Дамжигдсан Өгөгдөл зүү уруу ордог. Энэ нь модемийг таны  &os; систем уруу болон
		зарим нэг тохирох терминалиуд уруу холбоход хэрэглэгдэх кабелийн
		төрөл юм.</para>
	</sect4>
      </sect3>

      <sect3 xml:id="term-ports">
	<title>Портууд</title>

	<para>Цуваа портууд нь өгөгдлийг  &os; хост компьютер болон терминалын хооронд
		дамжуулах төхөөрөмжүүд юм. Энэ хэсэг нь ямар төрлийн портууд байдаг болон
		 &os; дээр тэдгээрт хэрхэн ханддагийг тайлбарлах болно.</para>

	<sect4 xml:id="term-portkinds">
	  <title>Портуудын төрлүүд</title>

	  <para>Хэд хэдэн төрлийн портууд байдаг. Та кабелийг худалдаж авах юм уу эсвэл
		хийхээсээ өмнө энэ нь таны терминал болон &os; систем дээрх портуудад
		таарах эсэхийг шалгах хэрэгтэй.</para>

	  <para>Ихэнх терминалууд DB-25 портуудтай байдаг. Персонал компьютерууд нь 
	        DB-25 эсвэл DB-9 портуудтай байдаг. 
		PC дээрээ олон порттой цуваа карттай бол RJ-12 эсвэл RJ-45 портууд
		байж болох юм.</para>

	  <para>Тоног төхөөрөмжтэй цуг ирсэн баримтаас ашиглах портын төрлийн тодорхойлолтыг
		үзнэ үү. Портыг нүдээрээ харж шалгах нь бас үр дүнгээ өгдөг.</para>
	</sect4>

	<sect4 xml:id="term-portnames">
	  <title>Портын нэрс</title>

	  <para>&os; дээр цуваа порт бүрт <filename>/dev</filename> сан дахь
		оруулгаар та ханддаг. Хоёр өөр төрлийн оруулга байдаг:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Call-in буюу дуудагдах портууд нь
		<filename>/dev/ttyuN</filename>
		гэгддэг бөгөөд <replaceable>N</replaceable> нь тэгээс эхлэх портын
		дугаар юм. Ерөнхийдөө дуудагдах портыг терминалуудад зориулж
		ашигладаг. Data carrier detect (<acronym>DCD</acronym>) буюу өгөгдлийн зөөгч илрүүлэх
		дохиог зөв ажиллахыг цуваа шугам батлахыг дуудагдах портууд нь  шаарддаг.</para>
	    </listitem>

	    <listitem>
	      <para>Call-out буюу дуудах портууд нь
		<filename>/dev/cuauN</filename>
		гэгддэг. Дуудах портуудыг терминалуудад зориулж ихэвчлэн ашигладаггүй,
		зөвхөн модемуудад зориулж ашигладаг. Цуваа кабель эсвэл терминал нь
		зөөгчийг илрүүлэх дохиог дэмждэггүй бол дуудах портуудыг ашиглаж
		болох юм.</para>
	    </listitem>
	  </itemizedlist>

	  <para>Хэрэв терминалыг эхний цуваа порт уруу (<filename>COM1</filename>)
		холбосон бол терминалд хандахдаа <filename>/dev/ttyu0</filename> гэж
		ашиглах болно. Хэрэв терминал нь хоёр дахь цуваа порт дээр байгаа бол
		(<filename>COM2</filename>) <filename>/dev/ttyu1</filename>
		гэх мэтээр ашиглах ёстой.</para>

	</sect4>
      </sect3>
    </sect2>

    <sect2>
      <title>Цөмийн тохиргоо</title>

      <para>&os; нь анхдагчаар дөрвөн цуваа портыг дэмждэг. &ms-dos;-ийн
	ертөнцөд эдгээр нь 	<filename>COM1</filename>,
	<filename>COM2</filename>,
	<filename>COM3</filename>, болон
	<filename>COM4</filename> гэгддэг. &os; нь одоогоор
	BocaBoard 1008 болон 2016 зэрэг <quote>дүлий</quote> олон порттой цуваа
	интерфэйс картууд болон Digiboard болон Stallion Technologies-ийн хийдэг
	илүү ухаалаг олон порттой картуудыг дэмждэг. Гэхдээ анхдагч цөм нь зөвхөн
	стандарт COM портуудыг хайдаг.</para>

      <para>Таны цуваа портуудыг таны цөм таньж байгаа эсэхийг харахын тулд
	цөмийг ачаалж байх үед мэдэгдлүүдийг үзэх хэрэгтэй эсвэл цөмийн ачаалалтын
	мэдэгдлүүдийг дахин харуулах <command>/sbin/dmesg</command>
	тушаалыг ашиглах хэрэгтэй. <literal>uart</literal>
	тэмдэгтүүдээр эхэлсэн мэдэгдлүүдийг хайгаарай:</para>

	<screen>&prompt.root; <userinput>/sbin/dmesg | grep 'uart'</userinput></screen>

      <para>Хэрэв цөм бүх цуваа портуудыг чинь танихгүй байгаа бол
	<filename>/boot/device.hints</filename> файлд
	тохируулах хэрэгтэй байж болох юм. Байхгүй төхөөрөмжүүдийн
	хувьд тэдгээр мөрүүдийг тайлбар болгох эсвэл бүрмөсөн арилгаж
	болох юм.</para>

      <note>
	<para><literal>IO_COM1 порт</literal> нь <literal>0x3f8</literal> хаяг дээрх
	портод зориулагдсан орлуулалт  юм, <literal>IO_COM2</literal> нь <literal>0x2f8</literal>-ийн
	<literal>IO_COM3</literal> нь <literal>0x3e8</literal>-ийн
	<literal>IO_COM4</literal> нь <literal>0x2e8</literal>-ийн орлуулалт юм.
	Эдгээр хаягууд нь цуваа портуудын нэлээн түгээмэл портын хаягууд бөгөөд 4,3, 5 болон 9
	тасалдлууд нь нэлээн түгээмэл тасалдал хүсэх шугамнууд юм. Ердийн цуваа портууд нь
	ISA-bus бүхий PC-үүд дээр тасалдлуудыг хуваалцаж <emphasis>чаддаггүйг</emphasis>
	бас санаарай (олон порттой хавтангууд нь өөр дээрээ хавтан дээр бүх 16550A-уудад нэг эсвэл хоёр тасалдал
	хүсэх шугамуудыг хуваалцахыг зөвшөөрдөг бичил схемүүдтэй байдаг).</para>
      </note>

    </sect2>

    <sect2>
      <title>Төхөөрөмжийн Тусгай файлууд</title>

      <para>Цөм дэх ихэнх төхөөрөмжүүдэд <quote>төхөөрөмжийн тусгай файлууд</quote>ын
	тусламжтайгаар ханддаг бөгөөд эдгээр файлууд нь <filename>/dev</filename>
	санд байдаг. <filename>sio</filename> төхөөрөмжид
	<filename>/dev/ttyuN</filename>
	(dial-in буюу гаднаас залгах) болон <filename>/dev/cuauN</filename>
	(call-out буюу дуудах) төхөөрөмжүүдийн тусламжтай ханддаг. &os; нь
	бас эхлүүлэх төхөөрөмжүүд
	(<filename>/dev/ttyuN.init</filename> болон
	<filename>/dev/cuauN.init</filename>)
	болон түгжих төхөөрөмжүүдтэй
	(<filename>/dev/ttyuN.lock</filename> болон
	<filename>/dev/cuauN.lock</filename>)
	байдаг. Эхлүүлэх төхөөрөмжүүд нь
	урсгалын хяналтдаа <literal>RTS/CTS</literal>
	дохиоллыг ашигладаг модемийн <literal>crtscts</literal> зэрэг
	холбооны портын параметрүүдийг порт нээгдэх бүрт
	эхлүүлж тохируулахад хэрэглэгддэг. Түгжих төхөөрөмжүүд нь
	хэрэглэгчид болон програмуудын зарим нэг параметрүүдийг өөрчлөхөөс сэргийлэхийн тулд
	портууд дээр тугуудыг түгжихэд хэрэглэгддэг. Терминалын тохиргоонууд, түгжих болон
	эхлүүлэх төхөөрөмжүүд болон терминалын тохируулгуудыг тохируулах талаар
	дэлгэрэнгүй мэдээллийг &man.termios.4;, &man.sio.4;, болон &man.stty.1;
	гарын авлагын хуудаснуудаас үзнэ үү.</para>
    </sect2>


    <sect2 xml:id="serial-hw-config">
      <title>Цуваа портын тохиргоо</title>

    <indexterm><primary><filename>ttyu</filename></primary></indexterm>
    <indexterm><primary><filename>cuau</filename></primary></indexterm>

    <para><filename>ttyuN</filename> (эсвэл
      <filename>cuauN</filename>) төхөөрөмж нь
	таны өөрийн програмууддаа зориулж нээхийг хүсэх ердийн төхөөрөмж юм. Процесс
	төхөөрөмжийг онгойлгоход энэ нь терминалын I/O тохиргоонуудын анхдагч олонлогтой
	байх болно. Та эдгээр тохиргоонуудыг дараах тушаалаар үзэж болно</para>

    <screen>&prompt.root; <userinput>stty -a -f /dev/ttyu1</userinput></screen>

    <para>Энэ төхөөрөмжид тохиргоонуудыг өөрчлөхөд төхөөрөмжийг хаах хүртэл тохиргоонууд нь
	идэвхтэй байдаг. Дахин онгойлгоход энэ нь анхдагч тохиргоо уруугаа буцдаг.
	Анхдагч олонлогт өөрчлөлтүүдийг хийхийн тулд та онгойлгоод
	<quote>эхний төлөвт</quote> төхөөрөмжийн тохиргоонуудыг тааруулж
	болно. Жишээ нь <filename>ttyu5</filename>-ийн хувьд 
	<option>CLOCAL</option> горим, 8 бит холбоо, болон <option>XON/XOFF</option>
	урсгалын хяналтыг идэвхжүүлэхийн тулд доор дурдсаныг бичнэ:</para>

    <screen>&prompt.root; <userinput>stty -f /dev/ttyu5.init clocal cs8 ixon ixoff</userinput></screen>

    <indexterm>
      <primary>rc файлууд</primary>
      <secondary><filename>rc.serial</filename></secondary>
    </indexterm>

    <para>Цуваа төхөөрөмжүүдийн системийн дагуух эхлүүлэлт нь
	<filename>/etc/rc.d/serial</filename> файлаар хянагддаг. Энэ файл нь
	цуваа төхөрөмжүүдийн анхдагч тохиргоонуудад нөлөөлдөг.</para>

    <para>Програм зарим тохиргоонуудыг өөрчлөхөөс сэргийлэхийн тулд
	<quote>түгжих төлөвт</quote> төхөөрөмжид тохиргоо хийнэ. Жишээ нь
	<filename>ttyu5</filename>-ийн хурдыг 57600&nbsp;bps
	болгож түгжихийн тулд доор дурдсаныг бичнэ:</para>

    <screen>&prompt.root; <userinput>stty -f /dev/ttyu5.lock 57600</userinput></screen>

    <para>Одоо програм <filename>ttyu5</filename>-ийг онгойлгож портын хурдыг
	өөрчлөхийг оролдоход хурд нь 57600&nbsp;bps-с хөдлөхгүй
	байх болно.</para>

    <para>Эхний төлөвт болон түгжих төлөвт төхөөрөмжүүдийг зөвхөн
	<systemitem class="username">root</systemitem> бүртгэл бичдэгээр болгох хэрэгтэй.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="term">
    <info><title>Терминалууд</title>
      <authorgroup>
	<author><personname><firstname>Шон</firstname><surname>Келли</surname></personname><contrib>Хувь нэмэр болгон оруулсан </contrib></author>
	<!-- 28 July 1996 -->
      </authorgroup>
    </info>
    

    <indexterm><primary>терминалууд</primary></indexterm>

    <para>Терминалууд нь таныг компьютерийнхаа консол дээр байхгүй үед эсвэл сүлжээнд
	холбогдоогүй байхад амархан, үнэ хямд аргаар &os; систем уруу хандах
	боломжийг олгодог. Энэ хэсэг нь терминалуудыг FreeBSD-тэй хэрхэн ашиглах
	талаар тайлбарлана.</para>

    <sect2 xml:id="term-uses">
      <title>Терминалуудын хэрэглээ болон төрлүүд</title>

      <para>Анхдагч &unix; системүүдэд консол байгаагүй юм. Харин компьютерийн цуваа
	портуудад холбогдсон терминалуудаар хүмүүс нэвтрэн ороод програмууд ажиллуулдаг
	байсан байна.</para>

      <para>Цуваа порт дээр нэвтрэх сесс үүсгэх чадвар өнөөгийн бараг бүх
	&unix; загварын үйлдлийн системд байдаг бөгөөд &os; ч бас үүний нэгэн
	адил юм. Ашиглагдаагүй байгаа цуваа портод холбогдсон терминалыг ашиглан
	та нэвтрэн орж дурын текст програмыг консол эсвэл 
	<command>xterm</command> цонхонд ажиллуулдаг байсан шигээр ажиллуулж
	болох юм.</para>

      <para>&os; системд олон терминалуудыг
	холбож болох юм. Хуучин компьютер нь &os; ажиллуулж байгаа илүү хүчтэй компьютерт холбогдсон
	терминал болж болох юм. Ингэснээр ганц хэрэглэгчийн байсан компьютерийг хүчирхэг олон
	хэрэглэгчийн систем болгон хувиргаж болох юм.</para>

      <para>Энэ хэсэгт &os;-н дэмждэг дүлий терминал, терминал хэлбэрээр ажиллаж байгаа компьютер, 
       болон X терминал гэсэн гурван төрлийн терминалын талаар тайлбарлана.</para>

      <sect3 xml:id="term-dumb">
	<title>Дүлий терминалууд</title>

	<para>Дүлий терминалууд нь таныг компьютерууд уруу цуваа шугамуудаар холбогдохыг
	зөвшөөрөх тусгайлсан тоног төхөөрөмж юм. Тэдгээрийг <quote>дүлий</quote> гэдэг
	бөгөөд тэдгээр нь зөвхөн текст харуулах, илгээх, болон хүлээж авах хангалттай
	тооцооллын хүчин чадалтай учраас тэр юм. Та тэдгээр дээр ямар ч програм
	ажиллуулж чадахгүй. Текст засварлагчууд, эмхэтгэгчид, цахим захидал, тоглоомууд
	гэх зэргүүдийг ажиллуулах хүчин чадал бүхий таны компьютерт тэдгээрийг
	холбодог.</para>

	<para>Бараг бүх төрөл FreeBSD-тэй цуг ажиллана. Зарим нэг өндөр чанартай терминалууд
	график үзүүлж чаддаг боловч эдгээр дэвшилтэт боломжуудыг зөвхөн цөөн хэдэн
	програм хангамжийн багцууд ашиглаж чаддаг.</para>

	<para>Ажилтнууд нь график програмуудад хандах шаардлагагүй
	ажлын орчинд дүлий терминалууд нь түгээмэл байдаг.</para>
      </sect3>

      <sect3 xml:id="term-pcs">
	<title>Терминал маягаар ажиллаж байгаа PC-үүд</title>

	<para>Хэрэв <link linkend="term-dumb">дүлий терминал</link> нь текст
	харуулах, илгээж хүлээн авах чадвартай байдаг бол ямар ч нөөц персонал компьютер
	дүлий терминал болж чадна. Танд зөв кабель болон компьютер дээр ажиллах зарим нэг
	<emphasis>терминал эмуляц хийх</emphasis> програм хангамж хоёр л хэрэгтэй
	болох юм.</para>

	<para>Ийм тохиргоо их ашигтай байдаг. Жишээ нь хэрэв нэг хэрэглэгч &os; 
	системийн консол дээр завгүй ажиллаж байвал өөр хэрэглэгч &os; систем уруу терминал
	маягаар холбосон арай хүчин чадал багатай персонал компьютер дээрээс
	зарим нэг текст орчны ажил зэрэг хийж байж болох юм.</para>

	<para>&os;-ийн үндсэн системд цуваа холболтоор ажиллахад хэрэглэж болох
	хамгийн багаар бодоход хоёр хэрэгсэл байдаг: энэ нь &man.cu.1; болон &man.tip.1;
	юм.</para>

	<para>&os; ажиллаж байгаа клиент систем дээрээс өөр системийн цуваа холболт уруу
	холбогдохын тулд та дараах тушаалыг ашиглаж болно:</para>

	<screen>&prompt.root; <userinput>cu -l serial-port-device</userinput></screen>

	<para>Энд байгаа <quote>serial-port-device</quote> нь таны системийн
	цуваа портод зориулагдсан тусгай төхөөрөмжийн файлын нэр юм. Эдгээр төхөөрөмжийн
	файлууд нь <filename>/dev/cuauN</filename>
	гэж нэрлэгддэг.</para>

	<para>Төхөөрөмжийн <quote>N</quote>-хэсэг нь цуваа портын дугаарыг
	илэрхийлнэ.</para>

	<note>
	  <para>&os; дээр төхөөрөмжийн дугаарууд нь нэгээс биш тэгээс эхэлдэг
		Энэ нь <filename>COM1</filename> гэж нэрлэдэг порт
		&os; дээр ихэвчлэн <filename>/dev/cuau0</filename>
		гэгддэг.</para>
	</note>

	<note>
	  <para>Зарим хүмүүс портын цуглуулгад байдаг өөр програмууд ашиглахыг
		илүүд үздэг. <package>comms/minicom</package> зэрэг
		цөөнгүй хэдэн хэрэгслүүд байдаг.</para>
	</note>
      </sect3>

      <sect3 xml:id="term-x">
	<title>X терминалууд</title>

	<para>X терминалууд нь хамгийн төвөгтэй терминалуудын нэг юм. Цуваа порт уруу
	холбогдохын оронд тэдгээр нь ихэвчлэн Ethernet зэрэг сүлжээнд холбогддог.
	Зөвхөн текст орчны програмуудад зориулагдсан биш тэдгээр нь харин X програм үзүүлж
	чаддаг.</para>

	<para>Энэ бүлэг X терминалуудыг суулгах, тохируулах болон
	тэдгээрийн хэрэглээг <emphasis>тайлбарлахгүй</emphasis>.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="term-config">
      <title>Тохиргоо</title>

      <para>Энэ хэсэг нь терминал дээр нэвтрэх сесс идэвхжүүлэхийн тулд өөрийн &os; систем
	дээр таныг юу тохируулах хэрэгтэйг тайлбарлах болно. Энэ нь цуваа
	порт дэмжихээр өөрийн цөмийг таныг аль хэдийн тохируулсан байгаа гэж үздэг. Цуваа
	порт уруу терминал холбогдсон бөгөөд таныг тэр терминал уруу холбогдсон байгаа
	гэж тооцдог.</para>

      <para><command>init</command> процесс нь бүх процессийн хяналт болон
	системийн эхлүүлэх үе дэх эхний тохиргоог хариуцдаг. 
	<command>init</command>-ийн хийдэг үйлдлүүдийн нэг нь
	<filename>/etc/ttys</filename> файлыг уншиж байгаа терминалууд
	дээр <command>getty</command> процессийг эхлүүлэх явдал юм.
	<command>getty</command> процесс нь нэвтрэх нэрийг уншиж
	<command>login</command> програмыг ажиллуулахыг хариуцдаг.</para>

      <para>&os; системийн хувьд терминалуудыг тохируулахын
	тулд <systemitem class="username">root</systemitem> хэрэглэгчээр дараах алхмуудыг гүйцэтгэх
	хэрэгтэй:</para>

      <procedure>
	<step>
	  <para><filename>/dev</filename> сан дахь оруулгад зориулж
		<filename>/etc/ttys</filename> файлд хэрэв байхгүй бол
		цуваа портын мөрийг нэмнэ.</para>
	</step>

	<step>
	  <para><command>/usr/libexec/getty</command> нь порт дээр
		ажиллахыг зааж <filename>/etc/gettytab</filename> файлаас
		тохирох <replaceable>getty</replaceable> төрлийг
		тохируулах хэрэгтэй.</para>
	</step>

	<step>
	  <para>Анхдагч терминалын төрлийг заана.</para>
	</step>

	<step>
	  <para>Портыг <quote>on</quote> болгоно.</para>
	</step>

	<step>
	  <para>Порт <quote>secure</quote> байх ёстой эсэхийг заана.</para>
	</step>

	<step>
	  <para><command>init</command> тушаалаар
		<filename>/etc/ttys</filename> файлыг дахин уншуулна.</para>
	</step>
      </procedure>

      <para>Нэмэлт алхам болгож хоёрдугаар алхам дээр та өөр <replaceable>getty</replaceable>
	төрлийг хэрэглээнд зориулан <filename>/etc/gettytab</filename>-д
	оруулан үүсгэж болох юм. Дэлгэрэнгүй мэдээллийг &man.gettytab.5; болон &man.getty.8; гарын
	авлагын хуудаснуудаас үзэхийг зөвлөж байна.</para>

      <sect3 xml:id="term-etcttys">
	<title><filename>/etc/ttys</filename> уруу оруулгууд нэмэх нь</title>

	<para><filename>/etc/ttys</filename> файл нь нэвтрэлтүүдийг зөвшөөрөхийг хүссэн
	&os; систем дээрх бүх портуудыг жагсаадаг. Жишээ нь эхний виртуал консол
	<filename>ttyv0</filename> нь энэ файлд өөрийн оруулгатай байна. Та энэ оруулгыг
	ашиглан консол дээр нэвтрэн орж чадна. Энэ файл нь бас бусад виртуал консолууд, цуваа портууд,
	болон псевдо tty-уудын оруулгуудыг бас агуулдаг. Хатуугаар холбогдсон терминалын хувьд
	цуваа портын <filename>/dev</filename> оруулгыг <filename>/dev</filename>
	хэсэггүйгээр (жишээ нь <filename>/dev/ttyv0</filename> нь <filename>ttyv0</filename>
	гэж жагсаагдах болно) жагсаадаг.</para>

	<para>Анхдагч &os; суулгац нь <filename>/etc/ttys</filename> файлыг
	эхний дөрвөн цуваа портын дэмжлэгтэйгээр агуулдаг: <filename>ttyu0</filename>-с
	  <filename>ttyu3</filename> хооронд байна. Терминалыг эдгээр
	портуудын аль нэгэнд холбож байгаа бол өөр оруулга нэмэх шаардлагагүй юм.</para>

	<example xml:id="ex-etc-ttys">
	  <title><filename>/etc/ttys</filename> уруу терминалын оруулгууд нэмэх нь</title>

	  <para>Энэ жишээ хоёр терминалыг тохируулна: Wyse-50
		болон VT-100 терминалыг эмуляц хийх <application>Procomm</application>
		терминал програм хангамжийг ажиллуулж байгаа хуучин 286 IBM PC-г
		терминал маягаар ашиглая. Wyse-ийг хоёр дахь цуваа порт уруу
		холбож 286-г зургаа дахь цуваа порт уруу холбоё (олон порттой цуваа картын
		порт). <filename>/etc/ttys</filename> файл дахь харгалзах
		оруулгууд нь иймэрхүү байна:</para>

	  <programlisting>ttyu1<co xml:id="co-ttys-line1col1"/>  "/usr/libexec/getty std.38400"<co xml:id="co-ttys-line1col2"/>  wy50<co xml:id="co-ttys-line1col3"/>  on<co xml:id="co-ttys-line1col4"/>  insecure<co xml:id="co-ttys-line1col5"/>
ttyu5   "/usr/libexec/getty std.19200"  vt100  on  insecure
	  </programlisting>

	  <calloutlist>
	    <callout arearefs="co-ttys-line1col1">
	      <para>Эхний талбар нь ихэвчлэн <filename>/dev</filename>-д байгаа
		терминалын тусгай файлын нэрийг заадаг.</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col2">
	      <para>Хоёр дахь талбар нь энэ мөрийн хувьд ажиллах тушаал бөгөөд
		ихэвчлэн &man.getty.8; байдаг. <command>getty</command> нь
		эхлүүлж шугамыг нээн хурдыг тохируулан хэрэглэгчийн нэрийг асууж
		&man.login.1; програмыг ажиллуулдаг.</para>

	      <para><command>getty</command> програм нь нэг (нэмэлт) параметр
		<replaceable>getty</replaceable> төрлийг өөрийн тушаалын мөрөнд
		хүлээн авдаг. <replaceable>getty</replaceable> төрөл нь
		терминалын шугам дахь <acronym>bps</acronym> хурд болон parity зэрэг шинжүүдийг
		тохируулдаг. <command>getty</command> програм нь
		эдгээр шинжүүдийг <filename>/etc/gettytab</filename> файлаас
		уншдаг.</para>

	      <para><filename>/etc/gettytab</filename> файл нь хуучин болон
		шинэ терминалын шугамнуудад зориулсан олон мөрүүдийг агуулдаг.
		Бараг бүх тохиолдолд <literal>std</literal> текстээр эхэлсэн
		оруулгууд нь hardwired буюу хатуугаар холбогдсон терминалуудын
		хувьд ажилладаг. Эдгээр оруулгууд нь parity-г орхидог.
		110-аас 115200 хүртэл <acronym>bps</acronym> хурд болгоны хувьд <literal>std</literal>
		оруулга байдаг. Мэдээж та өөрийнхөө оруулгыг энэ файлд нэмж болно.
		&man.gettytab.5; гарын авлагын хуудас илүү дэлгэрэнгүй мэдээллийг
		өгөх болно.</para>

	      <para><replaceable>getty</replaceable> төрлийг
		<filename>/etc/ttys</filename> файлд тохируулахдаа
		терминал дахь холбооны тохируулгууд таарч байгаа эсэхийг
		шалгаарай.</para>

	      <para>Бидний жишээн дээр Wyse-50 нь parity ашиглахгүй бөгөөд
		38400&nbsp;bps хурдаар холбогдоно. 286&nbsp;PC нь parity
		ашиглахгүй бөгөөд 19200&nbsp;bps хурдаар холбогдоно.</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col3">
	      <para>Гурав дахь талбар нь тэр tty шугам уруу ихэвчлэн холбогдсон байдаг
		терминалын төрөл юм. Хэрэглэгч нь бараг л дурын терминалын төрөл эсвэл
		програм хангамжаар утасдан холбогдож болох учир dial-up портуудын хувьд
		<literal>unknown</literal> эсвэл <literal>dialup</literal>
		төрөл энэ талбарт ихэвчлэн ашиглагддаг. Хатуугаар холбогдсон терминалуудын
		хувьд терминалын төрөл өөрчлөгдөхгүй учраас та энэ талбарт
		&man.termcap.5; мэдээллийн баазаас жинхэнэ терминалын төрлийг
		тавьж болно.</para>

	      <para>Бидний жишээн дээр Wyse-50 нь жинхэнэ терминалын төрлийг ашиглах
		бол <application>Procomm</application> ажиллуулж байгаа
		286 PC нь VT-100-г эмуляц хийхээр тохируулагдах болно.</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col4">
	      <para>Дөрөв дэх талбар нь порт идэвхтэй байх ёстой эсэхийг заадаг.
		Энд <literal>on</literal> гэж тавихад <command>init</command>
		процесс хоёр дахь талбар дахь програм <command>getty</command>-г
		ажиллуулах болно. Хэрэв та энэ талбарт <literal>off</literal> гэж
		тавьбал <command>getty</command> үгүй болж порт дээр
		нэвтрэлт байхгүй болно.</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col5">
	      <para>Сүүлийн талбар нь порт аюулгүй эсэхийг заахад хэрэглэгддэг.
		Портыг secure буюу аюулгүй болгох нь <systemitem class="username">root</systemitem>
		бүртгэлийг (эсвэл хэрэглэгчийн <acronym>UID</acronym> 0 бүхий дурын бүртгэлийг) тэр портоос
		нэвтрэхийг зөвшөөрч хангалттай итгэнэ гэсэн үг юм. Insecure буюу
		аюулгүй биш портууд нь <systemitem class="username">root</systemitem> нэвтрэлтүүдийг
		зөвшөөрдөггүй. Insecure буюу аюулгүй биш порт дээр хэрэглэгчид нь
		эрхгүй бүртгэлүүдээс нэвтрэн орж супер хэрэглэгчийн эрхүүдийг
		авахын тулд &man.su.1; эсвэл өөр төстэй арга замыг ашиглах
		ёстой юм.</para>

	      <para>Түгжээтэй хаалганы цаана байгаа терминалын хувьд ч гэсэн
		<literal>insecure</literal> тохируулгыг ашиглах нь хамгийн зөв зүйтэй
		юм. Хэрэв танд супер хэрэглэгчийн зөвшөөрлүүд хэрэгтэй бол
		нэвтрэн ороод <command>su</command> тушаалыг ашиглах нь
		их амархан байдаг.</para>
	    </callout>
	  </calloutlist>
	</example>
      </sect3>

      <sect3 xml:id="term-hup">
	<title><filename>/etc/ttys</filename>-г <command>init</command> тушаалаар
		дахин уншуулах</title>

	<para><filename>/etc/ttys</filename> файлд шаардлагатай өөрчлөлтүүдийг
	хийсний дараа <command>init</command> процесс уруу өөрийн тохиргооных нь файлыг
	дахин уншуулахын тулд SIGHUP (hangup) дохиог илгээх хэрэгтэй:</para>

	<screen>&prompt.root; <userinput>kill -HUP 1</userinput></screen>

	<note>
	  <para><command>init</command> нь үргэлж систем дээр ажиллаж байгаа эхний
		процесс байдаг учир энэ нь үргэлж процесс ID 1-тэй байна.</para>
	</note>

	<para>Хэрэв бүгд зөв тохируулагдаж бүх кабелиуд нь байх ёстой газраа байж
		терминалууд нь ассан байгаа бол терминал бүр дээр <command>getty</command>
		процесс ажиллаж байх ёстой бөгөөд та энэ үед өөрийн терминалууд
		дээр нэвтрэлт хүлээх мөрүүдийг харах ёстой.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="term-debug">
      <title>Өөрийн холболтод гарсан алдааг олж засварлах нь</title>

      <para>Нягт нямбай анхаарал хандуулсан байлаа ч гэсэн терминалыг тохируулж
	байх явцад алдаа гарч буруутаж болох юм. Энд шинж тэмдгүүдийн жагсаалт
	болон зарим нэг санал болгосон засваруудыг үзүүлэв.</para>

      <sect3>
	<title>Нэвтрэлт хүлээх мөр гарч ирэхгүй байх</title>

	<para>Терминал холбогдсон бөгөөд ассан байгаа эсэхийг шалгана. Энэ нь хэрэв
	терминал маягаар ажиллаж байгаа персонал компьютер бол зөв цуваа порт дээр
	терминал эмуляц хийх програм хангамж ажиллуулж байгаа эсэхийг
	шалгаарай.</para>

	<para>Кабель терминал болон &os; компьютерт сайн холбогдсон эсэхийг
	шалгах хэрэгтэй. Энэ нь зөв төрлийн кабель болохыг баталгаажуулж үзээрэй.</para>

	<para>Терминал болон &os; нь <acronym>bps</acronym> хурд болон parity тохиргоонууд дээр
	тохирч байгаа эсэхийг шалгаарай. Хэрэв та видео дэлгэцийн терминалтай бол
	хар цагаан болон тод байдлын хяналтууд таарсан эсэхийг үзээрэй. Хэрэв энэ нь
	хэвлэх терминал бол цаас болон бэх сайн эсэхийг шалгаарай.</para>

	<para><command>getty</command> процесс ажиллаж терминалд үйлчилж
	байгаа эсэхийг үзнэ. Жишээ нь ажиллаж байгаа <command>getty</command>
	процессуудын жагсаалтыг <command>ps</command> тушаалаар авахын тулд
	доор дурдсаныг бичнэ:</para>

	<screen>&prompt.root; <userinput>ps -axww|grep getty</userinput></screen>

	<para>Та терминалын хувьд түүний оруулгыг харах ёстой. Жишээ нь
	дараах дэлгэц нь <command>getty</command> нь хоёр дахь
	цуваа порт <filename>ttyu1</filename> дээр ажиллаж
	<filename>/etc/gettytab</filename> файлд
	<literal>std.38400</literal> гэсэн оруулгыг ашиглаж
	байгааг харуулж байна:</para>

	<screen>22189  d1  Is+    0:00.03 /usr/libexec/getty std.38400 ttyu1</screen>

	<para>Хэрэв ямар ч <command>getty</command> процесс ажиллахгүй
	байгаа бол <filename>/etc/ttys</filename> файлд та портыг
	идэвхжүүлсэн эсэхээ шалгаарай. Мөн <filename>ttys</filename>
	файлыг өөрчилснийхөө дараа <command>kill -HUP 1</command>
	тушаалыг ажиллуулахаа мартуузай.</para>

	<para>Хэрэв <command>getty</command> процесс ажиллаж байгаа боловч
	терминал нь нэвтрэлт хүлээх мөрийг харуулахгүй байгаа, эсвэл энэ нь
	хүлээх мөрийг үзүүлж байгаа боловч танд бичихийг зөвшөөрөхгүй байгаа бол
	таны терминал эсвэл кабель тоног төхөөрөмжийн handshaking буюу
	харилцан зохицож холбогдох горимыг дэмжихгүй байна гэсэн үг юм.
	<filename>/etc/ttys</filename> файл дахь оруулгыг
	<literal>std.38400</literal>-с <literal>3wire.38400</literal>
	уруу болгож үзээрэй (<filename>/etc/ttys</filename> файлыг өөрчилснийхөө
	дараа <command>kill -HUP 1</command> тушаалыг ажиллуулахаа
	мартуузай). <literal>3wire</literal> оруулга нь <literal>std</literal>-тэй
	төстэй боловч тоног төхөөрөмжийн handshaking хийдэггүй.
	Магадгүй та хурдыг багасгаж эсвэл <literal>3wire</literal>-г
	ашиглаж байхдаа буфер дүүрэхээс сэргийлж
	програм хангамжийн урсгалын хяналтыг идэвхжүүлэх
	хэрэгтэй байж болох юм.</para>

      </sect3>

      <sect3>
	<title>Нэвтрэлт хүлээх мөрийн оронд хог гарч ирвэл</title>

	<para>Терминал болон &os; нь <acronym>bps</acronym> хурд болон parity тохиргоонууд дээр тохирч
	байгаа эсэхийг шалгана. Зөв <replaceable>getty</replaceable> төрлийг
	ашиглаж байгаа эсэхийг баталгаажуулж <command>getty</command>
	процессуудыг шалгах хэрэгтэй. Хэрэв үгүй бол <filename>/etc/ttys</filename>-г
	засварлаж <command>kill -HUP 1</command> тушаалыг ажиллуулна.</para>

      </sect3>

      <sect3>
	<title>Тэмдэгтүүд хоёр удаа гарах; бичих үед нууц үг гарах</title>

	<para>Терминалыг (эсвэл терминал эмуляц хийх програм хангамжийг)
	<quote>half duplex</quote> эсвэл <quote>local echo</quote>
	горимоос <quote>full duplex</quote> уруу шилжүүлнэ.</para>

      </sect3>
    </sect2>
  </sect1>

  <sect1 xml:id="dialup">
    <info><title>Dial-in буюу гаднаас залгах үйлчилгээ</title>
      <authorgroup>
	<author><personname><firstname>Гай</firstname><surname>Хэлмер</surname></personname><contrib>Хувь нэмэр болгон оруулсан </contrib></author>
      </authorgroup>
      <authorgroup>
	<author><personname><firstname>Шон</firstname><surname>Келли</surname></personname><contrib>Нэмсэн </contrib></author>
      </authorgroup>
    </info>
    

    <indexterm><primary>dial-in үйлчилгээ</primary></indexterm>

    <para>&os; системийг dial-in буюу гаднаас залгах үйлчилгээнд
	зориулж тохируулах нь терминалууд холбохтой маш төстэй бөгөөд ялгаатай
	тал нь та терминалуудын оронд модемуудтай ажиллах юм.</para>

      <sect2>
	<title>Гадаад, Дотоод модемууд</title>

	<para>Гадаад модемууд нь dial-up буюу гадагш залгахад илүү тохиромжтой
	байдаг, учир нь гадаад модемууд нь хувирдаггүй RAM-д хадгалагдах параметрүүдээр
	хагас тогтмолоор ихэвчлэн тохируулагдсан байж болдог бөгөөд тэдгээр нь ихэвчлэн
	чухал RS-232 дохионуудын төлөвийг үзүүлдэг гэрлийн заагчтай байдаг.
	</para>

	<para>Дотоод модемуудад ихэвчлэн хувирдаггүй RAM байдаггүй болохоор тэдгээрийн
	тохиргоо зөвхөн DIP шилжүүлэгчдийг тохируулснаар хязгаарлагдаж болох юм.
	Хэрэв таны дотоод модем ямар нэг дохио заагч гэрэлтэй бол системийн гадар
	байгаа нөхцөлд харахад хүнд байх байсан болов уу.</para>

      <sect3>
	<title>Модемууд болон Кабелууд</title>
	<indexterm><primary>модем</primary></indexterm>

	<para>Хэрэв та гадаад модем ашиглаж байгаа бол танд мэдээж зөв кабель
	хэрэгтэй болно. Хэвийн бүх дохионууд холбогдсон байхад стандарт RS-232C цуваа
	кабель хангалттай байх ёстой:</para>

	  <table frame="none" pgwide="1" xml:id="serialcomms-signal-names">
	    <title>Дохионы нэрс</title>

	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry align="left">Товчлолууд</entry>
		  <entry align="left">Нэрс</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry><acronym>RD</acronym></entry>
		  <entry>Received Data буюу Хүлээн авсан өгөгдөл</entry>
		</row>

		<row>
		  <entry><acronym>TD</acronym></entry>
		  <entry>Transmitted Data буюу Дамжуулсан өгөгдөл</entry>
		</row>

		<row>
		  <entry><acronym>DTR</acronym></entry>
		  <entry>Data Terminal Ready буюу Өгөгдлийн терминал бэлэн</entry>
		</row>

		<row>
		  <entry><acronym>DSR</acronym></entry>
		  <entry>Data Set Ready буюу Өгөгдлийн олонлог бэлэн</entry>
		</row>

		<row>
		  <entry><acronym>DCD</acronym></entry>
		  <entry>Data Carrier Detect буюу Өгөгдлийн зөөгч илрүүлэх (RS-232-ийн Хүлээн авсан Шугамын Дохио Илрүүлэгч)</entry>
		</row>

		<row>
		  <entry><acronym>SG</acronym></entry>
		  <entry>Signal Ground буюу Дохио газар</entry>
		</row>

		<row>
		  <entry><acronym>RTS</acronym></entry>
		  <entry>Request to Send буюу Илгээх хүсэлт</entry>
		</row>

		<row>
		  <entry><acronym>CTS</acronym></entry>
		  <entry>Clear to Send буюу Илгээхэд цэвэр</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	<para>2400&nbsp;bps хурдаас дээш урсгалын хяналтад
	<acronym>RTS</acronym> болон <acronym>CTS</acronym> дохионууд
	&os;-д хэрэгтэй байдаг. Мөн хэзээ дуудлага хүлээн авсан эсвэл шугам таслагдсаныг мэдэх
	<acronym>CD</acronym> дохио болон сесс бүрэн гүйцэд болсны дараа модемийг
	дахин тохируулах <acronym>DTR</acronym> дохионууд хэрэгтэй байдаг.
	Зарим кабелиуд нь бүх хэрэгцээтэй дохионуудгүйгээр холбогдсон байдаг болохоор
	шугам таслагдах үед нэвтрэх сесс байхгүй болохгүй байх зэрэг асуудлууд хэрэв танд байгаа бол
	таны кабель асуудалтай байж болох юм.</para>

	<para>Бусад &unix; төст үйлдлийн системүүдийн адил &os; нь
	хэзээ дуудлагыг хүлээн авсан эсвэл шугам хэзээ таслагдсан болон дуудлагын дараа
	модемийг тасалж дахин тохируулахыг мэдэх тоног төхөөрөмжийн дохионуудыг
	ашигладаг. &os; нь модем уруу тушаалуудыг илгээх эсвэл модемоос
	төлвийн тайлангуудыг харахаас зайлсхийдэг.</para>
      </sect3>
      </sect2>

      <sect2>
	<title>Цуваа интерфэйсийн эргэцүүллүүд</title>

	<para>&os; нь NS8250-, NS16450-, NS16550-, болон NS16550A-дээр
	тулгуурласан EIA RS-232C (CCITT V.24) холбооны интерфэйсүүдийг дэмждэг.
	8250 болон 16450 интерфэйсүүд нь ганц тэмдэгтийн буфертай байдаг. 16550
	төхөөрөмж нь системийн ажиллагааг илүү сайн болгох 16 тэмдэгтийн буфертай
	байдаг. Цэвэр 16550 дахь алдаанууд нь 16 тэмдэгтийн буферийн хэрэглээнээс
	зайлсхийдэг, тиймээс хэрэв боломжтой бол 16550A-г ашиглаарай. Ганц тэмдэгтийн
	буфер бүхий төхөөрөмжүүд нь 16 тэмдэгтийн буфер бүхий төхөөрөмжүүдээс илүү
	ажил үйлдлийн системээс шаарддаг учраас 16550A-дээр тулгуурласан цуваа
	интерфэйс картуудыг эрхэмлэх нь зүйтэй юм. Хэрэв систем олон идэвхтэй
	цуваа портуудтай бол эсвэл их ачаалалтай бол 16550A-дээр тулгуурласан картууд
	нь бага алдааны түвшин бүхий холбоонуудад илүү зохицдог.</para>
      </sect2>

    <sect2>
      <title>Түргэн дүгнэлт</title>

      <indexterm><primary>getty</primary></indexterm>
      <para>Терминалуудтай адил <command>init</command> нь
	гаднаас залгах холболтуудын хувьд тохируулсан цуваа порт бүрийн хувьд
	<command>getty</command> процессийг ажиллуулдаг. Жишээ нь
	хэрэв модем <filename>/dev/ttyu0</filename> уруу
	залгагдсан бол <command>ps ax</command> тушаал ингэж
	харуулж болох юм:</para>

      <screen> 4850 ??  I      0:00.09 /usr/libexec/getty V19200 ttyu0</screen>

      <para>Хэрэглэгч модемийн шугам залгаад модем холбогдох үед
	<acronym>CD</acronym> (Carrier Detect буюу Зөөгч Илрүүлэгч) шугамыг
	модем гаргаж харуулна. Цөм зөөгч илрүүлэгдсэнийг мэдэж <command>getty</command>-ийн
	порт нээхийг гүйцээнэ. <command>getty</command> нь <prompt>login:</prompt>
	хүлээх мөрийг заагдсан эхний шугамын хурдаар илгээдэг. <command>getty</command> нь
	зөвшөөрөгдсөн тэмдэгтүүд хүлээн авагдсан эсэхийг мэдэхийн тулд харж байдаг
	бөгөөд ердийн тохиргоонд хэрэв энэ нь хог олох юм бол (модемийн холболтын хурд
	<command>getty</command>-ийн хурднаас өөр байгаагаас магадгүй болоод)
	<command>getty</command> нь боломжийн тэмдэгтүүд хүлээж автлаа
	шугамын хурдуудыг тааруулахыг оролдох болно.</para>

      <indexterm>
	<primary><command>/usr/bin/login</command></primary>
      </indexterm>
      <para>Хэрэглэгч өөрийн нэвтрэх нэрийг оруулсны дараа <command>getty</command>
	тушаал хэрэглэгчийн нууц үгийг асууж нэвтрэлтийг гүйцээн хэрэглэгчийн бүрхүүлийг
	эхлүүлдэг <filename>/usr/bin/login</filename> тушаалыг
	ажиллуулдаг.</para>
    </sect2>


    <sect2>
      <title>Тохиргооны файлууд</title>

      <para><filename>/etc</filename> санд гурван системийн тохиргооны
	файл байдаг бөгөөд өөрийн &os; системд dial-up буюу гадагш
	залгах боломжийг олгохын тулд та магадгүй засварлах хэрэгтэй болно.
	Эхний <filename>/etc/gettytab</filename> нь
	<filename>/usr/libexec/getty</filename> демоны тохиргооны
	мэдээллийг агуулдаг.
	Хоёр дахь <filename>/etc/ttys</filename>
	нь <command>getty</command> процессуудын ажиллах <filename>tty</filename>
	төхөөрөмжүүдэд юу байх ёстойг <filename>/sbin/init</filename> тушаалд хэлж өгөх
	мэдээллийг агуулдаг.
	Сүүлд нь порт эхлүүлэх тушаалуудыг та <filename>/etc/rc.d/serial</filename>
	скриптэд байрлуулж болно.</para>

      <para>&unix; дээр dial-up модемуудын талаар санаа бодлын хоёр сургууль байдаг.
	Нэг бүлэг нь алсын хэрэглэгч ямар ч хурдаар залгасан байсан гэсэн локал компьютераас
	модемд холбогдсон RS-232 интерфэйс түгжигдсэн хурдаар ажиллахаар өөрсдийн
	модемууд болон системүүдийг тохируулах дуртай байдаг. Энэ тохиргооны ашигтай
	тал нь алсын хэрэглэгч системийн нэвтрэлт хүлээх мөрийг үргэлж нэн даруй хардаг
	явдал юм. Сул тал нь систем хэрэглэгчийн өгөгдлийн жинхэнэ хурдыг мэддэггүй
	явдал бөгөөд <application>Emacs</application> зэрэг бүрэн дэлгэцийн програмууд нь
	удаан холболтуудын хувьд хариултыг сайжруулахын тулд өөрийн дэлгэц будах аргуудаа
	тааруулахгүй байх болно.</para>

      <para>Нөгөө нэг сургууль нь өөрсдийн модемуудынхаа RS-232 интерфэйсийн хурдыг
	алсын компьютерийн холболтын хурд дээр тулгуурлан өөрчилдгөөр тохируулдаг.
	Жишээ нь модем уруу хийгдэх V.32bis (14.4&nbsp;Kbps) холболтууд нь
	модемийг өөрийн RS-232 интерфэйсийг 19.2&nbsp;Kbps хурдаар ажиллуулах
	бол 2400&nbsp;bps холболтууд нь модемийн RS-232 интерфэйсийг 2400&nbsp;bps
	хурд дээр ажиллуулдаг. <command>getty</command> нь тухайн ямар нэг
	модемийн холболтын хурдны тайлагналтыг ойлгодоггүй учраас <command>getty</command>
	тушаал нь <prompt>login:</prompt> мэдэгдлийг эхний хурдан дээр
	өгдөг бөгөөд хариултаас ирэх тэмдэгтүүдийг харж байдаг. Хэрэв хэрэглэгч хог
	харвал тэдгээр нь танигдах хүлээх мөрийг хартлаа <keycap>Enter</keycap>
	товчлуурыг дарах ёстой гэдгээ мэдэж байгаа гэж тооцдог. Хэрэв өгөгдлийн хурд
	таарахгүй бол <command>getty</command> нь хэрэглэгчийн бичсэн болгоныг
	<quote>хог</quote> гэж харах бөгөөд дараагийн хурдыг оролдож
	<prompt>login:</prompt> хүлээх мөрийг дахин өгдөг. Энэ процедур
	дотор муухайрах түвшинд хүртэл үргэлжилж болох боловч хэрэглэгч зөв хүлээх мөрийг харах
	хүртэл ихэвчлэн ганц хоёр товчлуур даруулдаг. Мэдээж энэ нэвтрэлтийн дараалал нь
	түрүүчийн <quote>locked-speed буюу түгжигдсэн хурд</quote>тай адил
	цэвэр байдаггүй боловч бага хурдтай холболтон дээр байх хэрэглэгчийн хувьд бүрэн дэлгэцийн
	програмуудаас илүү сайн интерактив хариултыг хүлээн авах ёстой юм.</para>

      <para>Энэ хэсэг нь тэнцвэртэй тохиргооны мэдээллийг өгөхийг оролдох боловч
	модемийн өгөгдлийн хурд холболтын хурдыг дагах тал уруу илүү хазайсан байгаа
	болно.</para>

      <sect3>
	<title><filename>/etc/gettytab</filename></title>

  <indexterm>
    <primary><filename>/etc/gettytab</filename></primary>
  </indexterm>
	<para><filename>/etc/gettytab</filename> нь &man.getty.8;-ийн
	тохиргооны мэдээллийн &man.termcap.5; загварын файл юм. Файлын
	хэлбэр болон боломжуудын жагсаалтын тухай бүрэн мэдээллийг &man.gettytab.5;
	гарын авлагын хуудаснаас үзнэ үү.</para>

	<sect4>
	  <title>Locked-speed буюу түгжигдсэн хурд тохиргоо</title>

	  <para>Хэрэв та өөрийн модемийн өгөгдлийн холбоонуудын хурдыг тухайн нэг
		хурдан дээр түгжиж байгаа бол магадгүй <filename>/etc/gettytab</filename> файлд
		ямар нэг өөрчлөлт хийх шаардлагагүй юм.</para>
	</sect4>

	<sect4>
	  <title>Matching-speed буюу таарах хурд тохиргоо</title>

	  <para>Өөрийн модемд зориулж ашиглахыг хүссэн хурдны талаар <command>getty</command>-д
		мэдээлэл өгөхийн тулд <filename>/etc/gettytab</filename> файлд та
		оруулга тохируулах хэрэгтэй болно. Хэрэв та 2400&nbsp;bps модемтой бол
		байгаа <literal>D2400</literal> оруулгыг магадгүй ашиглаж болох
		юм.</para>

	  <programlisting>#
# Fast dialup terminals, 2400/1200/300 rotary (can start either way)
#
D2400|d2400|Fast-Dial-2400:\
        :nx=D1200:tc=2400-baud:
3|D1200|Fast-Dial-1200:\
        :nx=D300:tc=1200-baud:
5|D300|Fast-Dial-300:\
        :nx=D2400:tc=300-baud:</programlisting>

	  <para>Хэрэв та илүү хурдтай модемтой бол <filename>/etc/gettytab</filename>
		файлд магадгүй оруулга нэмэх хэрэгтэй болж болох юм; энд
		интерфэйсийн дээд хурд нь 19.2&nbsp;Kbps бүхий 14.4&nbsp;Kbps модемд
		зориулан таны ашиглах оруулга байна:</para>

	  <programlisting>#
# Additions for a V.32bis Modem
#
um|V300|High Speed Modem at 300,8-bit:\
        :nx=V19200:tc=std.300:
un|V1200|High Speed Modem at 1200,8-bit:\
        :nx=V300:tc=std.1200:
uo|V2400|High Speed Modem at 2400,8-bit:\
        :nx=V1200:tc=std.2400:
up|V9600|High Speed Modem at 9600,8-bit:\
        :nx=V2400:tc=std.9600:
uq|V19200|High Speed Modem at 19200,8-bit:\
        :nx=V9600:tc=std.19200:</programlisting>

	  <para>Энэ нь 8 бит, parity байхгүй холболтуудад хүргэнэ.</para>

	  <para>Дээрх жишээ нь холболтын хурдаа 19.2&nbsp;Kbps
	    (V.32bis холболтын хувьд) гэж эхлүүлж дараа нь 9600&nbsp;bps (V.32-ийн хувьд),
		2400&nbsp;bps, 1200&nbsp;bps, 300&nbsp;bps, гэж оролдоод
		19.2&nbsp;Kbps хурд уруу буцах болно. Холбооны хурдны тойролт нь
		<literal>nx=</literal> (<quote>next table</quote> буюу дараагийн
		хүснэгт) боломжтой цуг хийгдсэн байдаг. Мөр бүр нь өгөгдлийн тухайн хурдны
		хувьд <quote>стандарт</quote> тохиргоонуудын үлдсэнийг авахын тулд
		<literal>tc=</literal> (<quote>table continuation</quote> буюу
		хүснэгтийн үргэлжлэл) оруулгыг ашигладаг.</para>

	  <para>Хэрэв та 28.8&nbsp;Kbps модемтой ба/эсвэл та 14.4&nbsp;Kbps модем
		дээр шахалтын давуу талыг авахыг хүсвэл 19.2&nbsp;Kbps-ээс илүү холбооны
		хурдыг ашиглах хэрэгтэй юм. Энд 57.6&nbsp;Kbps-ээс эхлэх
		<filename>gettytab</filename> оруулгын жишээ байна:</para>

	  <programlisting>#
# Additions for a V.32bis or V.34 Modem
# Starting at 57.6 Kbps
#
vm|VH300|Very High Speed Modem at 300,8-bit:\
        :nx=VH57600:tc=std.300:
vn|VH1200|Very High Speed Modem at 1200,8-bit:\
        :nx=VH300:tc=std.1200:
vo|VH2400|Very High Speed Modem at 2400,8-bit:\
        :nx=VH1200:tc=std.2400:
vp|VH9600|Very High Speed Modem at 9600,8-bit:\
        :nx=VH2400:tc=std.9600:
vq|VH57600|Very High Speed Modem at 57600,8-bit:\
        :nx=VH9600:tc=std.57600:</programlisting>

	  <para>Хэрэв та удаан CPU-тэй эсвэл ачаалал ихтэй системтэй бөгөөд
		16550A дээр тулгуурласан цуваа портуудтай бол 57.6&nbsp;Kbps хурд
		дээр та <errorname>sio</errorname> <quote>silo</quote>
		гэсэн алдаанууд хүлээн авч болох юм.</para>
	</sect4>
      </sect3>

      <sect3 xml:id="dialup-ttys">
	<title><filename>/etc/ttys</filename></title>
	<indexterm>
	  <primary><filename>/etc/ttys</filename></primary>
	</indexterm>

	<para><filename>/etc/ttys</filename> файлын тохиргоо
	<xref linkend="ex-etc-ttys"/> хэсэгт яригдсан байгаа.
	Модемуудын тохиргоо төстэй боловч бид өөр терминалын төрлийг заахын тулд
	<command>getty</command> уруу өөр нэмэлт өгөгдлүүдийг дамжуулах ёстой.
	Түгжигдсэн хурдтай болон таарах хурдтай тохиргоонуудын ерөнхий хэлбэр нь
	иймэрхүү байна:</para>

	<programlisting>ttyu0   "/usr/libexec/getty <replaceable>xxx</replaceable>"   dialup on</programlisting>

	<para>Дээрх мөрний эхнийх нь энэ оруулгад зориулсан төхөөрөмжийн тусгай
	файл юм &mdash; <filename>ttyu0</filename> нь <filename>/dev/ttyu0</filename>
	гэсэн үг бөгөөд үүнийг <command>getty</command> харж байдаг.
	Хоёр дахь <literal>"/usr/libexec/getty
	    xxx"</literal>
	(<replaceable>xxx</replaceable> нь эхний
	<filename>gettytab</filename> боломжоор солигдоно) нь энэ төхөөрөмж дээр
	<command>init</command>-ийн ажиллуулах процесс юм. Гурав дахь
	<literal>dialup</literal> гэдэг нь терминалын анхдагч төрөл юм.
	Дөрөв дэх параметр <literal>on</literal> гэдэг нь <command>init</command>-д
	шугам ажиллагаатай гэдгийг заана. Тав дахь параметр <literal>secure</literal>
	байж болох боловч энэ нь зөвхөн физикийн хувьд аюулгүй терминалуудад (системийн
	консолд) ашиглагдах ёстой юм.</para>

	<para>Анхдагч терминалын төрөл нь (дээрх жишээний <literal>dialup</literal>)
	локал тохируулгуудаас хамаарна. <literal>dialup</literal> нь dial-up шугамууд
	дээрх уламжлалт терминалын анхдагч төрөл бөгөөд хэрэглэгчид нь өөрсдийн нэвтрэх
	скриптүүдийг терминал <literal>dialup</literal> байгаа үед мэдэхээр өөрчилж өөрсдийн
	терминалын төрлийг автоматаар тааруулж болох юм. Гэхдээ зохиогч өөрийн сайт дээр
	анхдагч терминалын төрлөө <literal>vt102</literal> гэх нь хялбар болохыг
	олсон бөгөөд хэрэглэгчид өөрсдийн алсын системүүд дээрээ ердөө л VT102 эмуляцыг
	ашигладаг болохоор тэр юм.</para>

	<para>Та <filename>/etc/ttys</filename> файлд өөрчлөлтүүд хийснийхээ
	дараа <command>init</command> процессод файлыг дахин уншуулахын тулд
	<acronym>HUP</acronym> дохиог илгээж болох юм. Та дараах тушаалыг
	ашиглаж

	<screen>&prompt.root; <userinput>kill -HUP 1</userinput></screen>

	  дохио илгээж болно.  Хэрэв та анх удаагаа системийг тохируулж байгаа бол
	өөрийн модем(үүд)ийг зөв тохируулж <command>init</command>
	уруу дохиолохоос өмнө холбогдох хүртэл хүлээхийг хүсэж болох юм.
	  </para>

	<sect4>
	  <title>Locked-speed буюу түгжигдсэн хурд тохиргоо</title>

	  <para>Түгжигдсэн хурд тохиргооны хувьд таны <filename>ttys</filename>
		оруулга <command>getty</command> уруу өгөгдөх тогтмол хурд бүхий
		оруулгатай байх хэрэгтэй. Портын хурд нь 19.2&nbsp;Kbps
		гэж түгжигдсэн модемийн хувьд <filename>ttys</filename> оруулга нь
		иймэрхүү харагдаж болох юм:</para>

	  <programlisting>ttyu0   "/usr/libexec/getty std.19200"   dialup on</programlisting>

	  <para>Хэрэв таны модем өөр хурдан дээр түгжигдсэн бол
		<literal>std.19200</literal>-ийн оронд
		<literal>std.speed</literal>-ийн
		хувьд тохирох утгыг тавьж солиорой. Та <filename>/etc/gettytab</filename>-д
		жагсаагдсан зөв төрлийг ашигласан эсэхээ шалгаарай.</para>
	</sect4>

	<sect4>
	  <title>Matching-speed буюу таарах хурд тохиргоо</title>

	  <para>Таарах хурд тохиргоон дээр таны <filename>ttys</filename>
		оруулга нь <filename>/etc/gettytab</filename> дахь
		тохирох зөв <quote>auto-baud</quote> (sic) оруулгаас
		авах хэрэгтэй болдог. Жишээ нь хэрэв та дээрх санал
		болгосон оруулгыг 19.2&nbsp;Kbps-ээс (<literal>V19200</literal> эхлэх
		цэгийг агуулах <filename>gettytab</filename> оруулга) эхлэх таарах хурд
		бүхий модемийн хувьд нэмсэн бол таны <filename>ttys</filename>
		оруулга иймэрхүү харагдах болно:</para>

	  <programlisting>ttyu0   "/usr/libexec/getty V19200"   dialup on</programlisting>
	</sect4>
      </sect3>

      <sect3>
	<title><filename>/etc/rc.d/serial</filename></title>
	<indexterm>
	  <primary>rc files</primary>
	  <secondary><filename>rc.serial</filename></secondary>
	</indexterm>

	<para>V.32, V.32bis, болон V.34 зэрэг өндөр хурдтай модемууд
	тоног төхөөрөмжийн (<literal>RTS/CTS</literal>) урсгал хяналтыг
	ашиглах хэрэгтэй. Та модемийн портуудын хувьд &os; цөмд
	тоног төхөөрөмжийн урсгалын хяналтын тугийг тохируулахын тулд
	<command>stty</command> тушаалуудыг <filename>/etc/rc.d/serial</filename>
	файлд нэмж болно.</para>

	<para>Жишээ нь гаднаас залгах болон гадагш залгах эхний төхөөрөмжүүдийн
	хувьд цуваа порт #1 дээр <varname>crtscts</varname> гэсэн
	<literal>termios</literal>-ийн тугийг тохируулахын тулд
	дараах мөрүүдийг <filename>/etc/rc.d/serial</filename>
	файлд нэмж болох юм:</para>
	<programlisting># Serial port initial configuration
stty -f /dev/ttyu1.init crtscts
stty -f /dev/cuau1.init crtscts</programlisting>

      </sect3>
    </sect2>

    <sect2>
      <title>Модемийн тохиргоонууд</title>

      <para>Хэрэв та хувирдаггүй RAM-д параметрүүд нь тогтмолоор тохируулагдсан байж болох
	модемтой бол параметрүүдийг тохируулахын тулд та терминал програм <command>tip</command> гэх мэт) ашиглах
	хэрэгтэй болно. Эхний хурдтай адил холболтын хурдыг ашиглан модем уруу холбогдохын
	тулд <command>getty</command> нь доор дурдсан шаардлагуудтай таарахын тулд
	модемийн хувирдаггүй RAM-ийг хэрэглэж тохируулах болно:</para>

      <itemizedlist>
	<listitem>
	  <para>Холбогдох үед <acronym>CD</acronym> шалгагдана</para>
	</listitem>

	<listitem>
	  <para>Үйлдлийн хувьд <acronym>DTR</acronym> шалгагдана; DTR-ийг
		хаях нь шугамыг салгаж модемийг дахин тохируулахад хүргэнэ</para>
	</listitem>

	<listitem>
	  <para><acronym>CTS</acronym> нь өгөгдлийн урсгалын хяналтыг дамжуулсан</para>
	</listitem>

	<listitem>
	  <para><acronym>XON/XOFF</acronym> урсгалын хяналтыг хаана</para>
	</listitem>

	<listitem>
	  <para><acronym>RTS</acronym> нь өгөгдлийн урсгалын хяналтыг хүлээн авсан</para>
	</listitem>

	<listitem>
	  <para>Чимээгүй горим (үр дүнгийн кодууд байхгүй)</para>
	</listitem>

	<listitem>
	  <para>Тушаалын цуурай байхгүй</para>
	</listitem>
      </itemizedlist>

      <para>Аль тушаалууд ба/эсвэл DIP шилжүүлэгчийн тохиргоонуудыг та өгөх ёстой
	болохыг олохын тулд өөрийн модемийн баримтыг уншина уу.</para>

      <para>Жишээ нь &usrobotics; &sportster; 14,400 хурдтай гадаад модем
	дээр дээрх параметрүүдийг тохируулахын тулд эдгээр тушаалуудыг модемд өгч
	болох юм:</para>

      <programlisting>ATZ
AT&amp;C1&amp;D2&amp;H1&amp;I0&amp;R2&amp;W</programlisting>

      <para>V.42bis ба/эсвэл MNP5 шахалтыг ашиглах зэрэг модемийн бусад тохиргоонуудыг
	тааруулахын тулд та бас энэ боломжийг ашиглахыг хүсэж болох юм.</para>

      <para>&usrobotics; &sportster; 14,400 хурдтай гадаад модем нь тохируулах хэрэгтэй
	DIP шилжүүлэгчүүдтэй бас байдаг; бусад модемуудын хувьд та эдгээр тохируулгуудыг
	жишээ болгон ашиглаж болох юм:</para>

      <itemizedlist>
	<listitem>
	  <para>Шилжүүлэгч 1: ДЭЭШ &mdash; DTR Хэвийн</para>
	</listitem>

	<listitem>
	  <para>Шилжүүлэгч 2: N/A буюу Байхгүй (Үр дүнгийн үгэн кодууд/Үр дүнгийн тоон кодууд)</para>
	</listitem>

	<listitem>
	  <para>Шилжүүлэгч 3: ДЭЭШ &mdash; Үр дүнгийн дарах/хориглох кодууд</para>
	</listitem>

	<listitem>
	  <para>Шилжүүлэгч 4: ДООШ &mdash; Цуурай байхгүй, холбогдоогүй үеийн тушаалууд</para>
	</listitem>

	<listitem>
	  <para>Шилжүүлэгч 5: ДЭЭШ &mdash; Автомат хариулна</para>
	</listitem>

	<listitem>
	  <para>Шилжүүлэгч 6: ДЭЭШ &mdash; Зөөгч илрүүлэлт хэвийн</para>
	</listitem>

	<listitem>
	  <para>Шилжүүлэгч 7: ДЭЭШ &mdash; NVRAM анхдагчуудыг ачаалах</para>
	</listitem>

	<listitem>
	  <para>Шилжүүлэгч 8: N/A буюу Байхгүй (Ухаалаг Горим/Дүлий Горим)</para>
	</listitem>
      </itemizedlist>

      <para>Хэрэв <command>getty</command> тушаал нь
	<prompt>login:</prompt> хүлээх мөрийг тушаалын горимд байгаа модем уруу
	андуурч өгсөн бөгөөд модем нь тушаалыг цуурайтуулан буцааж эсвэл үр дүнгийн
	кодыг буцаахад үүсч болох асуудлуудаас сэргийлэхийн тулд үр дүнгийн кодууд нь
	dial-up модемуудын хувьд хаагдсан/дарагдсан байх ёстой. Энэ дараалал нь
	<command>getty</command> болон модемийн хооронд сунасан, тэнэг
	ярианд хүргэж болох юм.</para>

      <sect3>
	<title>Locked-speed буюу түгжигдсэн хурд тохиргоо</title>

	<para>Түгжигдсэн хурд тохиргооны хувьд та модемийг холболтын хурдаас хамааралгүйгээр
	модемоос компьютер хүртэлх өгөгдлийн хурдыг тогтмолоор байлгахаар тохируурах
	хэрэгтэй. &usrobotics; &sportster; 14,400 хурдтай гадаад модем дээр
	эдгээр тушаалууд нь модемоос компьютер хүртэлх өгөгдлийн хурдыг тушаалуудыг
	ажиллуулах хурд дээр түгжих болно:</para>

	<programlisting>ATZ
AT&amp;B1&amp;W</programlisting>
      </sect3>

      <sect3>
	<title>Matching-speed буюу таарах хурд тохиргоо</title>

	<para>Хувьсах хурд тохиргооны хувьд  ирж байгаа дуудлагын хурдтай ижил байлгаж
	өөрийн цуваа портын өгөгдлийн хурдыг тааруулахын тулд та өөрийн модемийг
	тохируулах хэрэгтэй болно. &usrobotics; &sportster; 14,400 хурдтай
	гадаад модем дээр эдгээр тушаалууд нь модемийн алдаа засварлах өгөгдлийн хурдыг
	тушаалуудыг ажиллуулах хурд дээр түгжих боловч цуваа портын хурдыг
	алдаа засварлахүй холболтуудын хувьд хувьсах байхаар зөвшөөрөх болно:</para>

	<programlisting>ATZ
AT&amp;B2&amp;W</programlisting>
      </sect3>

      <sect3>
	<title>Модемийн тохиргоог шалгах нь</title>

	<para>Ихэнх өндөр хурдтай модемууд нь модемийн тухайн үеийн үйлдлийн параметрүүдийг
	хүн уншиж болохоор үзүүлэх тушаалуудтай байдаг. &usrobotics; &sportster; 14,400 хурдтай
	гадаад модемууд дээр <command>ATI5</command> тушаал хувирдаггүй RAM-д хадгалагдаж
	байгаа тохиргоонуудыг харуулдаг. Модемийн үйлдлийн жинхэнэ параметрүүдийг харахын
	тулд (модемийн DIP шилжүүлэгчийн тохиргоонууд нөлөөлсөн) <command>ATZ</command> болон
	дараа нь <command>ATI4</command> тушаалуудыг ашиглана.</para>

	<para>Хэрэв та өөр загварын модемтой бол өөрийн модемийн тохиргооны
	параметрүүдийг хэрхэн давхар шалгах талаар өөрийн модемийн гарын авлагаас
	шалгаарай.</para>
      </sect3>
    </sect2>

    <sect2>
      <title>Алдааг олж засварлах нь</title>

      <para>Өөрийн систем дээр dial-up модемийг шалгахын тулд таны дагах цөөн хэдэн алхмууд
	энд байна.</para>

      <sect3>
	<title>&os; системийг шалгах</title>

	<para>Өөрийн модемийг өөрийн &os; системд залгаад системээ ачаалах бөгөөд
	хэрэв таны модем төлөв заах гэрлүүдтэй бол системийн консол дээр <prompt>login:</prompt>
	хүлээх мөр гарч ирэх үед модемийн <acronym>DTR</acronym> заагч асаж байгаа эсэхийг
	шалгах хэрэгтэй &mdash; хэрэв асаж байгаа бол &os; нь тохирох холболтуудын
	порт дээр <command>getty</command>-г эхлүүлж модемийг дуудлага хүлээж авахыг
	хүлээж байна гэсэн үг юм.</para>

	<para>Хэрэв <acronym>DTR</acronym> заагч асахгүй бол &os; систем уруу
	консолоор нэвтрээд &os; нь зөв порт дээр <command>getty</command> процессийг
	ажиллуулахаар оролдож байгаа эсэхийг харахын тулд <command>ps ax</command>
	тушаалыг ажиллуулна. Та эдгээртэй төстэй мөрүүдийг процессуудын хамтаар
	харах ёстой:</para>

	<screen>  114 ??  I      0:00.10 /usr/libexec/getty V19200 ttyu0
  115 ??  I      0:00.10 /usr/libexec/getty V19200 ttyu1</screen>

	<para>Хэрэв та үүнтэй адил өөр:</para>

	  <screen>  114 d0  I      0:00.10 /usr/libexec/getty V19200 ttyu0</screen>

	<para>мөрийг харсан бөгөөд модем нь дуудлага хүлээж авч амжаагүй байгаа бол
	<command>getty</command> нь холболтуудын порт дээр өөрийн онгойлголтыг
	бүрэн хийж гүйцсэн гэсэн үг юм. Энэ нь кабелийн асуудал эсвэл буруу тохируулсан модемтой
	холбоотой асуудлыг зааж болох юм. Яагаад гэвэл <command>getty</command>
	нь <acronym>CD</acronym>-г (carrier detect буюу зөөгч илрүүлэх) модемоор
	шалгагдтал холболтуудын портуудыг онгойлгож чадахгүй байх ёстой юм.</para>

	<para>Хэрэв та хүссэн <filename>ttyuN</filename>
	портыг онгойлгохыг хүлээж байгаа ямар нэг <command>getty</command> процессуудыг
	харахгүй байгаа бол <filename>/etc/ttys</filename> файл дахь өөрийн оруулгуудад
	алдаа байгаа эсэхийг давхар шалгаарай. Мөн <command>init</command> эсвэл
	<command>getty</command> тушаалаас гарсан бүртгэлийн ямар нэг мэдэгдлүүд
	асуудлууд байгаа эсэхийг мэдээлсэн эсэхийг харахын тулд бүртгэлийн файл
	<filename>/var/log/messages</filename>-г бас шалгаарай. Хэрэв ямар нэг
	мэдэгдлүүд байгаа бол <filename>/etc/ttys</filename> болон
	<filename>/etc/gettytab</filename> тохиргооны файлуудыг гурав дахин
	шалгаарай. Мөн <filename>/dev/ttyuN</filename> зэрэг тохирох төхөөрөмжийн
	тусгай файлуудад алдаанууд, оруулгууд дутагдаж байгаа эсэх, эсвэл төхөөрөмжийн
	тусгай файлууд дутагдаж байгаа эсэхийг бас шалгаарай.</para>
      </sect3>

      <sect3>
	<title>Гаднаас залгаж үзэх</title>

	<para>Систем уруу гаднаас залгаж үзээрэй; 8 битийг parity байхгүйгээр болон
	алсын систем дээр 1 зогсох битийг ашигласан эсэхээ шалгаарай.
	Хэрэв та хүлээх мөрийг тэр дор нь хүлээж авахгүй бол эсвэл хог хүлээн авсан бол
	секунд тутам нэг <keycap>Enter</keycap> дараад оролдоод үзээрэй.
	Тэгсэн ч гэсэн та <prompt>login:</prompt> хүлээх мөрийг хэсэг хугацаа
	өнгөрсөн ч гэсэн харахгүй байгаа бол <command>BREAK</command> илгээж
	оролдоод үзээрэй. Та залгахдаа өндөр хурдтай модем ашиглаж байгаа бол
	модемийн интерфэйсийн хурдыг (жишээ нь &usrobotics; &sportster;
	модем дээр <command>AT&amp;B1</command> тушаал ашиглан) түгжсэнийхээ дараа
	дахин залгаад оролдоод үзээрэй.</para>

	<para>Хэрэв та тэгсэн ч гэсэн <prompt>login:</prompt> хүлээх мөрийг
	хүлээн авахгүй байгаа бол <filename>/etc/gettytab</filename> файлыг
	дахин шалгаад доор дурдсаныг давхар шалгаарай</para>

	<itemizedlist>
	  <listitem>
	    <para>Шугамын хувьд <filename>/etc/ttys</filename> файлд заагдсан
		боломжийн эхний нэр <filename>/etc/gettytab</filename> дахь
		боломжийн нэртэй таарч байгаа эсэх</para>
		</listitem>

	  <listitem>
	    <para><literal>nx=</literal> оруулга бүр <filename>gettytab</filename>
		боломжийн өөр нэртэй таарч байгаа эсэх</para>
	  </listitem>

	  <listitem>
	    <para><literal>tc=</literal> оруулга бүр <filename>gettytab</filename>
		боломжийн өөр нэртэй таарч байгаа эсэх</para>
	  </listitem>
	</itemizedlist>

	<para>Хэрэв таныг залгахад &os; систем дээрх модем хариулахгүй байгаа бол
	<acronym>DTR</acronym> шалгагдах үед модем нь утсанд хариулахаар тохируулагдсан
	эсэхийг шалгаарай. Хэрэв модем зөв тохируулагдсан юм шиг байвал
	<acronym>DTR</acronym> шугам шалгагдсан эсэхийг модемийн заагч гэрлүүдийг (гэрлүүдтэй бол)
	шалган нягтлаарай.</para>

	<para>Хэрэв та бүгдийг хэд хэдэн удаа шалгасан бөгөөд ажиллахгүй хэвээр байгаа бол
	завсарлага аваад дараа нь үзээрэй. Хэрэв тэгсэн ч гэсэн ажиллахгүй байгаа бол
	та &a.questions; уруу өөрийн модем болон асуудлынхаа талаар цахим захидал
	илгээж болох бөгөөд жагсаалтан дахь сайн хүмүүс танд туслахыг оролдох болно.</para>
      </sect3>
    </sect2>

  </sect1>

  <sect1 xml:id="dialout">
    <title>Dial-out буюу гадагш залгах үйлчилгээ</title>

    <indexterm><primary>dial-out үйлчилгээ</primary></indexterm>

    <para>Дараах нь таны хостыг модемоор өөр компьютер уруу холбох зааврууд юм.
	Энэ нь алсын хосттой терминал сесс үүсгэхэд тохирох юм.</para>

    <para>Хэрэв та PPP дээр асуудалтай байгаа бол Интернэт дэх файлыг авахад энэ төрлийн
	холболт нь туйлын ашигтай байж болох юм. Хэрэв та ямар нэг зүйл FTP хийх хэрэгтэй
	бөгөөд PPP эвдэрсэн бол терминал сесс ашиглан FTP хийж болно. Дараа нь
	түүнийг өөрийн машин уруу дамжуулахын тулд zmodem ашиглана.</para>

    <sect2 xml:id="hayes-unsupported">
      <title>Hayes модем ашиглах нь</title>

      <para>Энгийн Hayes залгагч <command>tip</command>-д цуг бүтээгдсэн байгаа
	болно. <filename>/etc/remote</filename> файлд 
	<literal>at=hayes</literal>-г ашиглаарай.</para>

      <para>Hayes драйвер нь шинэ модемуудын дэвшилтэт боломжуудын заримыг
	таних хэмжээний ухаалаг байдаггүй бөгөөд <literal>BUSY</literal>, <literal>NO DIALTONE</literal>,
	эсвэл <literal>CONNECT 115200</literal> зэрэг мэдэгдлүүд нь
	түүнийг самууруулах болно. Та <command>tip</command>-ийг хэрэглэхдээ тэдгээр мэдэгдлүүдийг
	(<command>ATX0&amp;W</command>-г ашиглаж) хаах хэрэгтэй.</para>

      <para>Бас  <command>tip</command>-ийн хувьд залгах хугацаа нь 60 секунд байдаг.
	Таны модем нь үүнээс багыг ашиглах ёстой бөгөөд тэгэхгүй бол tip холбоонд асуудал
	байна гэж үзэх болно. <command>ATS7=45&amp;W</command> гэж үзээрэй.</para>
    </sect2>

    <sect2 xml:id="direct-at">
      <title><literal>AT</literal> тушаалуудыг ашиглах нь</title>

      <indexterm>
	<primary><filename>/etc/remote</filename></primary>
      </indexterm>
      <para>Өөрийн <filename>/etc/remote</filename> файлдаа <quote>шууд</quote>
	гэгддэг оруулгыг хийх хэрэгтэй. Жишээ нь хэрэв таны модем эхний цуваа порт <filename>/dev/cuau0</filename>-д
	холбогдсон бол дараах мөрийг тавьна:</para>

      <programlisting>cuau0:dv=/dev/cuau0:br#19200:pa=none</programlisting>

      <para><literal>br</literal> боломжид таны модемийн дэмждэг хамгийн их 
        <acronym>bps</acronym> хурдыг ашиглаарай. Дараа нь
	<command>tip cuau0</command> гэж бичихэд та өөрийн модемд холбогдох
	болно.</para>

      <para><systemitem class="username">root</systemitem> хэрэглэгчээр <command>cu</command>-г
	дараах маягаар ашиглаарай:</para>

      <screen>&prompt.root; <userinput>cu -lline -sspeed</userinput></screen>

      <para><replaceable>line</replaceable> нь цуваа порт (өөрөөр хэлбэл
	<filename>/dev/cuau0</filename>) бөгөөд
	<replaceable>speed</replaceable> нь хурд (өөрөөр хэлбэл
	<literal>57600</literal>) юм. Та AT тушаалуудыг оруулж дуусаад
	гарахын тулд <command>~.</command> дарна.</para>
    </sect2>

    <sect2 xml:id="gt-failure">
      <title><literal>@</literal> тэмдэг ажиллахгүй байна</title>

      <para>Утасны дугаарын боломжийн <literal>@</literal> тэмдэг нь <command>tip</command>-ийг
	<filename>/etc/phones</filename> файлаас утасны дугаар хайхыг заадаг.
	Гэхдээ <literal>@</literal> тэмдэг нь бас <filename>/etc/remote</filename>
	зэрэг боломжийн файлуудын тусгай тэмдэгт юм. Үүнийг урагш ташуу зураас ашиглан
	оруулж болно:</para>

      <programlisting>pn=\@</programlisting>
    </sect2>

    <sect2 xml:id="dial-command-line">
      <title>Тушаалын мөрнөөс залгах</title>

      <para>Өөрийн <filename>/etc/remote</filename> файлд
	<quote>ердийн</quote> гэгддэг оруулгыг оруулна. Жишээ нь:</para>

      <programlisting>tip115200|Dial any phone number at 115200 bps:\
        :dv=/dev/cuau0:br#115200:at=hayes:pa=none:du:
tip57600|Dial any phone number at 57600 bps:\
        :dv=/dev/cuau0:br#57600:at=hayes:pa=none:du:</programlisting>

      <para>Дараа нь та иймэрхүү зүйлс хийж болно:</para>

      <screen>&prompt.root; <userinput>tip -115200 5551234</userinput></screen>

      <para>Хэрэв та <command>cu</command>-г <command>tip</command>-ээс
	илүүд үздэг бол ердийн <literal>cu</literal> оруулгыг ашиглаж:</para>

      <programlisting>cu115200|Use cu to dial any number at 115200bps:\
        :dv=/dev/cuau1:br#57600:at=hayes:pa=none:du:</programlisting>

      <para>дараа нь ингэж бичнэ:</para>

      <screen>&prompt.root; <userinput>cu 5551234 -s 115200</userinput></screen>
    </sect2>

    <sect2 xml:id="set-bps">
      <title><acronym>bps</acronym> хурдыг тохируулах</title>

      <para><literal>tip1200</literal> эсвэл <literal>cu1200</literal>-ийн
	хувьд оруулгыг хийнэ, гэхдээ <literal>br</literal> боломжтой тохирох 
	ямар ч <acronym>bps</acronym> хурдыг ашиглаж болно.
	<command>tip</command> нь боломжийн анхдагч утга бол 1200&nbsp;bps гэж үздэг.
	<literal>tip1200</literal> оруулгыг хайдгийн учир нь ийм юм.
	Гэхдээ та заавал 1200&nbsp;bps хурдыг ашиглах шаардлагагүй юм.</para>
    </sect2>

    <sect2 xml:id="terminal-server">
      <title>Би терминал серверээр хэд хэдэн хостууд уруу ханддаг</title>

      <para>Та холбогдох хүртлээ хүлээж <command>CONNECT host</command> гэж
	тухай бүрт бичиж байхын оронд <command>tip</command>-ийн <literal>cm</literal> боломжийг
	ашиглаж болно. Жишээ нь <filename>/etc/remote</filename> файл
	дахь эдгээр оруулгууд нь <systemitem>pain</systemitem> эсвэл <systemitem>muffin</systemitem> хостууд уруу
	холбогдохын тулд танд <command>tip pain</command> эсвэл <command>tip
	  muffin</command> гэж бичих боломжийг олгохоос гадна терминал сервер уруу
	орохын тулд <command>tip deep13</command> гэж бичих боломжийг бас олгоно:</para>

      <programlisting>pain|pain.deep13.com|Forrester's machine:\
        :cm=CONNECT pain\n:tc=deep13:
muffin|muffin.deep13.com|Frank's machine:\
        :cm=CONNECT muffin\n:tc=deep13:
deep13:Gizmonics Institute terminal server:\
        :dv=/dev/cuau2:br#38400:at=hayes:du:pa=none:pn=5551234:</programlisting>

    </sect2>

    <sect2 xml:id="tip-multiline">
      <title><command>tip</command>-д нэгээс илүү олон мөрийг ашиглах</title>

      <para>Энэ нь их сургууль хэд хэдэн модемийн шугамуудтай бөгөөд хэдэн мянган оюутнууд
	тэдгээрийг ашиглахыг оролдох үед ихэвчлэн гардаг асуудал юм.</para>

      <para>Өөрийн их сургуулийн оруулгыг <filename>/etc/remote</filename> файлд
	хийгээд <literal>pn</literal> боломжийн хувьд <literal>@</literal>-ийг
	ашиглаарай:</para>

      <programlisting>big-university:\
        :pn=\@:tc=dialout
dialout:\
        :dv=/dev/cuau3:br#9600:at=courier:du:pa=none:</programlisting>

      <para>Дараа нь их сургуулиудын хувьд утасны дугааруудыг
	<filename>/etc/phones</filename> файлд жагсаана:</para>

      <programlisting>big-university 5551111
big-university 5551112
big-university 5551113
big-university 5551114</programlisting>

      <para><command>tip</command> нь жагсаагдсан дарааллаар утас болгоныг
	оролдож дараа нь зогсоно. Та оролдлогоо үргэлжлүүлсээр байхын тулд
	<command>tip</command>-ийг while давталтад ажиллуулах
	хэрэгтэй.</para>
    </sect2>

    <sect2 xml:id="multi-controlp">
      <title>Хүчлэх тэмдэгтийг хэрэглэх</title>

	<para><keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>P</keycap>
	</keycombo> нь
	анхдагч <quote>force буюу хүчлэх</quote> тэмдэгт бөгөөд <command>tip</command>
	тушаалд дараагийн тэмдэгт нь үсгэн өгөгдөл гэдгийг хэлэхэд хэрэглэгддэг.
	Та хүчлэх тэмдэгтийг дурын тэмдэгт болгон <command>~s</command> тушаалаар
	зааж өгч болно. <command>~s</command> тушаал нь <quote>хувьсагчийг
	тохируулах</quote> гэсэн үг юм.</para>

      <para><command>~sforce=single-char</command>
	гэж бичээд шинэ мөр авах хэрэгтэй. <replaceable>single-char</replaceable> нь
	дурын ганц тэмдэгт юм. Хэрэв та <replaceable>single-char</replaceable>-г
	орхих юм бол хүчлэх тэмдэгт нь хоосон тэмдэгт болох бөгөөд та үүнийг
	<keycombo action="simul">
	  <keycap>Ctrl</keycap><keycap>2</keycap>
	</keycombo>
	эсвэл
	<keycombo action="simul">
	  <keycap>Ctrl</keycap><keycap>Space</keycap>
	</keycombo>
	гэж бичин авч болно.
	<replaceable>single-char</replaceable>-ийн хувьд боломжийн утга
	<keycombo action="simul">
	  <keycap>Shift</keycap>
	  <keycap>Ctrl</keycap>
	  <keycap>6</keycap>
	</keycombo>
	байж болох бөгөөд энэ нь зөвхөн зарим нэг терминал серверүүдийн хувьд
	ашиглагддаг.</para>

      <para>Та хүчлэх тэмдэгтийг өөрийн хүссэнээр
	<filename>&#36;HOME/.tiprc</filename> файлд доор дурдсаныг
	зааж тохируулж болно:</para>

      <programlisting>force=<replaceable>single-char</replaceable></programlisting>
    </sect2>

    <sect2 xml:id="uppercase">
      <title>Том үсэг ашиглах</title>

      <para>Та
	эвдэгдсэн caps-lock товчлуур бүхий хэрэглэгчдэд тусгайлан зориулагдсан
	<command>tip</command>-ийн <quote>өсгөх тэмдэгт</quote> болох
	<keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>A</keycap>
	</keycombo>
	хослолыг дарсан байна. Дээр дурдсаны адил <command>~s</command>
	тушаалыг ашиглан <literal>raisechar</literal> хувьсагчийг
	боломжийн утгаар тохируулах хэрэгтэй. Та үүнийг хүчлэх тэмдэгттэй
	адилаар тохируулж болох юм. Өөрөөр хэлбэл хэрэв та эдгээр боломжуудын
	аль нэгийг ашиглах бол ингэж болох юм.</para>

      <para><keycombo action="simul">
	  <keycap>Ctrl</keycap><keycap>2</keycap>
	</keycombo>
	болон
	<keycombo action="simul">
	  <keycap>Ctrl</keycap><keycap>A</keycap>
	</keycombo>
 	хослолуудыг байнга бичих хэрэгтэй болдог
	<application>Emacs</application> хэрэглэгчдэд
	яг зориулагдсан жишээ <filename>.tiprc</filename> файл энд байна:</para>

      <programlisting>force=^^
raisechar=^^</programlisting>

      <para><literal>^^</literal> нь
	<keycombo action="simul">
	  <keycap>Shift</keycap><keycap>Ctrl</keycap><keycap>6</keycap>
	</keycombo> юм.</para>

    </sect2>

    <sect2 xml:id="tip-filetransfer">
      <title><command>tip</command> ашиглан файл дамжуулах</title>

      <para>Хэрэв та өөр &unix; системтэй харьцаж байвал та <command>~p</command> (put буюу тавих) болон
	<command>~t</command> (take буюу авах) тушаалуудыг ашиглан файлуудыг илгээж хүлээн
	авч болно. Эдгээр тушаалууд нь файлуудыг хүлээн авч илгээхийн тулд алсын систем дээр
	<command>cat</command> болон <command>echo</command>
	тушаалуудыг ажиллуулдаг. Синтакс нь ийм байна:</para>

      <cmdsynopsis>
	<command>~p</command>
	<arg choice="plain">local-file</arg>
	<arg choice="opt">remote-file</arg>
      </cmdsynopsis>

      <cmdsynopsis>
	<command>~t</command>
	<arg choice="plain">remote-file</arg>
	<arg choice="opt">local-file</arg>
      </cmdsynopsis>

      <para>Алдаа шалгалт байдаггүй учраас магадгүй та zmodem-той адил өөр протокол
	ашиглах хэрэгтэй юм.</para>
    </sect2>

    <sect2 xml:id="zmodem-tip">
      <title><command>tip</command>-тэй <application>zmodem</application>-ийг ашиглах</title>

      <para>Файлуудыг хүлээн авахын тулд алсын машин дээр програмыг илгээж эхэлнэ.
	Дараа нь тэдгээрийг локалаар хүлээн авч эхлэхийн тулд <command>~C rz</command>
	гэж бичнэ.</para>

      <para>Файлуудыг илгээхийн тулд алсын машин дээр програмыг хүлээн авч эхэлнэ. Дараа нь тэдгээрийг
	алсын систем уруу илгээхийн тулд <command>~C sz files</command>
	гэж бичнэ.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="serialconsole-setup">
    <info><title>Цуваа консолыг тохируулах нь</title>
      <authorgroup>
	<author><personname><firstname>Казутака</firstname><surname>ЁОКОТА</surname></personname><contrib>Хойно дурдсан хүний бичсэн баримт дээр тулгуурлан хувь нэмэр болгон оруулсан </contrib></author>
      </authorgroup>
      <authorgroup>
	<author><personname><firstname>Билл</firstname><surname>Пол</surname></personname><contrib>Бичиг баримтыг бичсэн </contrib></author>
      </authorgroup>
    </info>
    

    <indexterm><primary>цуваа консол</primary></indexterm>

    <sect2 xml:id="serialconsole-intro">
      <title>Танилцуулга</title>

      <para>&os; нь цуваа порт дээр консол маягаар ашиглах дүлий терминал бүхий
	систем дээр ачаалах чадвартай байдаг. Ийм тохиргоо нь хоёр ангиллын хүмүүст
	ашигтай байх ёстой бөгөөд эдгээр нь гар эсвэл монитор байхгүй машинууд дээр &os; суулгахыг
	хүссэн системийн администраторууд болон цөм эсвэл төхөөрөмжийн драйверуудыг
	дибаг хийхийг хүссэн хөгжүүлэгчид юм.</para>

      <para><xref linkend="boot"/>-т тайлбарласнаар &os; нь гурван шаттай эхлүүлэгчийг
	хэрэглэдэг. Эхний хоёр шат нь ачаалах диск дээрх &os;-ийн зүсмэлийн эхлэл дээр
	хадгалагддаг ачаалах блокийн кодод байдаг. Ачаалах блок нь ачаалагч дуудагчийг
	(<filename>/boot/loader</filename>) гурав дахь шатны код болгон дуудаж
	ажиллуулдаг.</para>

      <para>Цуваа консолыг тохируулахын тулд та ачаалах блокийн код, ачаалагч дуудах код болон
	цөмөө тохируулах ёстой болно.</para>

    </sect2>

    <sect2 xml:id="serialconsole-howto-fast">
      <title>Цуваа консолын тохиргоо, Товч хувилбар</title>

      <para>Энэ хэсэг нь таныг анхдагч тохируулга ашиглаж байгаа бөгөөд цуваа консолыг
	тохируулах хурдан тоймыг авахыг хүсэж байгаа гэж үздэг.</para>

      <procedure>

	<step>
	  <para>Цуваа кабелийг <filename>COM1</filename> болон хянаж байгаа терминал уруу
		холбоно.</para>
	</step>

	<step>
	  <para>Цуваа консол дээр бүх ачаалалтын мэдэгдлүүдийг харахын тулд
		супер хэрэглэгчээр нэвтэрснийхээ дараа дараах тушаалыг ажиллуулна:</para>
	  <screen>&prompt.root; echo 'console="comconsole"' &gt;&gt; /boot/loader.conf</screen>
	</step>

	<step>
	  <para><filename>/etc/ttys</filename>-г засварлаж <filename>ttyu0</filename>
		оруулгын хувьд <literal>off</literal> гэснийг
		<literal>on</literal>, <literal>dialup</literal>
		гэснийг <literal>vt100</literal> болгоно. Ингэхгүй бол
		цуваа консолоор холбогдоход нууц үг шаардахгүй бөгөөд
		боломжит аюулгүй байдлын цоорхой үүсгэх юм.</para>
	</step>

	<step>
	  <para>Өөрчлөлтүүд идэвхтэй болсон эсэхийг харахын тулд системийг дахин ачаална.</para>
	</step>

      </procedure>

      <para>Хэрэв өөр тохиргоо шаардлагатай бол дараагийн хэсэгт 
        илүү гүнзгий тохиргооны тайлбар байгаа болно.</para>
    </sect2>

    <sect2 xml:id="serialconsole-howto">
      <title>Цуваа консолын гүнзгий тохиргоо</title>

      <procedure>
	<step>
	  <para>Цуваа кабель бэлдэнэ.</para>

	  <indexterm><primary>null-модем кабель</primary></indexterm>

	  <para>Танд null-модем кабель эсвэл стандарт цуваа кабель болон null-модем
		хувиргагч хэрэгтэй болно. Цуваа кабелиудын тухай хэлэлцүүлгийг
		<xref linkend="serial-cables-ports"/> хэсгээс үзнэ үү.</para>
	</step>

	<step>
	  <para>Гарыг салгана.</para>

	  <para>Ихэнх PC системүүд нь Power-On Self-Test (<acronym>POST</acronym>) буюу асаах үеийн
		тестийн үеэр гарыг байгаа эсэхийг шалгадаг бөгөөд гар олдохгүй бол
		алдаа үүсгэдэг. Зарим машинууд нь гар байхгүйг чангаар мэдээлж
		залгагдтал нь цааш ачаалдаггүй.</para>

	  <para>Хэрэв таны компьютер алдааг мэдээлсэн боловч цааш ачаалах юм бол
		та ямар нэг тусгай зүйл хийх шаардлагагүй юм.</para>

	  <para>Хэрэв таны компьютер гар залгалгүйгээр ачаалахаас татгалзвал энэ алдааг
		авч үзэлгүйгээр орхихоор болгож та BIOS-оо тохируулах хэрэгтэй болно
		(хэрэв болдог бол). Үүнийг хэрхэн хийх талаар дэлгэрэнгүйг өөрийн эх хавтангийн
		гарын авлагаас лавлана уу.</para>

	  <tip>
	    <para>BIOS-ийн тохиргоон дээр гараа <quote>Not installed</quote> буюу
		суулгагдаагүй гэж тохируулна. Тэгсэн ч гэсэн та өөрийн гарыг ашиглаж чадах
		болно. Үүний хийж байгаа зүйл нь BIOS-д асах үед гарыг шалгахгүй
		гэж хэлж өгч байгаа юм. Таны BIOS гар байхгүй үед гомдоллохгүй байх
		ёстой. Та энэ тугийг <quote>Not installed</quote> гэж тохируулсан байлаа
		ч гэсэн гараа залгаатай хэвээр орхиж болох бөгөөд гар ажилласан хэвээр
		байх болно. Хэрэв дээрх тохиргоо BIOS-д байхгүй бол оронд нь
               <quote>Halt on Error</quote> тохиргоог хайх хэрэгтэй.  Үүнийг
               <quote>All but Keyboard</quote> гэж эсвэл
               <quote>No Errors</quote> гэж тохируулах нь ижил үйлчилгээтэй байдаг.</para>
	  </tip>

	  <note>
	    <para>Хэрэв таны систем &ps2; хулганатай бол та бас өөрийн гарны адил
		хулганаа бас салгах шаардлагатай байж болох юм. Учир нь юу вэ гэвэл
		&ps2; хулгана нь гартай цуг зарим тоног төхөөрөмжийг хуваалцдаг бөгөөд
		хулганаа залгаатай орхих нь гар шалгагчийг гар байсаар байгаа гэж
		бодоход хүргэн хуурч болох юм.</para>
	  </note>
	</step>

	<step>
	  <para>Дүлий терминалыг <filename>COM1</filename> уруу залгана
		(<filename>sio0</filename>).</para>

	  <para>Хэрэв танд дүлий терминал байхгүй бол та хуучин компьютер модемийн
		програмтай цуг, эсвэл өөр  &unix; хайрцаг дээр цуваа портыг ашиглаж болох юм.
		Хэрэв танд <filename>COM1</filename> (<filename>sio0</filename>)
		байхгүй бол түүнтэй болох хэрэгтэй. Одоогоор ачаалах блокуудыг дахин
		эмхэтгэлгүйгээр ачаалах блокуудын хувьд <filename>COM1</filename>-с
		өөр портыг сонгох арга байхгүй. Хэрэв та <filename>COM1</filename>-г
		өөр төхөөрөмжид ашиглаж байгаа бол та тэр төхөөрөмжөө түр зуур салгаад
		&os; эхлүүлж ажиллуулсныхаа дараа шинэ ачаалах блок болон цөмийг
		суулгах хэрэгтэй болно.</para>
	</step>

	<step>
	  <para>Таны цөмийн тохиргооны файлд <filename>COM1</filename>-ийн
	    (<filename>sio0</filename>) хувьд тохирох тугууд тохируулагдсан
		эсэхийг шалгаарай.</para>

	  <para>Холбоотой тугууд нь:</para>

	  <variablelist>
	    <varlistentry>
	      <term><literal>0x10</literal></term>

	      <listitem>
		<para>Энэ нэгжид зориулан консолын дэмжлэгийг идэвхжүүлнэ. Энэ туг
		тохируулагдаагүй бол бусад тугууд нь орхигддог. Одоогоор хамгийн ихдээ
		нэг нэгж консолын дэмжлэгтэй байж болдог; Энэ туг тохируулагдсан
		эхнийхийг (тохиргооны файлын дарааллаар) эрхэмлэдэг. Энэ тохируулга
		нь ганцаараа цуваа портыг консол болгодоггүй. Дараах тугийг тохируулах
		юм уу эсвэл энэ тугтай цуг доор тайлбарласан <option>-h</option> тохируулгыг
		ашиглана.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><literal>0x20</literal></term>

	      <listitem>
		<para>Доор тайлбарласан <option>-h</option> тохируулга байгаа
		эсэхээс үл хамаарч энэ нэгжийг консол болгоно  (өөр илүү эрхтэй консол байхгүй
		тохиолдолд). <literal>0x20</literal> туг нь
		<option>0x10</option> тугтай цуг ашиглагдах ёстой.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><literal>0x40</literal></term>

	      <listitem>
		<para>Энэ нэгжийг (<literal>0x10</literal>-тай цуг)
		нөөцөлж хэвийн хандалтад энэ нэгжийг байхгүй
		болгоно. Та энэ тугийг цуваа консол маягаар ашиглахыг хүсэж
		байгаа цуваа портын нэгждээ тохируулах ёсгүй юм. Энэ тугны
		цорын ганц хэрэглээ нь алсаас цөмийг дибаг хийхэд нэгжийг
		зориулах явдал юм. Алсаас дибаг хийх талаар илүү мэдээллийг
		<link xlink:href="&url.books.developers-handbook;/index.html">
		Хөгжүүлэгчийн Гарын Авлага</link>ас үзнэ үү.</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>Жишээ:</para>

	  <programlisting>device sio0 flags 0x10</programlisting>

	  <para>Илүү дэлгэрэнгүйг &man.sio.4; гарын авлагын хуудаснаас үзнэ үү.</para>

	  <para>Хэрэв тугнууд тохируулагдаагүй бол UserConfig-г (өөр консол дээр)
		ажиллуулах юм уу эсвэл цөмийг дахин эмхэтгэх хэрэгтэй.</para>
	</step>

	<step>
	  <para>Ачаалах төхөөрөмж дээр <literal>a</literal> хуваалтын
		root санд <filename>boot.config</filename> файлыг үүсгэнэ.</para>

	  <para>Энэ файл нь системийг та хэрхэн ачаалахыг хүсэж байгааг ачаалах блокийн кодод
		зааварлах болно. Цуваа консолыг идэвхжүүлэхийн тулд танд дараах
		нэг буюу хэд хэдэн тохируулгууд хэрэгтэй болно&mdash;хэрэв та олон тохируулгуудыг
		хүсэж байгаа бол бүгдийг нэг мөрт оруулах хэрэгтэй:</para>

	  <variablelist>
	    <varlistentry>
	      <term><option>-h</option></term>

	      <listitem>
		<para>Дотоод болон цуваа консолуудыг харилцан сольно. Та үүнийг ашиглан
		консол төхөөрөмжүүдийг сольж шилжүүлж болно. Жишээ нь хэрэв та
		дотоод (видео) консолоос ачаалах бол ачаалагч дуудагч болон
		цөмд өөрийн консолын төхөөрөмждөө цуваа портыг ашиглуулахаар чиглүүлэх
		<option>-h</option> тохируулгыг ашиглаж болох юм. Мөн өөрөөр
		хэрэв та цуваа портоос ачаалах бол ачаалагч дуудагч болон
		цөмд видео дэлгэцийг консол маягаар харин хэрэглүүлэхийн тулд
		<option>-h</option> тохируулгыг ашиглаж болох юм.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><option>-D</option></term>

	      <listitem>
		<para>Ганц болон хоёр консолын тохиргоонуудыг сольно. Ганц тохиргоон дээр
		дээрх <option>-h</option> тохиргооны төлвөөс хамаарч консол нь
		дотоод консол (видео дэлгэц) байх юм уу эсвэл цуваа порт байх болно.
		Хоёр консолын тохиргоон дээр видео дэлгэц болон цуваа порт нь хоёулаа
		<option>-h</option> тохиргооны төлвөөс үл хамааран консол болох
		юм. Гэхдээ хоёр консолын тохиргоо нь зөвхөн ачаалах блок ажиллаж байх
		үед идэвхтэй байхыг санаарай. Ачаалагч дуудагч хяналтыг авсны дараа
		 <option>-h</option> тохируулгаар заагдсан консол нь цорын ганц
		консол болох юм.</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><option>-P</option></term>

	      <listitem>
		<para>Ачаалах блокоор гарыг шалгуулна. Хэрэв гар олдоогүй бол
		<option>-D</option> болон <option>-h</option> тохируулгууд
		автоматаар тохируулагдана.</para>

		<note>
		  <para>Зайны шаардлагаас болоод ачаалах блокуудын одоогийн
			хувилбарт <option>-P</option> тохируулга нь зөвхөн
			өргөтгөсөн гарнуудыг олох чадвартай байдаг. 101 товчлуураас
			бага товчлууруудтай (ба F11 болон F12  товчлууруудгүй) гарнууд нь
			олдохгүй байж болох юм. Зарим нэг зөөврийн компьютерууд
			дээрх гарнууд нь энэ хязгаарлалтаас болоод зөвөөр олдохгүй байж
			болох юм. Хэрэв та ийм системтэй бол <option>-P</option>
			тохируулга ашиглахаа болих хэрэгтэй юм. Харамсалтай нь
			энэ асуудлыг тойрон гарах арга зам байдаггүй.</para>
		</note>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para>Консолио автоматаар сонгохын тулд <option>-P</option> тохируулгыг
		ашиглах юм уу эсвэл цуваа консолыг идэвхжүүлэхийн тулд
		<option>-h</option> тохируулгыг ашиглана.</para>

	  <para>Та &man.boot.8;-д тайлбарласны адил бас бусад тохируулгуудыг
		оруулж болох юм.</para>

	  <para><option>-P</option>-с бусад тохируулгууд нь ачаалагч дуудагчид
		(<filename>/boot/loader</filename>) дамжуулагддаг. Ачаалагч
		дуудагч нь зөвхөн <option>-h</option> тохируулгын төлөвийг шалгаж
		дотоод видео эсвэл цуваа портын аль нь консол болох ёстойг тодорхойлох
		болно. Энэ нь хэрэв та <filename>/boot.config</filename> файлд
		<option>-D</option> тохируулгыг тохируулаад гэхдээ
		<option>-h</option> тохируулгыг тохируулаагүй бол та цуваа портыг
		зөвхөн ачаалах блокийн үед консол болгон ашиглаж болно гэсэн үг юм;
		ачаалагч дуудагч нь дотоод видео дэлгэцийг консол маягаар ашиглах болно.</para>
	</step>

	<step>
	  <para>Машиныг ачаална.</para>

	  <para>Та өөрийн &os; хайрцгийг эхлүүлэх үед ачаалах блокууд нь
		<filename>/boot.config</filename> файлын агуулгуудыг консол
		уруу гаргаж харуулах болно. Жишээ нь:</para>

	  <screen>/boot.config: -P
Keyboard: no</screen>

	  <para>Хоёр дахь мөр нь <filename>/boot.config</filename> файлд
		<option>-P</option> тохируулгыг зөвхөн тавьсан тохиолдолд
		гарах бөгөөд гар байгаа/байхгүйг заадаг. Эдгээр мэдэгдлүүд нь
		<filename>/boot.config</filename> файл дахь тохируулгаас
		хамаараад цуваа эсвэл дотоод консол уруу, эсвэл хоёулан уруу гардаг.</para>

	  <informaltable frame="none" pgwide="1">
	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry align="left">Тохируулгууд</entry>
		  <entry align="left">Мэдэгдлүүд гарах газар</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry>байхгүй</entry>
		  <entry>дотоод консол</entry>
		</row>

		<row>
		  <entry><option>-h</option></entry>
		  <entry>цуваа консол</entry>
		</row>

		<row>
		  <entry><option>-D</option></entry>
		  <entry>цуваа болон дотоод консолууд</entry>
		</row>

		<row>
		  <entry><option>-Dh</option></entry>
		  <entry>цуваа болон дотоод консолууд</entry>
		</row>

		<row>
		  <entry><option>-P</option>, гар байна</entry>
		  <entry>дотоод консол</entry>
		</row>

		<row>
		  <entry><option>-P</option>, гар байхгүй</entry>
		  <entry>цуваа консол</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>

	  <para>Дээрх мэдэгдлүүдийн дараа ачаалах блокууд нь ачаалагч дуудагчийг дуудахаас
		өмнө болон бусад дараа дараагийн мэдэгдлүүд консол дээр хэвлэгдэхээс өмнө
		бага хэмжээний завсарлага (пауз) авах болно. Хэвийн нөхцөлд танд ачаалах
		блокуудыг тасалдуулах хэрэггүй боловч та бүх зүйлс зөв тохируулагдсаныг
		баталгаажуулахын тулд ингэхийг хүсэж болох юм.</para>

	  <para>Ачаалах процессийг тасалдуулахын тулд консол дээр <keycap>Enter</keycap>-с
		өөр дурын товчлуурыг дарах хэрэгтэй. Ачаалах блокууд нь дараа нь танаас дараачийн
		чинь үйлдлийг асуух болно:</para>

	  <screen>&gt;&gt; FreeBSD/i386 BOOT
Default: 0:ad(0,a)/boot/loader
boot:</screen>

	  <para>Дээрх мэдэгдэл цуваа эсвэл дотоод консол дээр эсвэл хоёулан дээр
		гарч байгаа эсэхийг <filename>/boot.config</filename> файлд
		хийсэн тохируулгуудынхаа дагуу шалгаарай. Хэрэв мэдэгдэл зөв
		консол дээр гарч байвал ачаалах процессийг үргэлжлүүлэхийн тулд
		<keycap>Enter</keycap> дараарай.</para>

	  <para>Хэрэв та цуваа консолыг хүсэж байгаа боловч цуваа терминал дээр
		хүлээх мөрийг харахгүй байгаа бол таны тохиргоонд ямар нэг зүйл буруу
		байна. Тэр хооронд та ачаалах блокт (ба дараа нь ачаалагч дуудагч болон
		цөмд) цуваа портыг консолд зориулан сонгуулахыг хэлэхийн тулд
		<option>-h</option> гэж бичээд <keycap>Enter</keycap> эсвэл <keycap>Return</keycap> (боломжтой бол)
		дараарай. Систем ачаалсны дараа юу буруу болсныг буцаж шалгаарай.</para>
	</step>
      </procedure>

      <para>Ачаалагч дуудагч дуудагдсаны дараа та ачаалах процессийн гурав дахь
	шатанд байгаа бол ачаалагч дуудагчид зохих орчны хувьсагчуудыг тохируулж
	дотоод консол болон цуваа консолын хооронд та шилжиж чадсан хэвээр байх
	болно. <xref linkend="serialconsole-loader"/>-г үзнэ үү.</para>
    </sect2>

  <sect2 xml:id="serialconsole-summary">
    <title>Дүгнэлт</title>

      <para>Энэ хэсэгт хэлэлцсэн төрөл бүрийн тохиргоонуудын дүгнэлт болон
	эцсийн дүнд консол сонгогдсон тухай мэдээлэл энд байна.</para>

      <sect3>
	<title>Тохиолдол 1: Та  <filename>sio0</filename>-д зориулж тугуудыг 0x10
		болгож тохируулна</title>

	<programlisting>device sio0 flags 0x10</programlisting>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="4">
	    <thead>
	      <row>
		<entry align="left">/boot.config дахь тохируулгууд</entry>
		<entry align="left">Ачаалах блокуудын үеийн консол</entry>
		<entry align="left">Ачаалагч дуудагчийн үеийн консол</entry>
		<entry align="left">Цөм дэх консол</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry>юу ч байхгүй</entry>
		<entry>дотоод</entry>
		<entry>дотоод</entry>
		<entry>дотоод</entry>
	      </row>

	      <row>
		<entry><option>-h</option></entry>
		<entry>цуваа</entry>
		<entry>цуваа</entry>
		<entry>цуваа</entry>
	      </row>

	      <row>
		<entry><option>-D</option></entry>
		<entry>цуваа болон дотоод</entry>
		<entry>дотоод</entry>
		<entry>дотоод</entry>
	      </row>

	      <row>
		<entry><option>-Dh</option></entry>
		<entry>цуваа болон дотоод</entry>
		<entry>цуваа</entry>
		<entry>цуваа</entry>
	      </row>

	      <row>
		<entry><option>-P</option>, гар байна</entry>
		<entry>дотоод</entry>
		<entry>дотоод</entry>
		<entry>дотоод</entry>
	      </row>

	      <row>
		<entry><option>-P</option>, гар байхгүй</entry>
		<entry>цуваа болон дотоод</entry>
		<entry>цуваа</entry>
		<entry>цуваа</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect3>

      <sect3>
	<title>Тохиолдол 2: Та  <filename>sio0</filename>-д зориулж тугуудыг 0x30
		болгож тохируулна</title>

	<programlisting>device sio0 flags 0x30</programlisting>

	<informaltable frame="none" pgwide="1">
	  <tgroup cols="4">
	    <thead>
	      <row>
		<entry align="left">/boot.config дахь тохируулгууд</entry>
		<entry align="left">Ачаалах блокуудын үеийн консол</entry>
		<entry align="left">Ачаалагч дуудагчийн үеийн консол</entry>
		<entry align="left">Цөм дэх консол</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry>юу ч байхгүй</entry>
		<entry>дотоод</entry>
		<entry>дотоод</entry>
		<entry>цуваа</entry>
	      </row>

	      <row>
		<entry><option>-h</option></entry>
		<entry>цуваа</entry>
		<entry>цуваа</entry>
		<entry>цуваа</entry>
	      </row>

	      <row>
		<entry><option>-D</option></entry>
		<entry>цуваа болон дотоод</entry>
		<entry>дотоод</entry>
		<entry>цуваа</entry>
	      </row>

	      <row>
		<entry><option>-Dh</option></entry>
		<entry>цуваа болон дотоод</entry>
		<entry>цуваа</entry>
		<entry>цуваа</entry>
	      </row>

	      <row>
		<entry><option>-P</option>, гар байна</entry>
		<entry>дотоод</entry>
		<entry>дотоод</entry>
		<entry>цуваа</entry>
	      </row>

	      <row>
		<entry><option>-P</option>, гар байхгүй</entry>
		<entry>цуваа болон дотоод</entry>
		<entry>цуваа</entry>
		<entry>цуваа</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect3>
    </sect2>

    <sect2 xml:id="serialconsole-tips">
      <title>Цуваа консолд зориулсан зааврууд</title>

      <sect3>
	<title>Цуваа портын хурдыг илүү хурдан болгох</title>

	<para>Анхдагчаар цуваа портын тохируулгууд нь 9600 baud, 8
	  бит, parity байхгүй, ба 1 зогсох бит бүхий байна. Хэрэв та анхдагч консолын
	хурдыг өөрчлөхийг хүсвэл танд дараах сонголтууд байна:</para>

	<itemizedlist>
	  <listitem>
	    <para>Ачаалах блокуудыг консолын шинэ хурд заагдсан
		<varname>BOOT_COMCONSOLE_SPEED</varname> хувьсагчтай цуг
		дахин эмхэтгэнэ. Шинэ ачаалах блокуудыг бүтээж суулгах талаар
		дэлгэрэнгүй заавруудыг <xref linkend="serialconsole-com2"/>-с
		үзнэ үү.</para>

	    <para>Хэрэв цуваа консол нь <option>-h</option> тохируулгатайгаар
		ачаалахаас өөр аргаар тохируулагдсан бол эсвэл цөмийн ашиглаж байгаа
		цуваа консол нь ачаалах блокуудын ашиглаж байгаагаас өөр бол
		та дараах тохируулгыг цөмийн тохиргооны файлдаа бас нэмж шинэ цөмөө
		эмхэтгэх ёстой юм:</para>

	    <programlisting>options CONSPEED=19200</programlisting>
	  </listitem>

	  <listitem>
	    <para>Цөмийн <option>-S</option> ачаалах тохируулгыг ашиглана.
		<option>-S</option> тушаалын мөрийн тохируулга нь
		<filename>/boot.config</filename> файлд нэмэгдэж болно.
		<filename>/boot.config</filename> файлд хэрхэн тохируулгууд
		нэмэх тухай тайлбар болон дэмжигдсэн тохируулгуудын талаар
		&man.boot.8; гарын авлагын хуудаснаас үзнэ үү.</para>
	  </listitem>

	  <listitem>
	    <para>Өөрийн <filename>/boot/loader.conf</filename> файлд
		<varname>comconsole_speed</varname> тохируулгыг
		идэвхжүүлнэ. Энэ тохируулга нь <filename>/boot/loader.conf</filename>
		файлд бас <varname>console</varname>,
	      <varname>boot_serial</varname>, болон
	      <varname>boot_multicons</varname> тохируулагдсан эсэхээс
		хамаардаг. Цуваа консолын хурдыг өөрчлөх
		<varname>comconsole_speed</varname> тохируулгын хэрэглээний
		жишээ энд байна:</para>

	    <programlisting>boot_multicons="YES"
boot_serial="YES"
comconsole_speed="115200"
console="comconsole,vidconsole"</programlisting>
	  </listitem>
	</itemizedlist>

      </sect3>

      <sect3 xml:id="serialconsole-com2">
	<title>Консолд зориулж <filename>sio0</filename>-с өөр цуваа портыг
		ашиглах</title>

	<para><filename>sio0</filename>-с өөр портыг консолд ашиглах нь
	зарим нэг дахин эмхэтгэлтийг шаарддаг. Та ямар ч шалтгаанаар байлаа гэсэн
	өөр цуваа портыг ашиглахыг хүсвэл доор дурдсан шигээр ачаалах блокууд,
	ачаалагч дуудагч болон цөмийг дахин эмхэтгэх хэрэгтэй.</para>

	<procedure>
	  <step>
	    <para>Цөмийн эхийг авна. (<xref linkend="updating-upgrading"/> бүлгийг үзнэ үү)</para>
	  </step>

	  <step>
	    <para><filename>/etc/make.conf</filename> файлыг засварлаж
		<literal>BOOT_COMCONSOLE_PORT</literal> хувьсагчийг
		ашиглахыг хүсэж байгаа портынхоо хаягаар (0x3F8, 0x2F8, 0x3E8 эсвэл
		0x2E8) тохируулна. Зөвхөн <filename>sio0</filename>-с
		<filename>sio3</filename> (<filename>COM1</filename>-с
		<filename>COM4</filename>) хүртэлх портууд ашиглагдаж болно;
		олон порттой цуваа картууд ажиллахгүй. Тасалдлын тохируулга
		шаардлагагүй.</para>
	  </step>

	  <step>
	    <para>Тусгайлсан цөмийн тохиргооны файл үүсгээд ашиглахыг хүсэж байгаа
		портынхоо хувьд тохирох тугуудыг нэмээрэй. Жишээ нь хэрэв та
		<filename>sio1</filename> (<filename>COM2</filename>)
		портыг консол болгохыг хүсэж байгаа бол:</para>

	    <programlisting>device sio1 flags 0x10</programlisting>

	    <para>эсвэл</para>

	    <programlisting>device sio1 flags 0x30</programlisting>

	    <para>Бусад цуваа портуудын хувьд консолын тугууд тохируулагдах ёсгүй.</para>
	  </step>

	  <step>
	    <para>Ачаалах блокууд болон ачаалагч дуудагчийг дахин эмхэтгээд суулгана:</para>

	    <screen>&prompt.root; <userinput>cd /sys/boot</userinput>
&prompt.root; <userinput>make clean</userinput>
&prompt.root; <userinput>make</userinput>
&prompt.root; <userinput>make install</userinput></screen>
	  </step>

	  <step>
	    <para>Цөмийг дахин бүтээж суулгана.</para>
	  </step>

	  <step>
	    <para>Ачаалах блокуудыг ачаалах диск уруу &man.bsdlabel.8;-ийн
		тусламжтай бичээд шинэ цөмөөс ачаална.</para>
	  </step>
	</procedure>
      </sect3>

      <sect3 xml:id="serialconsole-ddb">
	<title>Цуваа шугамнаас DDB дибаг хийгч уруу орох</title>

	<para>Хэрэв та цуваа консолоос цөмийг дибаг хийгч уруу орохыг хүсвэл
	(алсаас хийх шинжилгээнд ашиг тустай байдаг боловч хэрэв та цуваа порт дээр
	алдаатай BREAK үүсгэсэн бол энэ нь аюултай байдаг!) та өөрийн цөмийг дараах
	тохируулгуудтай эмхэтгэх шаардлагатай:</para>

	<programlisting>options BREAK_TO_DEBUGGER
options DDB</programlisting>
      </sect3>

      <sect3>
	<title>Цуваа консол дээр нэвтрэлт хүлээх мөр гаргаж авах</title>

	<para>Энэ нь шаардлагатай биш боловч та одоо цуваа шугамаар ачаалалтын мэдэгдлүүдийг
	харж цөмийн дибаг хийх сесс уруу орж чадаж байгаа юм чинь та цуваа шугамаар
	<emphasis>нэвтрэлт</emphasis> хүлээх мөрийг авахыг хүсэж болох юм.
	Энд хэрхэн үүнийг хийх талаар байна.</para>

	<para><filename>/etc/ttys</filename> файлыг засварлагчаар
	онгойлгоод дараах мөрүүдийг олно:</para>

      <programlisting>ttyu0 "/usr/libexec/getty std.9600" unknown off secure
ttyu1 "/usr/libexec/getty std.9600" unknown off secure
ttyu2 "/usr/libexec/getty std.9600" unknown off secure
ttyu3 "/usr/libexec/getty std.9600" unknown off secure</programlisting>

	<para><filename>ttyu0</filename>-с <filename>ttyu3</filename> хүртэлх
	нь <filename>COM1</filename>-с <filename>COM4</filename>
	хүртэлхтэй тохирно. Хүссэн порт дээрээ <literal>off</literal> гэснийг
	<literal>on</literal> болгож өөрчилнө. Хэрэв та цуваа портын хурдыг өөрчилсөн
	бол тухайн үеийн тохиргоотой тааруулахын тулд <literal>std.9600</literal>-г
	өөрчлөх хэрэгтэй болно, өөрөөр хэлбэл <literal>std.19200</literal> гэх
	мэт.</para>

	<para>Та бас терминалын төрлийг <literal>unknown</literal> гэдгээс
	өөрийн цуваа терминалын жинхэнэ төрлөөр солихыг хүсэж болох юм.</para>

	<para>Файлыг засварласны дараа та энэ өөрчлөлтийг идэвхжүүлэхийн тулд
	<command>kill -HUP 1</command> хийх ёстой.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="serialconsole-loader">
      <title>Ачаалагч дуудагчаас консолыг өөрчлөх</title>

      <para>Өмнөх хэсгүүд нь ачаалах блокуудыг тохируулан цуваа консолыг хэрхэн тохируулах
	талаар тайлбарлалаа. Энэ хэсэг нь ачаалагч дуудагч дээр зарим нэг тушаалууд болон
	орчны хувьсагчуудыг оруулж консолыг тохируулах талаар үзүүлэх болно.
	Ачаалах блокийн дараа ачаалах процессийн гурав дахь шатан дээр ачаалагч дуудагч
	ажиллах үед ачаалагч дуудагч дахь тохиргоонууд нь ачаалах блок дахь тохиргоонуудыг
	дарж ажиллах болно.</para>

      <sect3>
	<title>Цуваа консол тохируулах</title>

	<para>Та ачаалагч дуудагч болон цөмд цуваа консолыг ашиглуулахын тулд
	<filename>/boot/loader.conf</filename> файлд зөвхөн нэг мөр бичээд
	амархан зааж өгч болно:</para>

	<programlisting>console="comconsole"</programlisting>

	<para>Энэ нь өмнөх хэсэгт хэлэлцсэн ачаалах блок дахь тохиргоонуудаас
	үл хамааран идэвхжих болно.</para>

	<para>Та цуваа консол дээр ачаалалтын мэдэгдлүүдийг аль болох эрт харахын тулд
	дээрх мөрийг <filename>/boot/loader.conf</filename> файлынхаа
	хамгийн эхний мөр болгон оруулах нь зүйтэй юм.</para>

	<para>Үүнтэй адилаар та дотоод консолоо ингэж зааж өгч болно:</para>

	<programlisting>console="vidconsole"</programlisting>

	<para>Хэрэв та ачаалагч дуудагчийн орчны хувьсагч <envar>console</envar>-г
	тохируулахгүй бол ачаалагч болон дараа нь цөм ачаалах блок дахь
	<option>-h</option> тохируулгаар заагдсан тэр  консолыг ашиглах
	болно.</para>

	<para>Консолыг
	<filename>/boot/loader.conf.local</filename> юм уу
	эсвэл <filename>/boot/loader.conf</filename> файлд
	зааж өгч болно.</para>

	<para>Дэлгэрэнгүй мэдээллийг &man.loader.conf.5;-с үзнэ үү.</para>

	<note>
	  <para>Одоогоор ачаалагч дуудагчид ачаалах блок дахь
		<option>-P</option> тохируулгатай адил тохируулга байдаггүй
		бөгөөд гар байгаа эсэхээс хамаарч дотоод консол ба цуваа консолыг
		автоматаар сонгох бэлтгэл байдаггүй юм.</para>
	</note>
      </sect3>

      <sect3>
	<title>Консолд зориулж <filename>sio0</filename>-с өөр цуваа портыг
		ашиглах</title>

	<para>Та цуваа консолд зориулж <filename>sio0</filename>-с өөр
	цуваа портыг ашиглахын тулд ачаалагч дуудагчийг дахин эмхэтгэх хэрэгтэй.
	<xref linkend="serialconsole-com2"/> хэсэгт тайлбарласан процедурыг
	дагаарай.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="serialconsole-caveats">
      <title>Анхаарах зүйлс</title>

      <para>Гол санаа нь график тоног төхөөрөмж эсвэл гар залгагдсан байхыг шаарддаггүй
	тийм зориулагдсан серверүүдийг тохируулах боломжийг хүмүүст зөвшөөрөх явдал юм.
	AMI BIOS-уудтай машинуудыг график хувиргагч суулгалгүйгээр ачаалдаг болгож
	тохируулж болдог. Ингэхийн тулд ердөө л CMOS тохиргоон дахь <quote>graphics adapter</quote>
	тохируулгыг <quote>Not installed</quote> болгож өөрчилнө.</para>

      <para>Гэхдээ олон машинууд энэ тохируулгыг дэмждэггүй бөгөөд та систем дээрээ
	ямар ч дэлгэцийн тоног төхөөрөмж байхгүй бол машин ачаалахаас татгалзах болно.
	Ийм машинуудад та ямар нэг төрлийн график карт (хогийн хар цагаан хавтан байсан ч
	гэсэн болно) залгаж орхих хэрэгтэй болох боловч заавал дэлгэц залгах шаардлагагүй юм.
	Та бас AMI BIOS суулгахыг оролдож болох юм.</para>
    </sect2>
  </sect1>
</chapter>
