<?xml version="1.0" encoding="euc-jp"?>
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r42409
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="install">
  <info><title>&os;&nbsp;8.<replaceable>X</replaceable> のインストール</title>
    <authorgroup>
      <author><personname><firstname>Jim</firstname><surname>Mock</surname></personname><contrib>再構成、部分的に書き直し: </contrib></author>
    </authorgroup>

    <authorgroup>
      <author><personname><firstname>Randy</firstname><surname>Pratt</surname></personname><contrib>Sysinstall について、ウォークスルー、スクリーンショット、
	  及びその他原稿: </contrib></author>
    </authorgroup>
    
  </info>

  

  <sect1 xml:id="install-synopsis">
    <title>この章では</title>

    <indexterm><primary>installation</primary></indexterm>

    <para>&os; は、
      テキストベースの使いやすいインストールプログラムを用意しています。
      &os; 9.0-RELEASE 以降では &man.bsdinstall.8;
      と呼ばれるインストールプログラムを使い、
      &os;&nbsp;8.<replaceable>X</replaceable> では
      &man.sysinstall.8; を使います。
      この章では、&man.sysinstall.8; の使い方について説明します。
      &man.bsdinstall.8; の利用については
      <xref linkend="bsdinstall"/> で説明します。</para>

    <para>この章を読めば、次のことがわかるでしょう:</para>

    <itemizedlist>
      <listitem>
	<para>&os; インストールメディアの作り方。</para>
      </listitem>

      <listitem>
	<para>&os; がハードディスクをどのように参照するか、
	  またどのように分割するか。</para>
      </listitem>

      <listitem>
	<para>&man.sysinstall.8;
	  をどのように起動するか。</para>
      </listitem>

      <listitem>
	<para>&man.sysinstall.8;
	  が聞いてくる質問がどのような意味であり、
	  またどのように答えれば良いか。</para>
      </listitem>
    </itemizedlist>

    <para>この章を読む前に、以下のことを確認して下さい:</para>

    <itemizedlist>
      <listitem>
	<para>インストールしようとするバージョンの &os;
	  に付属しているサポートハードウェア一覧を読んで、
	  システムのハードウェアがサポートされているかどうか確認して下さい。</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>この章で説明しているインストール手順は、&i386; および
	&os;/&arch.amd64; アーキテクチャを対象にしています。
	他のプラットフォームに特有の説明についても、
	該当する場所に明記しています。
	インストーラとこの文書で記述している内容との間にはいくらかズレがあります。
	この章を正確なインストールマニュアルとしてではなく、
	一般的なガイドとしてご利用ください。</para>
    </note>

  </sect1>

  <sect1 xml:id="install-hardware">
    <title>ハードウェア要件</title>

    <sect2 xml:id="install-hardware-minimal">
      <title>最小構成</title>

      <para>&os; をインストールする最小構成は、
	&os; のバージョンやハードウェアのアーキテクチャによって異なります。</para>

      <para>以下の節では、最小構成についての情報をまとめています。
	また、&os; のインストール方法によって、フロッピードライブ、
	CDROM ドライブ、もしくはネットワークアダプタが必要となります。
	インストールメディアの準備方法については、
	<xref linkend="install-boot-media"/> で説明されています。</para>

      <sect3>
	<title>&os;/&arch.i386; および &os;/&arch.pc98;</title>

	<para>&os;/&arch.i386; と &os;/&arch.pc98; の両方のアーキテクチャは、
	  486 以上のプロセッサと、
	  少なくとも 24&nbsp;MB の RAM が必要です。
	  最小のインストールでは、
	  少なくとも 150 &nbsp;MB のハードディスクの空き容量が必要です。</para>

	<note>
	  <para>通常、古いハードウェアでは、
	    速いプロセッサを入手するより、より多くの RAM
	    やより多くの容量のハードドライブを用意するほうが重要となります。</para>
	</note>
      </sect3>

      <sect3>
	<title>&os;/&arch.amd64;</title>

	<para>&os;/&arch.amd64; を実行可能なプロセッサには
	  2 つのクラスがあります。
	  1 つ目のクラスは、&amd.athlon;64, &amd.athlon;64-FX, &amd.opteron;
	  やそれより新しいプロセッサです。</para>

	<para>もう 1 つのクラスは、
	  &intel; EM64T アーキテクチャを採用しているプロセッサです。
	  これらのプロセッサの例は、
	  &intel;&nbsp;&core;&nbsp;2 Duo, Quad, Extreme プロセッサファミリおよび
	  &intel;&nbsp;&xeon; 3000, 5000, および 7000 系のプロセッサです。</para>

	<para>nVidia nForce3 Pro-150 ベースのコンピュータを使用するには、
	  BIOS のセットアップを使って、IO APIC を無効にする
	  <emphasis>必要があります</emphasis>。
	  もし、このようなオプションがなければ、
	  かわりに ACPI を無効にしてください。
	  Pro-150 チップセットには回避策が見つかっていないバグがあるためです。</para>
      </sect3>

      <sect3>
	<title>&os;/&arch.sparc64;</title>

	<para>&os;/&arch.sparc64; をインストールするには、
	  サポートされているプラットフォームが必要です
	  (<xref linkend="install-hardware-supported"/> をご覧ください)。</para>

	<para>現時点では、他のオペレーティングシステムとディスクの共有ができないので、
	  &os;/&arch.sparc64; 専用のディスクが必要です。</para>
      </sect3>
    </sect2>

    <sect2 xml:id="install-hardware-supported">
      <title>サポートされているハードウェア</title>

      <para>サポートされるハードウェアのリストは &os; のリリースと一緒に
	&os; ハードウェアノートとして提供されます。
	このドキュメントは通常 CDROM や FTP 配布の一番上のディレクトリや
	&man.sysinstall.8; のドキュメントメニューにある
	<filename>HARDWARE.TXT</filename> という名のファイルで見ることができます。
	アーキテクチャごとに用意されるそのリストを見ることで、&os;
	の各リリースでどのようなハードウェア装置がサポートされるかがわかります。
	リリースごと、およびアーキテクチャごとのハードウェアリストは、
	&os; のウェブサイトの <link xlink:href="http://www.FreeBSD.org/ja/releases/index.html">リリース情報</link>
	のページにあります。</para>
    </sect2>
  </sect1>

  <sect1 xml:id="install-pre">
    <title>インストール前に行う作業</title>

    <sect2 xml:id="install-inventory">
      <title>コンピュータの部品一覧を作る</title>

      <para>&os; をインストールする前に、
	コンピュータで使用している部品の一覧を作っておくといいでしょう。
	&os; のインストールルーチンでは、ハードディスク、ネットワークカード、
	CDROM ドライブなどの部品を、モデル番号、メーカー名とともに表示します。
	さらにこれらのデバイスについて、使用する IRQ, I/O
	ポートまで含めて正しい設定を認識しようと試みます。
	しかし、コンピュータのハードウェアによっては、
	この過程が完全に成功するとは限らず、
	手動で修正しなければならないこともあります。</para>

      <para>既に別のオペレーティングシステムがインストールされているのであれば、
	それらのオペレーティングシステムでのハードウェアの設定を参考にすると良いでしょう。
	拡張カードなどの設定がよく分からない場合は、
	カードそのものに印刷されていることもあります。
	よく使われる IRQ は 3, 5, 7 で、I/O ポートアドレスは通常
	<literal>0x330</literal> のような
	16 進数で書かれています。</para>

      <para>&os; をインストールする前に、
	これらの情報を印刷するか書き留めておくことを勧めます。
	例えば次のような表です:</para>

      <table pgwide="1" frame="none">
	<title>サンプルデバイス一覧</title>

	<tgroup cols="4">
	  <colspec colwidth="2*"/>
	  <colspec colwidth="1*"/>
	  <colspec colwidth="1*"/>
	  <colspec colwidth="4*"/>
	  <thead>
	    <row>
	      <entry>デバイスの名前</entry>

	      <entry>IRQ</entry>

	      <entry>I/O ポート</entry>

	      <entry>メモ</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>1 台目のハードディスク</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>40&nbsp;GB, Seagate 製、プライマリ IDE マスタ</entry>
	    </row>

	    <row>
	      <entry>CDROM</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>プライマリ IDE スレーブ</entry>
	    </row>

	    <row>
	      <entry>2 台目のハードディスク</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>20&nbsp;GB, IBM 製、セカンダリ IDE マスタ</entry>
	    </row>

	    <row>
	      <entry>1 つ目の IDE コントローラ</entry>

	      <entry>14</entry>

	      <entry>0x1f0</entry>

	      <entry/>
	    </row>

	    <row>
	      <entry>ネットワークカード</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>&intel; 10/100</entry>
	    </row>

	    <row>
	      <entry>モデム</entry>

	      <entry>N/A</entry>

	      <entry>N/A</entry>

	      <entry>&tm.3com; 56K ファックスモデム、COM1 に接続</entry>
	    </row>

	    <row>
	      <entry>&hellip;</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para>コンピュータで使用している部品の一覧を作成したら、
	インストールする &os;
	のリリースのハードウェア要件を満たしているかどうかを確認してください。</para>
    </sect2>

    <sect2>
      <title>データのバックアップ</title>

      <para>コンピュータに価値のあるデータが入っている場合には、
	&os; をインストールする前に、データのバックアップをとり、
	さらに正しくバックアップがとれていることを確認して下さい。&os;
	のインストーラは、ハードディスクに実際に書き込む前に確認を求めますが、
	一度実際に書き込む作業が始まってしまうと、
	もう元に戻すことはできません。</para>
    </sect2>

    <sect2 xml:id="install-where">
      <title>&os; をインストールする場所の決定</title>

      <para>ハードディスク全体に &os; をインストールする場合には、
	この節は読み飛ばしてください。</para>

      <para>しかし &os;
	を他のオペレーティングシステムと共存させる必要がある場合は、
	データがディスクにどのように配置されるかを大まかに理解する必要があります。</para>

      <sect3 xml:id="install-where-i386">
	<title>&os;/&arch.i386; アーキテクチャでのディスクレイアウト</title>

      <para>PC のディスクは、
	<firstterm>パーティション</firstterm> と呼ばれる、
	個別の塊に分割することができます。
	&os; は内部にもパーティションを持つので、この名称は混乱をおこします。
	そのため、&os; ではこの塊をスライスと呼びます。
	たとえば、&man.fdisk.8; の &os; 版は、
	パーティションではなくスライスと呼びます。
	PC では、ディスク 1 台あたり 4 つまでパーティションを作成できます。
	これらのパーティションは<firstterm>プライマリパーティション</firstterm>と呼ばれます。
	この制限を回避し、
	4 つ以上のパーティションを作成するために<firstterm>拡張パーティション</firstterm>と呼ばれる新しいパーティション形式が作られました。
	ディスク 1 台につき 1 つだけ拡張パーティションを作成できます。
	論理パーティションと呼ばれる特別のパーティションは、
	この拡張パーティションの内部に作成できます。</para>

      <para>それぞれのパーティションは、
	そのパーティションに含まれるデータの形式を示す数字である、
	<firstterm>パーティション ID</firstterm> を持ちます。&os;
	パーティションのパーティション ID は <literal>165</literal>です。</para>

      <para>通常、各オペレーティングシステムは、
	それぞれ独自の方法で個々のパーティションを識別します。
	たとえば &windows; は、
	プライマリパーティションおよび論理パーティションそれぞれに
	<filename>C:</filename> から始まる
	<firstterm>ドライブレター</firstterm>を割り当てます。</para>

      <para>&os;
	はプライマリパーティションにインストールしなければなりません。
	複数のディスクがある場合は、そのうちのいくつか、もしくはすべてに、
	&os; パーティションを作成することもできます。
	&os; をインストールする時は
	少なくとも 1 つのパーティションを使用可能にしておかなければなりません。
	このパーティションは、空白のパーティション、
	もしくは無くなっても構わないデータしか入っていない、
	既存のパーティションでも構いません。</para>

      <para>すべてのディスクのすべてのパーティションが使用されている場合は、
	他のオペレーティングシステムで提供されているツール
	(たとえば &windows; の <command>fdisk</command>) を使用して、
	そのうちの 1 つを &os; のために解放してください。</para>

      <para>予備のパーティションがある場合には、それを使ってください。
	もし、利用できる容量が少なければ、
	1 つまたは複数の既存のパーティションを縮小して、
	利用できる容量を確保してください。</para>

      <para>&os; の最小のインストールには、100&nbsp;MB
	程度のディスク容量が必要です。
	しかしこれは<emphasis>非常に</emphasis>小さなインストールであり、
	自分のファイルを作成するスペースはほとんど残らないでしょう。
	現実的には、グラフィカルな環境が必要ないのであれば 250&nbsp;MB、
	グラフィカルユーザインタフェースを使用するのであれば 350&nbsp;MB
	以上は必要でしょう。
	その上、サードパーティ製ソフトウェアをインストールするならば、
	さらに多くのスペースが必要になるでしょう。</para>

      <para>&os; のためのスペースを用意する際、
	パーティションサイズを変更するために、
	<application>GParted</application>
	などのツールを使用できます。
	<application>GParted</application> は、
	<acronym>NTFS</acronym> を操作することができ、
	<link xlink:href="http://www.sysresccd.org/">SystemRescueCD</link>
	といった多くの Live CD Linux ディストリビューションで利用できます。</para>

      <warning>
	<para>パーティションサイズを縮小するツールの使用方法を誤ると、
	  ディスク上のデータが消えてしまう可能性があります。
	  この種のツールを使う際には、
	  使用前に必ず最新のデータのバックアップをとって下さい。</para>
      </warning>

      <example>
	<title>既存のパーティションを変更せずに使用</title>

	<para>既に &windows; がインストールされている 4&nbsp;GB のハードディスクが
	  1 台接続されており、そのハードディスクは 2 つのドライブレター
	  <filename>C:</filename> および <filename>D:</filename>
	  に分割されており、それぞれのサイズが 2&nbsp;GB であるとします。
	  <filename>C:</filename> には 1&nbsp;GB,
	  <filename>D:</filename> には 0.5&nbsp;GB のデータがあるとします。</para>

	<para>ディスクには、ドライブレター 1 つあたり 1 つのパーティション、
	  合計で 2 つのパーティションがあることを意味します。
	  この場合、<filename>D:</filename> にあるデータをすべて
	  <filename>C:</filename> にコピーすれば、
	  2 つ目のパーティションを解放し、&os;
	  のために使うことができるでしょう。</para>
      </example>

      <example>
	<title>既存のパーティションを縮小する</title>

	<para>既に &windows; がインストールされている 4&nbsp;GB のハードディスクが
	  1 台接続された PC を使用しているとします。さらに &windows;
	  をインストールする際、1 つの大きなパーティションを作成し、
	  <filename>C:</filename> ドライブとして 4&nbsp;GB を割り当てたとします。
	  現在 1.5&nbsp;GB 使用しており、&os; で 2&nbsp;GB 使いたいとします。</para>

	<para>&os; をインストールするためには、
	  以下のどちらかを行わなければなりません。</para>

	<orderedlist>
	  <listitem>
	    <para>&windows; のデータをバックアップし、インストール時に 2&nbsp;GB
	      のパーティションを作成して &windows; を再インストールする。</para>
	  </listitem>

	  <listitem>
	    <para>先に述べた &windows;
	      パーティションを縮小するツールを使用する。</para>
	  </listitem>
	</orderedlist>
      </example>

      </sect3>
    </sect2>

    <sect2>
      <title>ネットワーク設定の詳細をまとめる</title>

      <para>FTP サイトまたは <acronym>NFS</acronym>
	サーバからインストールする場合は、
	ネットワークの設定を知る必要があります。
	インストールを完了するためにネットワークに接続できるよう、
	これらの情報をインストーラのプロンプトに入力する必要があります。</para>

      <sect3>
	<title>イーサネットもしくはケーブル / DSL モデムでの接続</title>

	<para>イーサネットネットワークに接続する場合や、
	  ケーブル / DSL モデム経由でイーサネットアダプタを利用してインターネットに接続する場合は、
	  次の情報が必要になります:</para>

	<orderedlist>
	  <listitem>
	    <para>IP アドレス</para>
	  </listitem>

	  <listitem>
	    <para>デフォルトゲートウェイの IP アドレス</para>
	  </listitem>

	  <listitem>
	    <para>ホスト名</para>
	  </listitem>

	  <listitem>
	    <para>DNS サーバの IP アドレス</para>
	  </listitem>

	  <listitem>
	    <para>サブネットマスク</para>
	  </listitem>
	</orderedlist>

	<para>これらの情報がわからなければ、
	  システム管理者かサービスプロバイダに問い合わせて下さい。
	  <firstterm>DHCP</firstterm>
	  を使用して、この情報を自動的に割り当てることもあります。</para>
      </sect3>

      <sect3>
	<title>モデムを使用した接続</title>

	<para>非常に長い時間がかかりますが、
	  ダイアルアップモデムを使って、
	  インターネット経由で &os; をインストールできます。</para>

	<para>この場合、以下の内容をあらかじめ確認しておく必要があります:</para>

	<orderedlist>
	  <listitem>
	    <para>インターネットサービスプロバイダ
	      (<acronym>ISP</acronym>) にダイアルする際の電話番号</para>
	  </listitem>

	  <listitem>
	    <para>接続に使用する COM: ポート</para>
	  </listitem>

	  <listitem>
	    <para><acronym>ISP</acronym>
	      のアカウントのユーザ名及びパスワード</para>
	  </listitem>
	</orderedlist>
      </sect3>
    </sect2>
    <sect2>
      <title>&os; Errata の確認</title>

      <para>&os; プロジェクトでは &os;
	の各リリースができる限り安定するよう努力していますが、
	時々バグが発生してしまうことがあります。極まれに、
	発生したバグによりインストールプロセスに影響を与えることがあります。
	これらの問題は発見され解決されるとともに、
	&os; のウェブサイトの
	<link xlink:href="http://www.FreeBSD.org/releases/&rel.current;R/errata.html">&os; Errata</link> に掲示されます。
	注意すべき既知の問題が無いことを確かめるために、インストールする前に
	Errata を確認してください。</para>

      <para>Errata を含む、すべてのリリースに関する情報は、
	<link xlink:href="&url.base;/ja/index.html">&os; のウェブサイト</link> の
	<link xlink:href="&url.base;/ja/releases/index.html">リリース情報</link>
	の項で確認することができます。</para>
    </sect2>

    <sect2>
      <title>&os; インストールファイルの入手</title>

      <para>&os; のインストーラは、
	以下のいずれかの場所に置いてあるファイルから &os;
	をインストールします。</para>

      <itemizedlist>
	<title>ローカルメディア</title>

	<listitem>
	  <para>CDROM または DVD</para>
	</listitem>

	<listitem>
	  <para>USB メモリスティック</para>
	</listitem>

	<listitem>
	  <para>同じコンピュータ上の &ms-dos; パーティション</para>
	</listitem>

	<listitem>
	  <para>フロッピーディスク (&os;/&arch.pc98; のみ)</para>
	</listitem>
      </itemizedlist>

      <itemizedlist>
	<title>ネットワーク</title>

	<listitem>
	  <para>ファイアウォール経由または HTTP プロキシを利用した
	    FTP サイト</para>
	</listitem>

	<listitem>
	  <para>NFS サーバ</para>
	</listitem>

	<listitem>
	  <para>パラレルまたはシリアル専用接続</para>
	</listitem>
      </itemizedlist>

      <para>購入した CD または DVD から &os; をインストールするのであれば、
	<xref linkend="install-boot-media"/> を読み飛ばしてください。</para>

      <para>&os; のインストールファイルを入手するには、
	<xref linkend="install-diff-media"/> まで読み飛ばしてください。
	インストールメディアをどのように準備すれば良いか説明しています。
	このセクションを読み終わった後、ここに戻ってきて、
	<xref linkend="install-boot-media"/> を読んでください。</para>
    </sect2>

    <sect2 xml:id="install-boot-media">
      <title>ブートメディアの準備</title>

      <para>&os; のインストールプロセスは、&os;
	インストーラでコンピュータを起動することから始まります。
	インストーラは、
	別のオペレーティングシステムで実行するプログラムではありません。
	通常、コンピュータはハードディスクにインストールされたオペレーティングシステムから起動しますが、
	CDROM や USB ディスクから起動するように設定することもできます。</para>

      <tip>
	<para>CDROM および DVD からの起動が可能な BIOS を持つコンピュータに
	  CDROM または DVD をインストールするのであれば、
	  この節を飛ばしてください。
	  &os; の CDROM と DVD イメージは起動可能であり、
	  他の特別な準備をすることなく &os;
	  のインストールで利用できます。</para>
      </tip>

      <para>起動可能なメモリスティックを作成する場合には、
	以下の手順にしたがってください。</para>

      <procedure>
	<step>
	  <title>メモリスティックのイメージの取得</title>

	  <para>&os;&nbsp;8.<replaceable>X</replaceable>
	    のメモリスティックのイメージは、
	    <literal>ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/arch/ISO-IMAGES/version/&os;-version-RELEASE-arch-memstick.img</literal> の
	    <filename>ISO-IMAGES/</filename> ディレクトリからダウンロードできます。
	    ここで、 <replaceable>arch</replaceable> と
	    <replaceable>version</replaceable> の部分を、
	    それぞれインストールするアーキテクチャとバージョン番号に置き換えてください。
	    たとえば、&os;/&arch.i386;&nbsp;&rel2.current;-RELEASE
	    のメモリスティックのイメージは、<uri xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/&arch.i386;/ISO-IMAGES/&rel2.current;/&os;-&rel2.current;-RELEASE-&arch.i386;-memstick.img">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/&arch.i386;/ISO-IMAGES/&rel2.current;/&os;-&rel2.current;-RELEASE-&arch.i386;-memstick.img</uri>
	    から入手できます。</para>

	  <tip>
	    <para>&os;&nbsp;9.0-RELEASE からは、
	      異なるディレクトリパスが使われています。
	      &os;&nbsp;9.<replaceable>X</replaceable>
	      のダウンロードとインストールの詳細については、
	      <xref linkend="bsdinstall"/> で説明します。</para>
	  </tip>

	  <para>メモリスティックイメージには、<filename>.img</filename>
	    という拡張子がついています。<filename>ISO-IMAGES/</filename>
	    ディレクトリには複数の異なるイメージがあり、
	    用いるべきイメージは、
	    &os; のバージョンやインストールするハードウェアが対応しているメディアに依存します。</para>

	  <important>
	    <para>以下の作業によってデータが<emphasis>消去</emphasis>されるので、
	      先に進む前に、使用する USB
	      スティックにあるデータを<emphasis>バックアップ</emphasis>してください。</para>
	  </important>
	</step>

	<step>
	  <title>イメージファイルをメモリスティックに書き込む</title>

	  <procedure>
	    <title>&os; を使ってイメージを書き込む</title>

	    <warning>
	      <para>以下の例では、起動するデバイスを
		<filename>/dev/da0</filename> としています。
		適切なデバイスを出力先に設定していることを十分確認してくだい。
		さもなければ、現在あるデータを破壊してしまうでしょう。</para>
	    </warning>

	    <step>
	      <title>イメージを &man.dd.1; を使って書き込む</title>

	      <para><filename>.img</filename> ファイルは、
		単純にメモリスティックにコピーされるような、
		通常のファイルでは<emphasis>ありません</emphasis>。
		ディスクの内容の完全なイメージです。
		したがって、&man.dd.1; を使用して、
		直接ディスクにイメージを書き込む必要があります。</para>

	      <screen>&prompt.root; <userinput>dd if=&os;-&rel2.current;-RELEASE-&arch.i386;-memstick.img of=/dev/da0 bs=64k</userinput></screen>

	      <para>
		<computeroutput>Operation not permitted</computeroutput>
		エラーが表示されたら、ターゲットデバイスが他で利用されていないかどうか、
		マウントされていないかどうか、
		他のプログラムが自動的にマウントしていないかどうかを確認してください。
		その後、もう一度実行してください。</para>
	    </step>
	  </procedure>

	  <procedure>
	    <title>&windows; を使ってイメージを書き込む</title>

	    <warning>
	      <para>以下のコマンドは、
		指定したデバイスに現在あるデータを上書きして破壊してしまうので、
		出力先に適切なドライブレターを設定していることを十分確認してくだい。</para>
	    </warning>

	    <step>
	      <title><application>Image Writer for Windows</application>
		を入手する</title>

	      <para><application>Image Writer for Windows</application> は、
		イメージファイルをメモリスティックに正しく書き込むことのできるフリーのアプリケーションです。
	        <uri xlink:href="https://launchpad.net/win32-image-writer/">https://launchpad.net/win32-image-writer/</uri>
		からダウンロードして、フォルダに展開してください。</para>
	    </step>

	    <step>
	      <title>イメージライタを使ってイメージを書き込む</title>

	      <para><application>Win32DiskImager</application>
		アイコンをダブルクリックして、プログラムを起動します。
		<computeroutput>Device</computeroutput>
		の下に表示されるデバイスレターが、
		メモリスティックのドライブであることを確認してください。
		フォルダのアイコンをクリックして、
		メモリスティックに書き込むイメージファイルを選択します。
	        <guibutton>Save</guibutton> をクリックして、
		イメージファイルの名前をアクセプトしてください。
		すべてが正しく行われたかどうか、また、
		他のウィンドウでメモリスティックのフォルダが開かれていないことを確認してください。
		最後に、<guibutton>Write</guibutton> を押して、ドライブにイメージファイルを書き込みます。</para>
	    </step>
	  </procedure>
	</step>
      </procedure>

      <para>&os;/&arch.pc98;
	のインストール用に起動フロッピーディスクを作成するためには、
	次のステップに従って下さい:</para>

      <procedure>
	<step>
	  <title>起動フロッピーイメージの取得</title>

	  <para>&os;/&arch.pc98; のブートディスクは、
	    floppies ディレクトリ、
	    <literal>ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/pc98/version-RELEASE/floppies/</literal>
	    から入手できます。
	    ここで <replaceable>version</replaceable> の部分を、
	    それぞれインストールするバージョン番号に置き換えてください。</para>

	  <para>フロッピーイメージは <filename>.flp</filename>
	    という拡張子がついています。<filename>floppies/</filename>
	    には複数の異なるイメージがあります。
	    <filename>boot.flp</filename> とともに、
	    <filename>kern.small*</filename> または
	    <filename>kern*</filename>
	    といったインストールの種類に関連づいた複数のファイルをダウンロードしてください。</para>

	  <important>
	    <para>FTP プログラムを使用してこれらのディスクイメージをダウンロードする時は、
	      必ず<emphasis>バイナリモード</emphasis>にして下さい。
	      Web ブラウザによっては <emphasis>テキスト</emphasis>
	      または <emphasis>アスキー</emphasis>
	      モードでダウンロードするものがあり、
	      ディスクから起動できないときは大抵これが原因です。</para>
	  </important>
	</step>

	<step>
	  <title>フロッピーディスクの用意</title>

	  <para>ダウンロードしたイメージファイル 1 つにつき
	    1 枚のフロッピーディスクを用意してください。
	    これらのディスクに欠陥があってはいけません。
	    これを確認する最も簡単な方法は、
	    自分自身でフォーマットしてみることです。
	    フォーマットする前のフロッピーを信用してはいけません。
	    &windows; のフォーマットユーティリティは、
	    不良ディスクがあっても教えてはくれないでしょう。
	    それらを <quote>bad</quote> とマークして、無視するだけです。
	    新品のフロッピーを使うことをお薦めします。</para>

	  <important>
	    <para>インストーラがクラッシュしたりフリーズしたり、
	      おかしな動作をした時、
	      まずはじめに疑うべきもののうちの 1 つはフロッピーです。
	      フロッピーイメージを新しいディスクに書き込んで、
	      もう一度試してみて下さい。</para>
	  </important>
	</step>

	<step>
	  <title>フロッピーディスクへイメージファイルを書き込む。</title>

	  <para><filename>.flp</filename> ファイルは、
	    ディスクにコピーできるような、
	    通常のファイルでは<emphasis>ありません</emphasis>。
	    完全なディスクの内容のイメージです。
	    イメージを直接ディスクに書き込む特別なツールを使用する必要があります。</para>

	  <indexterm><primary>DOS</primary></indexterm>
	  <para>&os; は、&windows;
	    が動作しているコンピュータでフロッピーを作成する
	    <command>rawrite</command> と呼ばれるツールを提供しています。
	    このツールは &os; の FTP サイト上の
	    <literal>ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/pc98/
	      version-RELEASE/tools/</literal>
	    からダウンロードできます。
	    このツールをダウンロードしたら、フロッピーを挿入してください。
	    その後、ファイル名を指定してフロッピードライブに書き込んでください。</para>

	  <screen><prompt>C:\&gt;</prompt> <userinput>rawrite boot.flp A:</userinput></screen>

	  <para>毎回フロッピーディスクを入れ換え、
	    ファイルの名前を示すラベルを付けながら、
	    それぞれの <filename>.flp</filename>
	    ファイルに対してこのコマンドを繰り返します。
	    <filename>.flp</filename> ファイルを置いた場所に応じて、
	    コマンドラインを変更して下さい。</para>

	  <para>&os; システムのような、
	    &unix;-like システムでフロッピーへの書き込みを行う場合は、
	    イメージファイルを直接ディスクに書き込むために &man.dd.1;
	    を使ってください。&os; 上では、
	    次のように実行してください。</para>

	  <screen>&prompt.root; <userinput>dd if=boot.flp of=/dev/fd0</userinput></screen>

	  <para>&os; においては、<filename>/dev/fd0</filename> が
	    1 台目のフロッピーディスクドライブを表します。
	    他の &unix; システムでは、
	    フロッピーディスクデバイスには別の名前がついているかもしれないので、
	    必要に応じてそのシステムのドキュメントを確認して下さい。</para>
	</step>
      </procedure>

      <para>これで &os; をインストールする用意ができました。</para>
    </sect2>
  </sect1>

  <sect1 xml:id="install-start">
    <title>インストールの開始</title>

    <important>
      <para>デフォルトでは、
	次のメッセージが表示されるまでインストーラはディスクに何の変更も加えません。</para>

      <literallayout class="monospaced">Last Chance: Are you SURE you want continue the installation?

If you're running this on a disk with data you wish to save then WE
STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

We can take no responsibility for lost disk contents!</literallayout>

      <para>この最後の警告の前であれば、
	いつでもハードディスクの内容を変更することなくインストールを中断できます。
	もし、何かを間違って設定してしまったことが心配ならば、
	最後の警告の前に単にコンピュータをオフにしてください。
	被害を残さずに済みます。</para>
    </important>

    <sect2 xml:id="install-starting">
      <title>起動</title>

      <sect3 xml:id="install-starting-i386">
	<title>&i386; アーキテクチャでの起動</title>

      <procedure>
	<step>
	  <para>コンピュータの電源をいれます。
	    起動が始まると、すぐにシステムまたは BIOS
	    のセットアップメニューに入るためのオプションが表示されるはずです。
	    一般的には <keycap>F2</keycap>, <keycap>F10</keycap>,
	    <keycap>Del</keycap> のようなキーまたは
	    <keycombo action="simul">
	      <keycap>Alt</keycap>
	      <keycap>S</keycap>
	    </keycombo> のようなキーの組合せです。
	    画面上に示されるキーを使用してください。
	    コンピュータによっては、
	    起動する間に画像を表示するものもあります。
	    大抵の場合、<keycap>Esc</keycap> キーを押すと、
	    画像が消えてブートメッセージが表示されます。</para>
	</step>

	<step>
	  <para>どの装置からシステムが起動するかを制御する設定を探してください。
	    通常は <quote>Boot Order</quote> と呼ばれ、一般的には、
	    <literal>Floppy</literal>, <literal>CDROM</literal>,
	    <literal>First Hard Disk</literal>
	    などの装置の一覧として表示されています。</para>

	  <para>CD または DVD から起動する場合には CDROM が選択されていることを、
	    USB ディスクから起動するなら
	    USB ディスクが選択されていることを確認してください。
	    自信が無い場合は、
	    コンピュータやマザーボード付属のマニュアルを参照してください。</para>

	  <para>変更を保存して終了してください。
	    コンピュータが再起動するはずです。</para>
	</step>

	<step>
	  <para><xref linkend="install-boot-media"/>
	    で説明されている <quote>起動</quote> USB
	    スティックを使用する場合には、
	    コンピュータを立ち上げる前に、
	    USB スティックを挿入してください。</para>

	  <para>CD または DVD から起動する場合、コンピュータを立ち上げ、
	    すぐに CD または DVD を挿入する必要があります。</para>

	  <note>
	    <para>&os;/&arch.pc98; では、
	      インストール用の起動フロッピーが用意されており、
	      <xref linkend="install-boot-media"/>
	      で説明されている方法で作成できます。
	      <filename>boot.flp</filename>
	      が最初に挿入するフロッピーディスクです。
	      インストーラを起動できるように、
	      このフロッピーをフロッピードライブに挿入してください。</para>
	  </note>

	  <para>もし、コンピュータがすでに存在している OS を読み込み、
	    通常通り起動してしまったのであれば、
	    以下の原因が考えられます。</para>

	  <orderedlist>
	    <listitem>
	      <para>起動ディスクが起動プロセスにおいて十分早いタイミングで挿入されていません。
		ディスクをそのままにしてコンピュータを再起動してください。</para>
	    </listitem>

	    <listitem>
	      <para>BIOS の変更が適切に行われていません。
		正しいオプションを設定してやり直してください。</para>
	    </listitem>

	    <listitem>
	      <para>使用している BIOS は、
		希望しているメディアからの起動に対応していません。</para>
	    </listitem>
	</orderedlist>
	</step>

	<step>
	  <para>&os; は起動を開始します。CD または DVD から起動している場合、
	    次のような画面が表示されるでしょう。</para>

	  <screen>Booting from CD-Rom...
645MB medium detected
CD Loader 1.2

Building the boot loader arguments
Looking up /BOOT/LOADER... Found
Relocating the loader and the BTX
Starting the BTX loader

BTX loader 1.00 BTX version is 1.02
Consoles: internal video/keyboard
BIOS CD is cd0
BIOS drive C: is disk0
BIOS drive D: is disk1
BIOS 636kB/261056kB available memory

FreeBSD/i386 bootstrap loader, Revision 1.1

Loading /boot/defaults/loader.conf
/boot/kernel/kernel text=0x64daa0 data=0xa4e80+0xa9e40 syms=[0x4+0x6cac0+0x4+0x88e9d]
\</screen>

	  <para>フロッピーディスクから起動している場合、
	    次のような画面が現れるでしょう。</para>

	  <screen>Booting from Floppy...
Uncompressing ... done

BTX loader 1.00  BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive C: is disk1
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 1.1

Loading /boot/defaults/loader.conf
/kernel text=0x277391 data=0x3268c+0x332a8 |

Insert disk labelled "Kernel floppy 1" and press any key...</screen>

	  <para><filename>boot.flp</filename> フロッピーを抜き、
	    次のフロッピーを挿入し、
	    <keycap>Enter</keycap> を押してください。
	    プロンプトが表示されたら、
	    要求される通りに他のディスクを挿入してください。</para>
	</step>

	<step>
	  <para>起動プロセスは &os; ブートローダメニューを表示します。</para>

	  <figure xml:id="boot-loader-menu">
	    <title>&os; ブートローダメニュー</title>

	    <mediaobject>
	      <imageobject>
		<imagedata fileref="install/boot-loader-menu"/>
	      </imageobject>
	    </mediaobject>
	  </figure>

	  <para>10 秒間待つか、<keycap>Enter</keycap> を押してください。</para>
	</step>
      </procedure>

      </sect3>

      <sect3>
	<title>&sparc64; アーキテクチャでの起動</title>

	<para>ほとんどの &sparc64; システムは、
	  ディスクから自動的に起動するように設定されています。
	  &os; をインストールするには、ネットワークまたは CD/DVD
	  から起動し、ブートメッセージが表示されるまで待ってください。
	  モデルによりますが、以下のようなメッセージが表示されます。</para>

    <screen>Sun Blade 100 (UltraSPARC-IIe), Keyboard Present
Copyright 1998-2001 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.2, 128 MB memory installed, Serial #51090132.
Ethernet address 0:3:ba:b:92:d4, Host ID: 830b92d4.</screen>

	<para>もしシステムがディスクから起動するようでしたら、
	  キーボードから
	  <keycombo action="simul"><keycap>L1</keycap><keycap>A</keycap></keycombo>
	  または
	  <keycombo action="simul"><keycap>Stop</keycap><keycap>A</keycap></keycombo>
	  を押すか、シリアルコンソールから
	  &man.tip.1; または &man.cu.1; で <command>~#</command>
	  を使って <command>BREAK</command> を送信して、
	  PROM プロンプトを表示してください。
	  次のような表示です。</para>

	  <screen><prompt>ok     </prompt><co xml:id="prompt-single"/>
<prompt>ok {0} </prompt><co xml:id="prompt-smp"/></screen>

	  <calloutlist>
	    <callout arearefs="prompt-single">
	      <para>単一の CPU を持つシステムでのプロンプト</para>
	    </callout>

	    <callout arearefs="prompt-smp">
	      <para>SMP システムのプロンプト。数字はアクティブな CPU の数。</para>
	    </callout>
	  </calloutlist>

	<para>ここで、CD または DVD をドライブに挿入し、
	  PROM プロンプトで <command>boot cdrom</command> と入力してください。</para>
      </sect3>

    </sect2>

    <sect2 xml:id="view-probe">
      <title>デバイス検出結果を再表示する</title>

      <para>画面に表示される数百行の文字列は (バッファに) 記憶されており、
	再表示することが出来ます。</para>

      <para>バッファを再表示するには、<keycap>Scroll Lock</keycap> を押してください。
	これで、画面をスクロールできます。結果を見るためには、矢印キーもしくは
	<keycap>PageUp</keycap> か <keycap>PageDown</keycap> を使います。
	<keycap>Scroll Lock</keycap> をもう一度押すと、スクロールを停止します。</para>

      <para>この作業を行って、カーネルがデバイス検出を実行している時に画面の外に流れた文字列を再表示してください。
	<xref linkend="install-dev-probe"/> によく似た画面が現われるでしょうが、
	コンピュータに搭載されているデバイスによって、表示される文字列は異なります。</para>

      <figure xml:id="install-dev-probe">
	<title>古典的なデバイス検出結果の例</title>

	<screen>avail memory = 253050880 (247120K bytes)
Preloaded elf kernel "kernel" at 0xc0817000.
Preloaded mfs_root "/mfsroot" at 0xc0817084.
md0: Preloaded image &lt;/mfsroot&gt; 4423680 bytes at 0xc03ddcd4

md1: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard
npx0: INT 16 interface
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1:&lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;iSA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0 &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci
0
usb0: &lt;VIA 83572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr1
uhub0: 2 ports with 2 removable, self powered
pci0: &lt;unknown card&gt; (vendor=0x1106, dev=0x3040) at 7.3
dc0: &lt;ADMtek AN985 10/100BaseTX&gt; port 0xe800-0xe8ff mem 0xdb000000-0xeb0003ff ir
q 11 at device 8.0 on pci0
dc0: Ethernet address: 00:04:5a:74:6b:b5
miibus0: &lt;MII bus&gt; on dc0
ukphy0: &lt;Generic IEEE 802.3u media interface&gt; on miibus0
ukphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xec00-0xec1f irq 9 at device 10.
0 on pci0
ed0 address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
orm0: &lt;Option ROM&gt; at iomem 0xc0000-0xc7fff on isa0
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5&rdquo; drive&gt; on fdc0 drive 0
atkbdc0: &lt;Keyboard controller (i8042)&gt; at port 0x60,0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/@ mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
pppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
plip0: &lt;PLIP network interface&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master UDMA33
acd0: CD-RW &lt;LITE-ON LTR-1210B&gt; at ata1-slave PIO4
Mounting root from ufs:/dev/md0c
/stand/sysinstall running as init on vty0</screen>
      </figure>

     <para>丹念に検出結果をチェックして、すべてのデバイスを
	 &os; が検出できた事を確認してください。デバイスが見つからなかった場合、
	検出結果へ表示されません。
	<link linkend="kernelconfig">カスタムカーネル</link> を構築することで、
	<filename>GENERIC</filename>
	カーネルに含まれていないデバイスに対応できるようになります。</para>

      <para>デバイス検出後、
	<xref linkend="config-country"/> に示されるメニューが表示されます。
	矢印キーを使って、国、地域またはグループを選択し、
	その後、<keycap>Enter</keycap> を押して決定してください。</para>

      <figure xml:id="config-country">
	<title>国の選択メニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/config-country"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>国に <guimenuitem>United States</guimenuitem> を選択した場合には、
	標準のアメリカのキーボードマップが使われるようになります。
	他の国を選択すると以下のメニューが表示されます。
	矢印キーを使い、適切なキーボードマップを選択して
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="config-keymap">
	<title>キーボードメニューの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/config-keymap"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>国の設定が終わったら、&man.sysinstall.8;
	のメインメニューが表示されます。</para>
    </sect2>
  </sect1>

  <sect1 xml:id="using-sysinstall">
    <title>&man.sysinstall.8; の紹介</title>

    <para>&os;&nbsp;8.<replaceable>X</replaceable> のインストーラである
      &man.sysinstall.8; は、
      コンソール上で動作し、
      いくつものメニューや画面から構成され、
      設定やインストールプロセスをコントロールできます。</para>

    <para>メニューはカーソルキー、
      <keycap>Enter</keycap>, <keycap>Tab</keycap>,
      <keycap>Space</keycap> 等で操作します。
      これらのキーの詳しい解説とその意味については、<xref linkend="sysinstall-main3"/> に示されているように、
      <guimenuitem>Usage</guimenuitem> の項目が強調表示され、
      <guibutton>[Select]</guibutton> ボタンが選択されていることを確認してから、
      <keycap>Enter</keycap> を押してください。</para>

    <para>メニューシステムの使い方が表示されます。読み終ったら、
      <keycap>Enter</keycap> を押してメインメニューに戻りましょう。</para>

    <figure xml:id="sysinstall-main3">
      <title>Sysinstall のメインメニューから Usage を選択</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/main1"/>
	</imageobject>
      </mediaobject>
    </figure>

    <sect2 xml:id="select-doc">
      <title>ドキュメントメニューの選択</title>

      <para>メインメニューから、カーソルキーで
	<guimenuitem>Doc</guimenuitem> を選択して
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="main-doc">
	<title>ドキュメントメニューの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-doc"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>これでドキュメントメニューが表示されます。</para>

      <figure xml:id="docmenu1">
	<title>Sysinstall ドキュメントメニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/docmenu1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>付属のドキュメントを読むことは重要です。
	ドキュメントを読むには、カーソルキーで選択して
	<keycap>Enter</keycap> を押してください。読み終えたら、
	<keycap>Enter</keycap> を押すとドキュメントのメニューに戻ります。</para>

      <para>メインのインストールメニューに戻るには、カーソルキーで
	<guimenuitem>Exit</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押してください。</para>
    </sect2>

    <sect2 xml:id="keymap">
      <title>キー配列メニューの選択</title>

      <para>キーボード配列を変更するには、カーソルキーで
	<guimenuitem>Keymap</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押してください。
	使用しているキーボードが、標準ではなかったり、
	または US ではない場合に変更作業が必要となります。</para>

      <figure xml:id="sysinstall-keymap">
	<title>Sysinstall メインメニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-keymap"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>上下のカーソルキーでメニュー項目を選択して
	<keycap>Space</keycap> を押すと、異なるキーボード配列を選択できます。
	もう一度 <keycap>Space</keycap> を押すと、選択を解除します。
	完了したら、カーソルキーで &gui.ok; を選択して
	<keycap>Enter</keycap> を押してください。</para>

      <para>このスクリーン表示では、リストの一部しか表示されていません。
	<keycap>Tab</keycap> を押して &gui.cancel; を選択すると、
	デフォルトのキーマップを使用して、
	メインインストールメニューに戻ります。</para>

      <figure xml:id="sysinstall-keymap-menu">
	<title>Sysinstall キー配列メニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/keymap"/>
	  </imageobject>
	</mediaobject>
      </figure>

    </sect2>

    <sect2 xml:id="viewsetoptions">
      <title>インストールオプション画面</title>

    <para><guimenuitem>Options</guimenuitem> を選択して、
      <keycap>Enter</keycap> を押してください。</para>

    <figure xml:id="sysinstall-options">
      <title>Sysinstall メインメニュー</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/main-options"/>
	</imageobject>
      </mediaobject>
    </figure>

      <figure xml:id="options">
	<title>Sysinstall オプション</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/options"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>ほとんどのユーザーにはデフォルトの値でよく、変更する必要はありません。
	リリース名は、インストールするバージョンによって変わります。</para>

      <para>選択された項目の説明が、画面の下部に青く強調表示されます。
	オプションの 1 つは <guimenuitem>Use Defaults</guimenuitem> という、
	すべての値を初期値に戻すものであることに気をつけてください。</para>

      <para><keycap>F1</keycap> を押すと、
	さまざまなオプションについての説明を読むことができます。</para>

      <para><keycap>Q</keycap> を押すと、
	メインインストールメニューに戻ります。</para>
    </sect2>

    <sect2 xml:id="start-install">
      <title>標準インストールの開始</title>

      <para>&unix; や &os; が初めての人には
	<guimenuitem>Standard</guimenuitem> インストールがお奨めです。
	カーソルキーで <guimenuitem>Standard</guimenuitem> を選択し、
	<keycap>Enter</keycap> を押してインストールを始めてください。</para>

      <figure xml:id="sysinstall-standard">
	<title>標準インストールの開始</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/main-std"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>
  </sect1>

  <sect1 xml:id="install-steps">
    <title>ディスク領域の割り当て</title>

    <para>最初の課題は、&os; 用にディスク領域を割り当て、
      &man.sysinstall.8;
      が使えるようにラベルを作成することです。
      そうするためには、&os;
      がディスク上にどのような情報があることを前提としているかを知らなければなりません。</para>

    <sect2 xml:id="install-drive-bios-numbering">
      <title>BIOS ドライブの番号付け</title>

      <para>&os; をインストールして設定する前に、
	&os; がどのように BIOS
	ドライブマッピングを取り扱うかを理解しておくことが重要です。</para>

      <indexterm><primary>MS-DOS</primary></indexterm>
      <indexterm><primary>Microsoft Windows</primary></indexterm>
      <para>&microsoft.windows; のような
	に依存したオペレーティングシステムが動いている PC では、
	BIOS がディスクドライブの順序を構成でき、
	OS はその変化に追従します。これにより、"プライマリマスタ"
	以外のディスクから起動することができます。
	この仕組みを用いればシステムのバックアップを取る簡単な方法を構築できます。
	もう一つ同じディスクを買い、
	一つ目のディスクから二つめのディスクへのコピーを定期的に取ればいいのです。
	そして、一つ目のディスクに障害が起きたり、ウィルスに感染したり、
	オペレーティングシステムの不具合でめちゃくちゃにされてしまった時には、
	BIOS に対してドライブを論理的に交換するように指示することで簡単に復旧できるのです。
	この方法はドライブのケーブルを交換するのと同じようなことなのですが、
	ケースを開ける必要がありません。</para>

      <indexterm><primary>SCSI</primary></indexterm>
      <indexterm><primary>BIOS</primary></indexterm>
      <para>SCSI コントローラを備えたシステムでは、
	しばしば BIOS に拡張が施されており、同じように 7
	台までのドライブの順番を組み換えることができるようになっています。</para>

      <para>以上のような機能を便利に使っているユーザは、
	&os; では同じような結果にならないことに驚くかもしれません。&os; は
	BIOS を利用しないため、<quote>論理 BIOS ドライブマッピング</quote>
	については知らないのです。
	このため、特に同じ物理ジオメトリを持っているいくつかのドライブをデータのクローンとして使っている時に、
	ややこしい状況になり得ます。</para>

      <para>&os; を使う時は、
	インストール前にドライブの番号付けが自然なものになるように、
	必ず BIOS の設定を戻しておきましょう。
	もしドライブの番号付けを変更する必要がある場合には、
	ケースを開けジャンパーやケーブルを移動してください。</para>

      <sidebar>
	<title>Bill と Fred のイケイケ冒険記より</title>

	<para>Bill は Fred のためにもう一つ &os; 箱を作ろうと古い
	  Wintel 箱を潰しました。Bill は ユニット番号 0 の SCSI ドライ
	  ブを一つ追加し、そこに &os; を入れました。</para>

	<para>Fred はこのシステムを使い始めましたが、数日後その古い
	  SCSI ドライブがたくさんのエラーを吐いていることに気付きました。</para>

	<para>その問題に対処するため、
	  Bill は同じ SCSI ドライブを取ってきました。
	  このドライブを SCSI ユニット番号 4 と
	  して取り付け、ドライブ 0 からドライブ 4 へのイメージコピーを行ないました。
	  新しいドライブがインストールされ、
	  しかもうまく動いているため、Bill
	  はそれを使い始めてもいいだろうと思いました。
	  そこで彼は SCSI BIOS の機能を使ってシステムがユニット 4
	  から起動するようにディスクドライブの順序を入れ換えました。
	  &os; が起動し、調子良く動き始めました。</para>

	<para>Fred は作業を続けましたが、すぐに
	  新しいバージョンの &os;
	  にアップグレードすることにしました。Bill は SCSI ユニット 0
	  のディスクは当てにならないので取りはずし、
	  別の新しい同じドライブと交換しました。
	  そして、Bill は新しいバージョンの
	  &os; を、新しい SCSI ユニット 0 にインストールしました。
	  インストールはうまくいきました。</para>

	<para>Fred は新しいバージョンの &os; を数日使ってみて、
	  技術部門でも使えるくらい十分に良いものだと確認しました。
	  古いバージョンからすべての作業をコピーする時が来たのです。
	  そこで Fred は、古い &os;
	  で行なっていた作業の最新のものが置いてあるはずの SCSI ユニット 4 
	  をマウントしました。ところが、Fred は SCSI ユニット 4
	  には自分の作業がなにも残っていないことを発見して慌てふためきました。</para>

	<para>Bill がオリジナルの SCSI ユニット 0 のイメージをユニット
	  4 にコピーした時に、ユニット 4 が <quote>新クローン</quote>
	  になっていたのです。
	  Bill がユニット 4 から起動するように SCSI BIOS で順序の入れ換えを行なった後でも、
	  &os; は依然として SCSI ユニット 0 上で動いていたのです。
	  BIOS にこのような変更を行なっても Boot と
	  Loader のコードの一部もしくは全部は選択された BIOS
	  ドライブから取得されます。しかしながら、処理が &os;
	  のカーネルドライバに引き渡された時から BIOS ドライブの順序は無視され、
	  &os; は、通常のドライブ番号順に移行するのです。
	  さきほどの例では、システムはオリジナルの SCSI ユニット 0 で動き続けており、
	  Fred のデータはすべて SCSI ユニット 4 ではなくそのディスクに残っていたのです。
	  システムが SCSI ユニット 4
	  で動いているように見えたのは単に人の期待からくる妄想だったのです。</para>

	<para>幸運にも、古い SCSI ユニット 0 は見つけ出され、
	  Fred が行なった作業はすべて彼のもとへ返ってきたのです。</para>

	<para>この例では SCSI ドライブが用いられましたが、その概念は
	  IDE ドライブにも同じように当てはまります。</para>
      </sidebar>
    </sect2>

    <sect2 xml:id="main-fdisk">
      <title>fdisk でスライス作成</title>

      <para>&man.sysinstall.8; で Standard インストールを選択すると、
	次のメッセージが表示されるでしょう。</para>

      <screen>                                 Message
 In the next menu, you will need to set up a DOS-style ("fdisk")
 partitioning scheme for your hard disk. If you simply wish to devote
 all disk space to FreeBSD (overwriting anything else that might be on
 the disk(s) selected) then use the (A)ll command to select the default
 partitioning scheme followed by a (Q)uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked "unused" and use the
 (C)reate command.
                                [  OK  ]

                      [ Press enter or space ]</screen>

      <para><keycap>Enter</keycap> を押すと、
	カーネルがデバイス検出時に見付けた、
	すべてのハードドライブのリストが表示されます。
	<xref linkend="sysinstall-fdisk-drive1"/> は
	<filename>ad0</filename> および
	<filename>ad2</filename> と名付けられた
	2 つの IDE ディスクをもつシステムの例です。</para>

      <figure xml:id="sysinstall-fdisk-drive1">
	<title>fdisk を実行するディスクの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-drive1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>この画面では、一覧に <filename>ad1</filename>
	が表示されていないことに注目してください。</para>

      <para>一つ目はプライマリ IDE コントローラのマスタ、
	二つ目はセカンダリ IDE コントローラのマスタとして接続している
	2 つの IDE ハードディスクを考えてください。
	もし &os; がこれらを <filename>ad0</filename> と
	<filename>ad1</filename>
	のように番号つけても、すべては動作するでしょう。</para>

      <para>しかし、その後プライマリ IDE コントローラのスレーブとして
	3 つ目のディスクを追加したとしたら、
	それはたった今 <filename>ad1</filename> となり、
	以前の <filename>ad1</filename> は
	<filename>ad2</filename> となるでしょう。
	デバイス名はファイルシステムを見つけるのに使われるため、
	ファイルシステムのいくつかは突然正しく現れなくなるかもしれず、
	&os; の設定を変更する必要があるでしょう。</para>

      <para>これを解決するために、ディスクが見つかった順番ではなく、
	どこに接続されているかということに基づいて
	IDE ディスクを名前づけするようにカーネルを設定できます。
	この機構によって、セカンダリ IDE コントローラのマスタディスクは、
	たとえ <filename>ad0</filename> または <filename>ad1</filename>
	デバイスがないとしても<emphasis>いつでも</emphasis>
	<filename>ad2</filename> になるでしょう。</para>

      <para>この設定は &os; カーネルの標準設定です。
	これがこの例で画面に <filename>ad0</filename> および
	<filename>ad2</filename> が表示される理由です。
	このスクリーンショットが得られたマシンには、
	IDE コントローラの両方のマスタチャネルにディスクがあり、
	スレーブチャネルにはありません。</para>

      <para>&os; をインストールしたいディスクを選択して、
	&gui.ok; を押してください。
	<xref linkend="sysinstall-fdisk1"/> のような表示とともに
	<application>Fdisk</application> が起動するでしょう。</para>

      <para><application>Fdisk</application>
	の画面は三つのセクションに分かれます。</para>

      <para>一つ目のセクションは、これは表示の先頭二行にわたっているのですが、
	現在選択されているディスクの詳細を表示します。
	ディスクの詳細には &os; でのデバイス名、ディスクのジオメトリ、
	そしてディスクの全容量が含まれます。</para>

      <para>二つ目のセクションは現在ディスク上にあるスライスを表示します。
	スライスの開始セクタと終了セクタ、大きさ、&os; 上での名前、
	種類とサブタイプが表示されます。
	この例では、PC 上のディスクレイアウト機能が生み出した、
	未使用の小さなスライスを二つ表示しています。
	また大きな <acronym>FAT</acronym> スライスも一つ表示しています。
	これは、&windows; において <filename>C:</filename> ドライブ、
	および拡張スライスとして現れます
	(この場合、他のドライブレターとなりえます)。</para>

      <para>三つ目のセクションは <application>FDisk</application>
      において利用可能なコマンドを表示します。</para>

      <figure xml:id="sysinstall-fdisk1">
	<title>典型的な <application>FDisk</application> パーティション</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-edit1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>今から行うことは、
	どのようにディスクを分割するかによります。</para>

      <para>&os; をディスク全体にインストールするのであれば、
	<guimenuitem>Use Entire Disk</guimenuitem> オプションを表す
	<keycap>A</keycap> キーを押してください。
	この場合、このディスクのすべてのデータは削除されます。
	存在しているスライスは取り除かれ、
	<literal>unused</literal> の小さな領域と、
	&os; のための大きなスライスへ置きかわるでしょう。
	次に方向キーを使って新しく作成された
	&os; スライスを選択し、スライスに起動可能の印をつけるために
	<keycap>S</keycap> キーを押してください。
	そのとき、画面の見た目は <xref linkend="sysinstall-fdisk2"/>
	とよく似たものとなるでしょう。
	<literal>Flags</literal> 列の <literal>A</literal> に注意してください。
	これはこのスライスが <emphasis>アクティブ</emphasis> で、
	ここから起動することを示します。</para>

      <para>&os; のための空き領域を作成するために、
	存在しているスライスを削除しようとしているのなら、
	方向キーをつかってスライスを選択して
	<keycap>D</keycap> キーを押してください。
	それから <keycap>C</keycap> キーを押すと、
	作成したいスライスの大きさの入力を促されます。
	適切な数字を入力して <keycap>Enter</keycap> キーを押してください。
	この欄に表示されているデフォルト値は、
	スライスに対して割り当てることのできる最大の値です。
	この値は、割り当てられていない領域の連続したブロック、または、ハードディスクの全サイズです。</para>

      <para>&os; のための空き領域を既に作成しているなら、
	そのときは <keycap>C</keycap>
	キーを押して新しいスライスを作成できます。
	再び、作成したいスライスの大きさの入力を促されるでしょう。</para>

      <figure xml:id="sysinstall-fdisk2">
	<title>ディスク全体を使う FDisk 構成</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-edit2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>終了したら <keycap>Q</keycap> キーを押しください。
	あなたの変更は &man.sysinstall.8;
	内に保存されるでしょう。
	しかし、まだディスクには書きこまれません。</para>
    </sect2>

    <sect2 xml:id="bootmgr">
      <title>ブートマネージャのインストール</title>

      <para>次のメニューでは、
	ブートマネージャをインストールするかどうかを選択します。
	一般的に、次の場合は
	&os; ブートマネージャをインストールするべきです。</para>

      <itemizedlist>
	<listitem>
	  <para>二つ以上のドライブがあり、
	    一番目のドライブ以外に &os; をインストールする場合</para>
	</listitem>

	<listitem>
	  <para>&os; を同じディスク内に他の OS と共存させてインストールしており、
	    コンピュータを起動する際に &os; か他の OS かを選択したい場合</para>
	</listitem>
      </itemizedlist>

      <para>もし、コンピュータに &os; のみをインストールするのであれば、
	最初のハードディスクにインストールし、
	<guimenuitem>Standard</guimenuitem> ブートマネージャを選択してください。
	もし、&os; をブート可能なサードパーティ製のブートマネージャを使うのであれば、
	<guimenuitem>None</guimenuitem> を選択してください。</para>

      <para>選択をして <keycap>Enter</keycap> キーを押してください。</para>

      <figure xml:id="sysinstall-bootmgr">
	<title>sysinstall ブートマネージャメニュー</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/boot-mgr"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>F1</keycap> キーを押すと表示されるヘルプ画面では、
	ハードディスクを
	OS 間で共有する場合に起こり得る問題について議論しています。</para>
    </sect2>

    <sect2>
      <title>他のドライブのスライスの作成</title>

      <para>二つ以上ドライブがある場合、
	ブートマネージャを選択した後、ドライブ選択画面に戻ります。
	&os; を二つ以上のディスクにインストールしたいのなら、
	他のディスクを選択し、<application>FDisk</application>
	を用いてスライス作成の作業を繰りかえしてください。</para>

      <important>
	<para>一番目以外のドライブに &os; をインストールするのであれば、
	  両方のドライブに &os;
	  のブートマネージャをインストールする必要があります。</para>
      </important>

      <figure xml:id="sysinstall-fdisk-drive2">
	<title>ドライブ選択の終了</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/fdisk-drive2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>Tab</keycap> キーを押して、
	最後に選択したドライブと
	&gui.ok; および &gui.cancel; の間を切りかえてください。</para>

      <para>&gui.ok; に移るために <keycap>Tab</keycap> キーを一度押し、
	それからインストールを続けるために
	<keycap>Enter</keycap> キーを押してください。</para>
    </sect2>

    <sect2 xml:id="bsdlabeleditor">
      <title><application>disklabel</application> でパーティション作成</title>

      <para>次に、作成したばかりのスライス内にパーティションをいくつか作成してください。
	それぞれのパーティションには
	<literal>a</literal> から <literal>h</literal> までの文字がつけられ、
	<literal>b</literal>, <literal>c</literal> そして
	<literal>d</literal>
	パーティションは守るべき慣習的な意味を持っています。</para>

      <para>特定のアプリケーションは、特別のパーティション構成
	(特に二つ以上のディスクにわたってパーティションを構成している場合)
	から利益を得ることができます。
	しかしながら、はじめて &os; をインストールする場合、
	ディスクをどのようにパーティションに区切るか、
	ということをあまり大げさに考えることはありません。
	&os; をインストールして使い方を学びはじめることの方がより重要です。
	オペレーティングシステムにより詳しくなった後、
	いつでも &os; を再インストールすることで、
	パーティション構成を変更できます。</para>

      <para>以下は四つのパーティション : 一つはスワップ領域、
	三つのファイルシステム、の構成です。</para>

      <table frame="none" pgwide="1">
	<title>一つ目のディスクのパーティションレイアウト</title>

	<tgroup cols="4">
	  <colspec colwidth="1*"/>
	  <colspec colwidth="1*"/>
	  <colspec colwidth="1*"/>
	  <colspec colwidth="4*"/>

	  <thead>
	    <row>
	      <entry>パーティション</entry>

	      <entry>ファイルシステム</entry>

	      <entry>サイズ</entry>

	      <entry>説明</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><literal>a</literal></entry>

	      <entry><filename>/</filename></entry>

	      <entry>1&nbsp;GB</entry>

	      <entry>これはルートファイルシステムです。
		他のファイルシステムはすべてこの下のどこかにマウントされるでしょう。
		ユーザのファイルはここに格納されず、また、
		通常の &os; インストールでは、
		ここに配置するデータは約 128&nbsp;MB なので、
		1&nbsp;GB はこのファイルシステムに手ごろなサイズです。</entry>
	    </row>

	    <row>
	      <entry><literal>b</literal></entry>

	      <entry>なし</entry>

	      <entry>メモリの 2-3 倍</entry>

	      <entry><para><literal>b</literal> パーティションには、
		  システムのスワップ領域が保持されています。
		  スワップ領域の正しい容量を決めることは、
		  ちょっとした芸術かもしれません。
		  確実な経験則は、物理的なメモリ (RAM) の
		  2-3 倍のサイズのスワップ領域とするように、としています。
		  また、最低 64&nbsp;MB のスワップを確保するといいでしょう。
		  したがって、コンピュータが
		  32&nbsp;MB 未満のメモリを搭載している時は、
		  スワップ領域を 64&nbsp;MB にしてください。
		  二つ以上のディスクがあるときには、
		  それぞれのディスクにスワップを置くことができます。
		  &os; はそれぞれのディスクをスワップに用い、
		  スワップ動作を効果的に高速化させるでしょう。
		  この場合、必要とするスワップサイズの合計を計算し、
		  それぞれのディスクに置くスワップサイズを求めるために、
		  ディスク数で割ってください。</para>
	      </entry>
	    </row>

	    <row>
	      <entry><literal>e</literal></entry>

	      <entry><filename>/var</filename></entry>

	      <entry>512&nbsp;MB 〜 4096&nbsp;MB</entry>

	      <entry><filename>/var</filename>
		には、ログファイルやその他の管理ファイルといった、
		絶えず変化するファイルが保存されています。
		これらのファイルの多くは
		&os; の毎日の動作の間に広範囲にわたって読みこまれ、
		書きこまれます。 (訳注: <filename>/</filename>とは)
		別のファイルシステムにこれらのファイルを置くことは、
		異なったアクセス頻度のディレクトリ内にある他のファイルに影響を与えずに、
		&os; がこれらのファイルへのアクセスを最適化することを可能とします。</entry>
	    </row>

	    <row>
	      <entry><literal>f</literal></entry>

	      <entry><filename>/usr</filename></entry>

	      <entry>ディスクの残り (少なくとも 8&nbsp;GB)</entry>

	      <entry>他のすべてのファイルは、主に
		<filename>/usr</filename>
		およびそのサブディレクトリ内に保存されます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <warning>
	<para>上記のサイズの値は、例として載せたものです。
	  経験のあるユーザのみが使ってください。
	  &os; パーティションエディタの <literal>Auto
	  Defaults</literal>
	  で選択できる自動パーティションレイアウトが推奨されています。</para>
      </warning>

      <para>二つ以上のディスクに &os; をインストールしようとしているのなら、
	設定した他のスライスにもパーティションを作成しないといけません。
	最も簡単な方法は、
	それぞれのディスクに二つのパーティションを作成することです。
	一つはスワップ領域、
	そして一つはファイルシステムのためのパーティションです。</para>

      <table frame="none" pgwide="1">
	<title>残りのディスクのパーティション構成</title>

	<tgroup cols="4">
	  <colspec colwidth="1*"/>
	  <colspec colwidth="1*"/>
	  <colspec colwidth="2*"/>
	  <colspec colwidth="3*"/>

	  <thead>
	    <row>
	      <entry>パーティション</entry>

	      <entry>ファイルシステム</entry>

	      <entry>サイズ</entry>

	      <entry>説明</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry><literal>b</literal></entry>

	      <entry>なし</entry>

	      <entry>説明を参照</entry>

	      <entry>スワップ領域をそれぞれのディスクにわたって分割できます。
		たとえ <literal>a</literal> パーティションが
		(訳注: そのスライスに) ないとしても、
		慣習により、スワップ領域は
		<literal>b</literal> パーティションとなります。</entry>
	    </row>

	    <row>
	      <entry><literal>e</literal></entry>

	      <entry>/disk<replaceable>n</replaceable></entry>

	      <entry>ディスクの残り</entry>

	      <entry>ディスクの残りは一つの大きなパーティションとなります。
		これは <literal>e</literal> パーティションの代わりに、
		<literal>a</literal>
		パーティション上へ簡単に置くことができるかもしれません。
		しかしながら慣習により、スライス上の <literal>a</literal>
		パーティションはルート
		(<filename>/</filename>)
		ファイルシステムとなるファイルシステムのために予約されています。
		この慣習にしたがう必要はありませんが
		&man.sysinstall.8; はこのように設定します。
		したがってこの慣習に従うことで,
		インストールが少しだけわかりやすくなります。
		このファイルシステムをマウントする場所はどこにでも選択できます。
		この例では、これらを
		<filename>/diskn</filename>
		としてマウントするよう提案しています。
		ここで <replaceable>n</replaceable>
		はそれぞれのディスクごとに変更する数字です。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para>パーティション構成を決めたら、
	&man.sysinstall.8;  を用いて作成してください。</para>

      <screen>                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition(s) just created. If you have a reasonable amount of disk
 space (1GB or more) and don't have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don't care for the layout chosen by
 (A)uto, press F1 for more information on manual layout.

                                [  OK  ]
                          [ Press enter or space ]</screen>

      <para><application>Disklabel</application> と呼ばれる
	&os; パーティションエディタを使うために、
	<keycap>Enter</keycap> キーを押してください。</para>

      <para><xref linkend="sysinstall-label"/> は
	<application>Disklabel</application>
	を起動したときの画面表示です。
	この画面は三つのセクションに分かれています。</para>

      <para>はじめの数行は現在作業しているディスクの名前、
	そして作成しようとしているパーティションを含むスライスを表示します
	この時点で <application>Disklabel</application>
	はスライスのことをスライス名ではなく<literal>パーティション名</literal>と呼びます 。
	この画面はスライス内の空き領域の合計も表示しています。
	この空き領域はスライス内に存在していて、
	しかしまだパーティションに割り当てられていない領域です。</para>

      <para>画面の中段は作成したパーティションを表示しています。
	それぞれのパーティションが含むファイルシステムの名前、サイズ、
	ファイルシステム作成にまつわるいくつかのオプションが表示されます。</para>

      <para>画面の下段にある三つ目のセクションは
	<application>disklabel</application>
	で有効なキー操作を表示します。</para>

      <figure xml:id="sysinstall-label">
	<title>sysinstall ディスクラベルエディタ</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-ed1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><application>Disklabel</application>
	は自動的にパーティションを作成し、
	デフォルトのサイズを割りあてます。
	デフォルトのサイズは、
	ディスクのサイズからパーティションサイズを決めるアルゴリズムによって計算されます。
	<keycap>A</keycap> キーを押すと、
	<xref linkend="sysinstall-label2"/> とよく似た画面が表示されます。
	デフォルトのサイズは使用しているディスクのサイズに依存するので、
	希望するサイズになることもあるし、ならないこともあるでしょう。</para>

	<note>
	  <para>デフォルトのパーティション構成では、
	    <filename>/tmp</filename> に対して、
	    <filename>/</filename>
	    パーティションの一部ではなく、
	    それ自身のパーティションを割り当てます。
	    このことは、一時ファイルによって
	    <filename>/</filename>
	    パーティションがあふれてしまうことを防ぐのに役立ちます。</para>
	</note>

      <figure xml:id="sysinstall-label2">
	<title>デフォルトの自動割り当てによる sysinstall ディスクラベルエディタ</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-auto"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>デフォルトのパーティションを変更するには、
	方向キーを用いて一番目のパーティションを選択し、
	<keycap>D</keycap> キーを押して削除してください。
	この作業を繰り返して、
	提案されたすべてのパーティションを削除してください。</para>

      <para>一番目のパーティション (<filename>/</filename>
	としてマウントされる <literal>a</literal>) を作成するには、
	画面の先頭の適切なディスクスライスが選択されていることを確認して、
	<keycap>C</keycap> キーを押してください。
	<xref linkend="sysinstall-label-add"/> に示されるような、
	新しいパーティションのサイズの入力をうながすダイアログが現れます。
	使用したいサイズをブロック数で入力するか、
	数字の後に <literal>M</literal> をつけてメガバイト単位 、
	<literal>G</literal> をつけてギガバイト単位 、
	<literal>C</literal>
	をつけてシリンダ単位で入力してください。</para>

      <figure xml:id="sysinstall-label-add">
	<title>ルートパーティションに割りあてる容量</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>(訳注: ダイアログに) 表示されるデフォルトのサイズは、
	スライスに残っているサイズのパーティションを作成するでしょう。
	上述したパーティションサイズを用いる場合は <keycap>Backspace</keycap>
	キーを用いて表示されている数字を削除し
	<xref linkend="sysinstall-label-add2"/> のように <userinput>512M</userinput>
	と入力してください。そして &gui.ok; を押してください。</para>

      <figure xml:id="sysinstall-label-add2">
	<title>ルートパーティションサイズの編集</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>パーティションのサイズを入力すると、
	次にインストーラは、このパーティションがファイルシステムなのか、
	それともスワップ領域なのかを聞いてきます。
	<xref linkend="sysinstall-label-type"/>
	のようにダイアログが表示されます。
	この一番目のパーティションにはファイルシステムが含まれるので、
	<guimenuitem>FS</guimenuitem> を選択し、
	<keycap>Enter</keycap> キーを押します。</para>

      <figure xml:id="sysinstall-label-type">
	<title>ルートパーティションタイプの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-fs"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>最後に <application>Disklabel</application> に対して、
	このファイルシステムがどこにマウントされるか教えなければなりません。
	<xref linkend="sysinstall-label-mount"/>
	のようなダイアログが表示されます。
	<userinput>/</userinput> と入力し
	<keycap>Enter</keycap> キーを押してください。</para>

      <figure xml:id="sysinstall-label-mount">
	<title>ルートのマウントポイント選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-root3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>画面は更新されて、
	新しく作成したパーティションが表示されます。
	この作業を繰りかえして、
	他のパーティションを作成してください。
	スワップパーティションを作成したときには、
	ファイルシステムのマウントポイントの入力は促されません。
	最後のパーティションの <filename>/usr</filename>
	を作成するときは、表示されたサイズをそのままにしておいて、
	スライスに残っているサイズを使用してください。</para>

      <para>最終的な &os; ディスクラベルエディタの画面は、
	選択された数値は異なっているかもしれませんが、
	<xref linkend="sysinstall-label4"/> のようになるでしょう。
	<keycap>Q</keycap> キーを押して終了します。</para>

      <figure xml:id="sysinstall-label4">
	<title>sysinstall ディスクラベルエディタ</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/disklabel-ed2"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>
  </sect1>

  <sect1 xml:id="install-choosing">
    <title>何をインストールするか選択する</title>

    <sect2 xml:id="distset">
      <title>ディストリビューションセットの選択</title>

      <para>インストールするディストリビューションセットを選択します。
	これは使おうとするシステムや利用可能なディスクの容量に依存します。
	最小構成のインストールから全てのインストールまでのオプションがあらかじめ用意されています。
	&unix; や &os; に慣れてない人はこれらのどちらかを選ぶべきです。
	ディストリビューションセットのカスタマイズは、主としてより経験を積んだユーザーのためにあります。</para>

      <para><keycap>F1</keycap> キーを押すとそのディストリビューションセットのオプションやそれらが何を含んでいるかというより詳しい情報が表示されます。
	ヘルプを見終わった後には、<keycap>Enter</keycap>
	キーを押してディストリビューションの選択メニューに戻ってください。</para>

      <para>グラフィカルユーザインタフェースを望む場合には、
	&os; のインストール後に
	<application>&xorg;</application>
	の設定とデフォルトデスクトップの選択を行ってください。
	<application>&xorg;</application>
	のインストールや設定に関する詳細な情報は
	<xref linkend="x11"/> にあります。</para>

      <para>カスタムカーネルをコンパイルする予定ならばソースコードを含むオプションを選択します。
	なぜカスタムカーネルを構築するのか、またカスタムカーネルの構築方法に関しては
	<xref linkend="kernelconfig"/> を参照してください。</para>

      <para>すべてを含むシステムが最も多くのことを行えます。
	十分なディスクスペースがあるならば、<xref linkend="distribution-set1"/>
	で示されるように <guimenuitem>All</guimenuitem> を矢印キーで選択し、
	<keycap>Enter</keycap> を押します。
	ディスクスペースに懸念があるならば、状況に合ったよりふさわしいオプションを選択します。
	インストール後にそのほかのディストリビューションを加えることができるので、
	完璧な選択をしようとして悩まないでください。</para>

      <figure xml:id="distribution-set1">
	<title>ディストリビューションの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/dist-set"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 xml:id="portscol">
      <title>Ports Collection のインストール</title>

      <para>お望みのディストリビューションを選ぶと、
	&os; Ports Collection をインストールするかどうかを尋ねてきます。
	Ports Collection とは、簡単にソフトウェアをインストールする方法です。
	サードパーティ製のソフトウェアパッケージのダウンロード、
	コンパイル、インストールを自動的に行うためのファイルの集まりです。
	<xref linkend="ports"/> で Ports Collection の使用方法が解説されています。</para>

      <para>インストールプログラムはディスクに十分な空き容量があるかどうかをチェックしませんので、
	十分な空き容量がある場合のみこのオプションを選択してください。
	&os; &rel.current; では、&os; Ports Collection は、約 &ports.size;
	のディスク容量を必要とします。
	より最新の &os; のバージョンでは、安全のためもう少し大きなサイズを想定してください。</para>

<screen>                         User Confirmation Requested
 FreeBSD Ports Collection をインストールしますか?

 これをインストールすることにより、&os.numports; 以上の移植ソフトウェアパッケー
 ジにアクセスすることができます。これは、「クリーンな」状態では約 &ports.size;
 のディスク容量を占めますが、配布されている tarball をダウンロードしていくと、更に
 大きな領域を占めることになります (ただし、FreeBSD の CD/DVD で配布されている
 extra disk を持っていて、それを /cdrom にマウントして使用する場合には、
 さほど問題にはならないでしょう) 。

 Ports Collection は、非常に有用な資源であり、/usr パーティションに置
 いておくだけの価値は十分にあります。この質問には Yes と答えるのが賢明で
 しょう。

 Ports Collection に関するさらに詳しい情報や、最新の Ports に関しては、
 以下の場所を参照してください。
     http://www.FreeBSD.org/ports

                              [ Yes ]     No</screen>

      <para>Ports Collection をインストールするなら &gui.yes;
	を、このオプションを選択しないのであれば &gui.no;
	を矢印キーで選んでください。
	<keycap>Enter</keycap> キーを押して先に進みます。
	ディストリビューションの選択メニューが再度表示されます。</para>

      <figure xml:id="distribution-set2">
	<title>ディストリビューションの確認</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/dist-set2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>オプションを選択したら矢印キーで <guimenuitem>Exit</guimenuitem>
	を選び、&gui.ok; がハイライトされていることを確認し、
	<keycap>Enter</keycap> を押して先に進んでください。</para>

    </sect2>
  </sect1>

  <sect1 xml:id="install-media">
    <title>インストールメディアの選択</title>

    <para>CD または DVD からインストールする場合、矢印キーを使って
      <guimenuitem>Install from a FreeBSD CD/DVD</guimenuitem> を選んで下さい。
      &gui.ok; が選択されていることを確認して、
      <keycap>Enter</keycap> キーを押しインストールを開始してください。</para>

    <para>そのほかの方法でインストールする場合には、
      適切なオプションを選択しその後の指示に従ってください。</para>

    <para><keycap>F1</keycap> キーを押すとインストールメディアに関するオンラインヘルプが表示されます。
      メディア選択メニューに戻るには <keycap>Enter</keycap> キーを押してください。</para>

    <figure xml:id="choose-media">
      <title>インストールメディアの選択</title>

      <mediaobject>
	<imageobject>
	  <imagedata fileref="install/media"/>
	</imageobject>
      </mediaobject>
    </figure>

    <note>
      <title>FTP インストールモード</title>

      <indexterm>
	<primary>インストール</primary>
	<secondary>ネットワーク</secondary>
	<tertiary>FTP</tertiary>
      </indexterm>

      <para>FTP 経由のインストールを行う場合、active FTP, passive FTP,
	HTTP proxy 経由の三種類の FTP
	インストールモードから選択することになります。</para>

      <variablelist>
	<varlistentry>
	  <term>FTP Active: <guimenuitem>Install from an FTP
	      server</guimenuitem></term>

	  <listitem>
	    <para>すべての FTP 転送の際に <quote>Active</quote>
	      モードを使用します。
	      ファイアウォール内部のマシンではうまく動きませんが、
	      多くの場合 passive モードに対応していないような古い
	      FTP サーバでも動作します。
	      passive モードでの FTP 転送 (こちらがデフォルトです)
	      に失敗した場合には、active モードで確かめましょう!</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>FTP Passive: <guimenuitem>Install from an FTP server through a
	      firewall</guimenuitem></term>

	  <listitem>
	    <para>このオプションでは、
	      &man.sysinstall.8; は、すべての FTP 転送の際に
	      passive モード<indexterm>
		<primary>FTP</primary>
		<secondary>Passive モード</secondary>
	      </indexterm>を使用します。
	      このモードを使用すると、
	      ランダム TCP ポートによる外部からの接続を許可していないファイアウォールを越えることができるようになります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>HTTP proxy 経由の FTP:
	    <guimenuitem>Install from an FTP server
	      through a http proxy</guimenuitem></term>

	  <listitem>
	    <para>この方法では、&man.sysinstall.8; は、HTTP
	      プロトコルを使って proxy サーバに接続し、FTP の操作を実現します。
	      proxy サーバは FTP 要求を (訳注: HTTP から FTP に) 変換して
	      FTP サーバに送るため、ファイアウォールが FTP
	      接続を禁止していても、HTTP proxy サーバ<indexterm>
		<primary>FTP</primary>
		<secondary>HTTP proxy 経由</secondary>
	      </indexterm>が提供されていれば
	      ファイアウォールを超えた FTP 接続を行なうことが可能です。
	      この方法を用いる場合には、FTP サーバの他に proxy
	      サーバを指定する必要があります。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>proxy FTP サーバに対しては、ユーザ名の一部として
	実際に接続したいサーバの名前を <quote>@</quote>
	記号に続けて与える必要があります。
	そうすると proxy サーバは本当のサーバの<quote>ふり</quote>
	をするようになります。
	たとえば、1234 ポートで要求を待つ proxy FTP サーバ
	<systemitem class="fqdomainname">foo.example.com</systemitem> を使って、
	<systemitem class="fqdomainname">ftp.FreeBSD.org</systemitem>
	をインストールするには、
	オプションメニューで
	FTP ユーザ名に <literal>ftp@ftp.FreeBSD.org</literal> を、
	パスワードとしてあなたのメールアドレスを設定します。
	そして、インストールメディアに FTP (proxy サーバが対応しているならば
	passive FTP)、URL として
	<literal>ftp://foo.example.com:1234/pub/FreeBSD</literal>
	を指定します。</para>

      <para><systemitem class="fqdomainname">ftp.FreeBSD.org</systemitem> の
	<filename>/pub/FreeBSD</filename> は
	<systemitem class="fqdomainname">foo.example.com</systemitem>
	が代理で処理をおこなうことになるので、
	インストール時の要求に応じて
	<systemitem class="fqdomainname">ftp.FreeBSD.org</systemitem>
	からファイルを取り寄せます。</para>
    </note>
  </sect1>

  <sect1 xml:id="install-final-warning">
    <title>インストール操作の確定</title>

    <para>これで良いと思ったら、ここでインストールを進めることができます。
      インストールするためにおこなうハードディスクに対する変更をやめるなら、
      ここが最後のチャンスでもあります。</para>

    <screen>                       User Confirmation Requested
 Last Chance! Are you SURE you want to continue the installation?

 If you're running this on a disk with data you wish to save then WE
 STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

 We can take no responsibility for lost disk contents!

                             [ Yes ]    No</screen>

    <para>&gui.yes; を選択して
      <keycap>Enter</keycap> キーを押すことでインストールは進みます。</para>

    <para>インストールにかかる時間は、どのディストリビューションを選んだか、
      どのインストールメディアを使ったか、
      そしてコンピュータの速度にも依存します。
      インストール状況に従って、メッセージが逐次表示されます。</para>

    <para>次のメッセージが表示されればインストールは終わりです。</para>

    <screen>                               Message

Congratulations! You now have FreeBSD installed on your system.

We will now move on to the final configuration questions.
For any option you do not wish to configure, simply select No.

If you wish to re-enter this utility after the system is up, you may
do so by typing: /usr/sbin/sysinstall.

                                 [ OK ]

                      [  Press enter or space  ]</screen>

    <para><keycap>Enter</keycap> キーを押せばインストール後の設定画面に
      移ることができます。</para>

    <para>&gui.no; を選択して
      <keycap>Enter</keycap> キーを押すと、インストールを中断して
      システムには何の変更もおこないません。
      そのときには次のメッセージが表示されます。</para>

    <screen>                                Message
Installation complete with some errors.  You may wish to scroll
through the debugging messages on VTY1 with the scroll-lock feature.
You can also choose "No" at the next prompt and go back into the
installation menus to retry whichever operations have failed.

                                 [ OK ]</screen>

    <para>何もインストールされなかったため、このメッセージが表示されています。
      <keycap>Enter</keycap> キーを押しますと、
      インストーラを終了するためにメインメニューに戻ります。</para>
  </sect1>

  <sect1 xml:id="install-post">
    <title>インストール後の作業</title>

    <para>インストール完了後に数々のオプション設定を行います。
      オプションは、インストールした &os; を起動する前に configuration
      の項目に入りなおすか、再起動後に
      &man.sysinstall.8;
      の中にある <guimenuitem>Configure</guimenuitem>
      の項目で設定することができます。</para>

    <sect2 xml:id="inst-network-dev">
      <title>ネットワークデバイスの設定</title>

      <para>もし、FTP インストールのために PPP を設定したのならば、
	この画面は表示されず、前項で述べたように後から設定できます。</para>

      <para>LAN の詳細情報と、&os; のゲートウェイ・ルータの設定については
	<link linkend="advanced-networking">高度なネットワーク</link>
	の章を参照してください。</para>

      <screen>                      User Confirmation Requested
   Would you like to configure any Ethernet or PPP network devices?

      (訳：イーサネットや SLIP/PPP ネットワークデバイスを設定したいですか？)

                             [ Yes ]   No</screen>

      <para>ネットワークデバイスを設定するには &gui.yes;
	を選び、<keycap>Enter</keycap> キーを押します。
	設定しないのであれば、&gui.no; を選びます。</para>

      <figure xml:id="ed-config1">
	<title>イーサネットデバイスを選ぶ</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/ed0-conf"/>
	  </imageobject>
	</mediaobject>
      </figure>


      <para>設定したいインタフェースを矢印キーで選び、<keycap>Enter</keycap>
	キーを押します。</para>

      <screen>                      User Confirmation Requested
       Do you want to try IPv6 configuration of the interface?

      (訳：このインタフェース上で IPv6 の設定を行ないたいですか？)

                              Yes   [ No ]</screen>

      <para>プライベートな LAN において、現行のインターネットプロトコル
	(<acronym>IPv4</acronym>)
	で十分なのであれば、矢印キーで &gui.no; を選び
	<keycap>Enter</keycap> を押してください。</para>

      <para><acronym>RA</acronym> サーバと
	<acronym>IPv6</acronym> ネットワークで接続しているのであれば、
	&gui.yes; を選んで <keycap>Enter</keycap> を押してください。
	すると、数秒間 RA サーバを検索します。</para>

      <screen>                             User Confirmation Requested
        Do you want to try DHCP configuration of the interface?

      (訳：このインタフェース上で DHCP 設定を行ないたいですか？)

                              Yes   [ No ]</screen>

      <para>もし、Dynamic Host Configuration Protocol (<acronym>DHCP</acronym>)
	が必要なければ、矢印で &gui.no; を選び <keycap>Enter</keycap>
	を押してください。</para>

      <para>&gui.yes; を選んだ場合、
	&man.dhclient.8; を実行します。設定が成功すると、
	ネットワーク設定情報が自動補完されます。 詳細については
	<xref linkend="network-dhcp"/> を参照してください。</para>

      <para>次のネットワーク設定画面では、LAN
	用ゲートウェイシステムのイーサネットデバイス構成が表示されます。</para>

      <figure xml:id="ed-config2">
	<title><replaceable>ed0</replaceable> ネットワークの設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/ed0-conf2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>Tab</keycap> をつかって項目を選び、
	適切な情報を入力してください。</para>

      <variablelist>
	<varlistentry>
	  <term>Host</term>

	  <listitem>
	    <para>完全修飾されたホスト名。この例では、<systemitem class="fqdomainname">k6-2.example.com</systemitem>。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Domain</term>

	  <listitem>
	    <para>コンピュータのドメイン名。この例では <systemitem class="fqdomainname">example.com</systemitem>。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>IPv4 Gateway</term>

	  <listitem>
	    <para>ローカル以外のホストへパケットを送る際に使う IP アドレスです。
	      もしコンピュータがネットワーク上にいる場合は入力する必要があります。
	      このコンピュータがネットワークのインターネットゲートウェイである場合には
	      <emphasis>この項目は空白のまま</emphasis>にします。
	      IPv4 ゲートウェイはデフォルトゲートウェイまたはデフォルトルートとも呼ばれます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Name server</term>

	  <listitem>
	    <para>ローカル DNS サーバの IP アドレスを指定します。
	      ローカル DNS サーバがプライベート LAN 上にないので、
	      プロバイダの DNS サーバ (<systemitem class="ipaddress">208.163.10.2</systemitem>)
	      を指定しました。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>IPv4 address</term>

	  <listitem>
	    <para>このインタフェースで使う IP アドレスは
	      <systemitem class="ipaddress">192.168.0.1</systemitem>。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Netmask</term>

	  <listitem>
	    <para>この例では、LAN で使うアドレスブロックは、
	      <systemitem class="ipaddress">192.168.0.0</systemitem> -
	      <systemitem class="ipaddress">192.168.0.255</systemitem>
	      です。
	      ネットマスクは
	      (<systemitem class="netmask">255.255.255.0</systemitem>) です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Extra options to &man.ifconfig.8;</term>

	  <listitem>
	    <para>&man.ifconfig.8; への追加のオプションを入力してください。
	      今回はありませんでした。</para>
	  </listitem>
	</varlistentry>

      </variablelist>

      <para>終了するときは、<keycap>Tab</keycap> キーを使って &gui.ok; を選び、
	<keycap>Enter</keycap> を押します。</para>


      <screen>                      User Confirmation Requested
        Would you like to bring the ed0 interface up right now?

      (訳：このインタフェースへの設定を今すぐ有効にしますか？)

                             [ Yes ]   No</screen>

      <para>&gui.yes; を選んで <keycap>Enter</keycap>
	を押すと、ネットワークへの設定を行い、利用可能な状態にします。
	しかしながら、コンピュータをまだ再起動する必要があるので、
	インストールの間には、多くのことは出来ません。</para>
    </sect2>

    <sect2 xml:id="gateway">
      <title>ゲートウェイの設定</title>

      <screen>                       User Confirmation Requested
       Do you want this machine to function as a network gateway?

      (訳：このマシンにネットワークゲートウェイ機能を搭載しますか？)

                              [ Yes ]    No</screen>

      <para>もし、マシンが LAN のゲートウエイであり、他マシン間の
	パケットを転送している場合は、&gui.yes; を選んで
	<keycap>Enter</keycap> を押します。
	もし、マシンがネットワーク上のノードである場合、&gui.no; を選び
	<keycap>Enter</keycap> を押して先に進んでください。</para>
    </sect2>

    <sect2 xml:id="inetd-services">
      <title>インターネットサービスの設定</title>

      <screen>                      User Confirmation Requested
Do you want to configure inetd and the network services that it provides?

      (訳：inetd 及び提供するネットワークサービスの設定を行いますか？)

                               Yes   [ No ]</screen>

      <para>もし &gui.no; を選んだ場合には、さまざまなサービスは有効になりません。
	これらのサービスは、インストール後に <filename>/etc/inetd.conf</filename>
	をテキストエディタで編集することで有効になります。
	詳しくは inetd の章 <!-- <xref linkend="network-inetd-overview"/> --> を見てください。</para>

      <para>これらのサービスを利用したいと考えているならば，
	&gui.yes; を選びインストールしてください。
	追加の確認事項が表示されるでしょう。</para>

      <screen>                      User Confirmation Requested
The Internet Super Server (inetd) allows a number of simple Internet
services to be enabled, including finger, ftp and telnetd.  Enabling
these services may increase risk of security problems by increasing
the exposure of your system.

      (訳：inetd は finger，ftp，telnet を含む数多くのインターネットサービスを
      許可します。この機能を有効にするとシステムへのアクセスの増加による
      セキュリティ上のリスクが増加することがあります。)

With this in mind, do you wish to enable inetd?

                             [ Yes ]   No</screen>

      <para>&gui.yes; を選んで続けます。</para>

      <screen>                      User Confirmation Requested
inetd(8) relies on its configuration file, /etc/inetd.conf, to determine
which of its Internet services will be available.  The default FreeBSD
inetd.conf(5) leaves all services disabled by default, so they must be
specifically enabled in the configuration file before they will
function, even once inetd(8) is enabled.  Note that services for
IPv6 must be separately enabled from IPv4 services.

Select [Yes] now to invoke an editor on /etc/inetd.conf, or [No] to
use the current settings.

      (訳：inetd(8) が利用可能にするインターネットサービスの種類については
	   設定ファイル (/etc/inetd.conf) に依存します。FreeBSD に付属する
	   inetd.conf(5) の初期設定は、すべてのサービスが無効になっています。
	   従って、inetd(8) を一度有効にした後に設定ファイルの中で
	   必要なサービスを有効にする必要があります。なお、IPv4 サービス側から
	   IPv6 のサービスを個別に設定する必要があることに注意してください。

	   [Yes] を選ぶと /etc/inetd.conf をエディタで編集できます。
	   [No] を選ぶと、現在の設定をつかいます。)

                             [ Yes ]   No</screen>

      <para>&gui.yes; を選ぶと、
	対応するサービスの先頭行にある
	<literal>#</literal> を削除することで、サービスを有効にできます。</para>

      <figure xml:id="inetd-edit">
	<title><filename>inetd.conf</filename> の編集</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/edit-inetd-conf"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>変更が終わったら、<keycap>Esc</keycap> を押し、
	表示されるメニューでエディタを終了し、変更点を保存してください。</para>

    </sect2>

    <sect2 xml:id="ssh-login">
      <title>SSH ログインを有効にする</title>

      <indexterm>
	<primary>SSH</primary>
	<secondary>sshd</secondary>
      </indexterm>

      <screen>                      User Confirmation Requested
                  Would you like to enable SSH login?
                           Yes        [  No  ]</screen>

      <para>&gui.yes; を選択すると、<application>OpenSSH</application>
	のデーモンである &man.sshd.8; が有効になります。
	これは、コンピュータへの安全なリモートアクセスを許可します。
	<application>OpenSSH</application> のより詳しい情報については、
	<xref linkend="openssh"/> をご覧ください。</para>
    </sect2>

    <sect2 xml:id="ftpanon">
      <title>Anonymous FTP</title>

      <indexterm>
	<primary>FTP</primary>
	<secondary>anonymous</secondary>
      </indexterm>

      <screen>                      User Confirmation Requested
 Do you want to have anonymous FTP access to this machine?

                              Yes    [ No ]</screen>

      <sect3 xml:id="deny-anon">
	<title>Anonymous FTP を許可しない</title>

	<para>デフォルトの &gui.no; を選択して
	  <keycap>Enter</keycap> を押してください。
	  アカウントを持ったユーザは、パスワードを使い FTP
	  でコンピュータにアクセスできます。</para>
      </sect3>

      <sect3 xml:id="ftpallow">
	<title>Anonymous FTP を許可する</title>

	<para>anonymous FTP の接続を許可すると、
	  誰でもコンピュータにアクセスできるようになります。
	  このオプションを有効にする前に、
	  セキュリティ上の問題点を検討してください。
	  セキュリティに関する詳細については、
	  <xref linkend="security"/> をご覧ください。</para>

	<para>anonymous FTP を有効にするには、矢印キーを使って
	  &gui.yes; を選択し、<keycap>Enter</keycap>
	  を押してください。以下のような確認事項が表示されるでしょう。</para>

	<screen>                       User Confirmation Requested
 Anonymous FTP permits un-authenticated users to connect to the system
 FTP server, if FTP service is enabled.  Anonymous users are
 restricted to a specific subset of the file system, and the default
 configuration provides a drop-box incoming directory to which uploads
 are permitted.  You must separately enable both inetd(8), and enable
 ftpd(8) in inetd.conf(5) for FTP services to be available.  If you
 did not do so earlier, you will have the opportunity to enable inetd(8)
 again later.

 If you want the server to be read-only you should leave the upload
 directory option empty and add the -r command-line option to ftpd(8)
 in inetd.conf(5)

 Do you wish to continue configuring anonymous FTP?

                          [ Yes ]         No</screen>

	<para>このメッセージは、anonymous FTP 接続を許可するのであれば、
	  <filename>/etc/inetd.conf</filename>
	  においても FTP サービスを有効にする必要があることを示しています。
	  &gui.yes; を選び <keycap>Enter</keycap> を押して先に進んでください。
	  以下の画面が表示されます。</para>

	<figure xml:id="anon-ftp2">
	  <title>Anonymous FTP のデフォルトの設定</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/ftp-anon1"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para><keycap>Tab</keycap> を使って項目を選び、
	  適切な情報で埋めてください。</para>

	<variablelist>
	  <varlistentry>
	    <term>UID</term>

	    <listitem>
	      <para>anonymous FTP ユーザに対して割り当てられるユーザ ID。
		アップロードされるすべてのファイルの所有者はこの ID となります。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>Group</term>

	    <listitem>
	      <para>anonymous FTP ユーザが所属するグループ</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>Comment</term>

	    <listitem>
	      <para><filename>/etc/passwd</filename>
		内のユーザ情報を表す文字列</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>FTP Root Directory</term>

	    <listitem>
	      <para>anonymous FTP で利用可能なファイルの置き場</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>Upload Subdirectory</term>

	    <listitem>
	      <para>anonymous FTP ユーザによりアップロードされるファイルが置かれる場所</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para>デフォルトでは、FTP のルートディレクトリは <filename>/var</filename>
	  に設定されています。
	  FTP が必要とする十分な容量が用意されていない場合には、
	  かわりに FTP のルートディレクトリを
	  <filename>/usr/ftp</filename>
	  と設定し、
	  <filename>/usr</filename> を使ってください。</para>

	<para>十分な設定ができたら、
	  <keycap>Enter</keycap> を押して先に進んでください。</para>

	<screen>                          User Confirmation Requested
         Create a welcome message file for anonymous FTP users?

                              [ Yes ]    No</screen>

	<para>&gui.yes; を選択した場合には、
	  <keycap>Enter</keycap> を押すと、
	  メッセージ編集用のエディタが自動的に起動します。</para>

	<figure xml:id="anon-ftp4">
	  <title>FTP Welcome メッセージの編集</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/ftp-anon2"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>操作の説明に従ってメッセージを変更してください。
	  エディタの画面の下に表示されるファイルの名前、場所に注意してください。</para>

	<para><keycap>Esc</keycap> を押すと、ポップアップメニューが表示されます。
	  デフォルトは <guimenuitem>a) leave editor</guimenuitem> です。
	  <keycap>Enter</keycap> を押して終了し、先に進んでください。
	  変更を行った場合には、もう一度 <keycap>Enter</keycap>
	  を押して、変更点を保存してください。</para>
      </sect3>
    </sect2>

    <sect2 xml:id="nfsconf">
      <title>ネットワークファイルシステムの設定</title>

      <para>ネットワークファイルシステム (<acronym>NFS</acronym>) を用いると、
	ネットワークを介してファイルの共有を行うことができます。
	コンピュータをサーバ、クライアントまたは両方に設定できます。
	より詳しい情報については <xref linkend="network-nfs"/>
	を参照してください。</para>

      <sect3 xml:id="nsf-server-options">
	<title>NFS サーバ</title>

	<screen>                       User Confirmation Requested
 Do you want to configure this machine as an NFS server?

                              Yes    [ No ]</screen>

	<para><acronym>NFS</acronym> の機能を必要としないのであれば、
	  &gui.no; を選択し
	  <keycap>Enter</keycap> を押してください。</para>

	<para>&gui.yes; を選んだ場合には、
	  <filename>/etc/exports</filename>
	  を作成する必要があることを示すメッセージが表示されます。</para>

	<screen>                               Message
Operating as an NFS server means that you must first configure an
/etc/exports file to indicate which hosts are allowed certain kinds of
access to your local filesystems.
Press [Enter] now to invoke an editor on /etc/exports
                               [ OK ]</screen>

	<para><keycap>Enter</keycap> を押して先に進んでください。
	  <filename>/etc/exports</filename>
	  を編集するためにテキストエディタが立ち上がります。</para>

	<figure xml:id="nfs-server-edit">
	  <title><filename>exports</filename> ファイルの編集</title>

	  <mediaobject>
	    <imageobject>
	      <imagedata fileref="install/nfs-server-edit"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para>説明に従い、共有されるファイルシステムを追加してください。
	  エディタのスクリーンの下に表示されているファイル名の場所の情報に注意してください。</para>

	<para><keycap>Esc</keycap> を押すとポップアップメニューが表示されます。
	  デフォルトは <guimenuitem>a) leave editor</guimenuitem> です。
	  <keycap>Enter</keycap> を押して終了し、先に進んでください。</para>
      </sect3>

      <sect3 xml:id="nfs-client-options">
	<title><acronym>NFS</acronym> クライアント</title>

	<para>利用しているコンピュータが <acronym>NFS</acronym>
	  クライアントによって
	  <acronym>NFS</acronym> サーバにアクセスできるようになります。</para>

	<screen>                       User Confirmation Requested
 Do you want to configure this machine as an NFS client?

                              Yes   [ No ]</screen>

	<para>矢印キーを使って、適切に &gui.yes; または
	  &gui.no; を選択してください。</para>
      </sect3>
    </sect2>

    <sect2 xml:id="console">
      <title>システムコンソールの設定</title>

      <para>システムコンソールをカスタマイズするオプションがあります。</para>

      <screen>                      User Confirmation Requested
       Would you like to customize your system console settings?

                              [ Yes ]  No</screen>

      <para>&gui.yes; を選択し、<keycap>Enter</keycap>
	を押してオプションの確認および設定をしてください。</para>

      <figure xml:id="saver-options">
	<title>システムコンソール設定オプション</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>良く使われるオプションはスクリーンセーバです。
	矢印キーを使って <guimenuitem>Saver</guimenuitem> を選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="saver-select">
	<title>スクリーンセーバオプション</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、お望みのスクリーンセーバを選択し、
	<keycap>Enter</keycap> を押してください。
	システムコンソールの設定メニューが再び表示されます。</para>

      <para>デフォルトの時間の間隔は 300 秒です。
	時間の間隔を変更する場合には、
	もう一度 <guimenuitem>Saver</guimenuitem> を選択してください。
	スクリーンセーバのオプションメニューにて、
	矢印キーで <guimenuitem>Timeout</guimenuitem> を選択して
	<keycap>Enter</keycap> を押してください。
	ポップアップメニューが表示されます。</para>

      <figure xml:id="saver-timeout">
	<title>スクリーンセーバのタイムアウト</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>値を変更したら &gui.ok; を選択し、
	<keycap>Enter</keycap> を押して、
	システムコンソールの設定メニューに戻ってください。</para>

      <figure xml:id="saver-exit">
	<title>システムコンソールの設定の終了</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/console-saver4"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><guimenuitem>Exit</guimenuitem> を選択し、<keycap>Enter</keycap>
	を押して、インストール後の設定を続けてください。</para>
    </sect2>

    <sect2 xml:id="timezone">
      <title>タイムゾーンの設定</title>

      <para>使用しているコンピュータのタイムゾーンを設定することで、
	地域による時刻の違いが自動的に調整され、
	タイムゾーンに関連した機能が適切に取り扱われます。</para>

      <para>ここでの例では、コンピュータが United States の
	Eastern タイムゾーンにあるとしています。
	実際の地理的位置を選択してください。</para>

      <screen>                      User Confirmation Requested
          Would you like to set this machine's time zone now?

                            [ Yes ]   No</screen>

      <para>&gui.yes; を選択し
	<keycap>Enter</keycap> を押して、タイムゾーンを設定してください。</para>

      <screen>                       User Confirmation Requested
 Is this machine's CMOS clock set to UTC? If it is set to local time
 or you don't know, please choose NO here!

                              Yes   [ No ]</screen>

      <para>コンピュータのクロックがどのように設定されているかに従って、
	&gui.yes; または &gui.no;
	を選択し、<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="set-timezone-region">
	<title>地域の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、適切な地域を選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="set-timezone-country">
	<title>国名の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って、適切に国名を選び、
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="set-timezone-locality">
	<title>タイムゾーンの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/timezone3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーを使って適切なタイムゾーンを選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <screen>                            Confirmation
            Does the abbreviation 'EDT' look reasonable?

                            [ Yes ]   No</screen>

      <para>タイムゾーンの短縮形が適切かどうかを確認をしてください。
	問題なければ <keycap>Enter</keycap> を押して、インストール後の設定を続けてください。</para>
    </sect2>

    <sect2 xml:id="mouse">
      <title>マウスの設定</title>

      <para>このオプションを設定することで、
	コンソールやユーザプログラムにおいて
	3-ボタンマウスによるテキストのカットアンドペーストが可能になります。
	2-ボタンマウスを使っている場合には、
	3-ボタンのエミュレートについて &man.moused.8; を参照してください。
	ここでは、非 USB マウスの設定を例に説明します。</para>

      <screen>                      User Confirmation Requested
         Does this system have a PS/2, serial, or bus mouse?

                            [ Yes ]    No </screen>

      <para>PS/2、シリアルまたはバスマウスを使っている場合には
	&gui.yes; を選択してください。
	USB マウスを利用する場合には、&gui.no; を選択し
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="mouse-protocol">
	<title>マウスプロトコルのタイプの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーで <guimenuitem>Type</guimenuitem> を選択し、
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="set-mouse-protocol">
	<title>マウスプロトコルの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>この例では PS/2 マウスを使うので、デフォルトの
	<guimenuitem>Auto</guimenuitem> が適切です。
	マウスのプロトコルを変更するには、
	矢印キーを使って他のプロトコルを選択してください。
	&gui.ok; がハイライトされていることを確認し、
	<keycap>Enter</keycap> を押してこのメニューを終了してください。</para>

      <figure xml:id="config-mouse-port">
	<title>マウスポートの設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーで <guimenuitem>Port</guimenuitem> を選択して
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="set-mouse-port">
	<title>マウスポート の設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse4"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>このシステムでは PS/2 マウスを使っているので、デフォルトの
	<guimenuitem>PS/2</guimenuitem> が適切です。
	ポートを変更する場合には、矢印キーで選択して
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="test-daemon">
	<title>マウスデーモンを有効にする。</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse5"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>最後に、矢印キーで <guimenuitem>Enable</guimenuitem> を選択して
	<keycap>Enter</keycap> を押し、マウスデーモンを有効にして、
	テストしてください。</para>

      <figure xml:id="test-mouse-daemon">
	<title>マウスデーモンのテスト</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mouse6"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>スクリーン上でマウスを動かし、
	カーソルが正しく反応することを確認してください。
	確認ができたら、 &gui.yes; を選択して
	<keycap>Enter</keycap> を押してください。
	もし、うまく動かないのであれば、マウスの設定が適切に行われていません。
	&mdash; &gui.no; を選択して、
	他の設定オプションを使って試してください。</para>

      <para>矢印キーで <guimenuitem>Exit</guimenuitem> を選択し、
	<keycap>Enter</keycap> を押してインストール後の設定を続けてください。</para>
    </sect2>

    <sect2 xml:id="packages">
    <title>Packages のインストール</title>

      <para>packages はコンパイル済みのバイナリで、
	ソフトウェアをインストールするのに便利な方法です。</para>

      <para>説明では、例としてひとつの package をインストールしますが、
	お望みであれば、ここで複数の package を追加することもできます。
	インストール後は、&man.sysinstall.8; を使って
	package を追加できます。</para>

      <screen>                     User Confirmation Requested
 The FreeBSD package collection is a collection of hundreds of
 ready-to-run applications, from text editors to games to WEB servers
 and more. Would you like to browse the collection now?

                            [ Yes ]   No</screen>

      <para>&gui.yes; を選択して、
	<keycap>Enter</keycap> を押してください。
	Package を選択する画面が表示されます。</para>

      <figure xml:id="package-category">
	<title>Package カテゴリの選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-cat"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>現在のインストールメディアに存在する packages のみをインストールできます。</para>

      <para><guimenuitem>All</guimenuitem> を選ぶと、
	利用可能なすべての package が表示されます。
	もしくは、特定のカテゴリを選択してください。
	矢印キーで選択したいカテゴリをハイライトし、
	<keycap>Enter</keycap> を押してください</para>

      <para>選択したカテゴリで利用可能なすべての
	package のメニューが表示されます。</para>

      <figure xml:id="package-select">
	<title>Packages の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-sel"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>ここでは、<application>bash</application> シェルが選択されています。
	希望する数だけ package を選択してハイライト表示にし、
	<keycap>Space</keycap> キーを押してください。
	それぞれの package の簡単な説明がスクリーン下の左端に表示されます。</para>

      <para><keycap>Tab</keycap> キーを押すと、最後に選択した package
	と &gui.ok;, &gui.cancel; で選択が切り替わります。</para>

      <para>インストールする package の選択が終わったら、
	<keycap>Tab</keycap> を一度押して &gui.ok; に切り替え、
	その後 <keycap>Enter</keycap> を押して
	Package 選択メニューに戻ってください。</para>

      <para>左右の矢印キーでも、&gui.ok; と &gui.cancel;
	切り替えることができます。
	この方法で &gui.ok; を選択することもできますので、
	その後、<keycap>Enter</keycap> を押して
	Package 選択メニューに戻ってください。</para>

      <figure xml:id="package-install">
	<title>Packages のインストール</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-install"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>Tab</keycap> と矢印キーで <guibutton>[&nbsp;Install&nbsp;]</guibutton>
	を選択し、<keycap>Enter</keycap> を押すと、
	インストールを確認するメニューが表示されます。</para>

      <figure xml:id="package-install-confirm">
	<title>Package のインストールの確認</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/pkg-confirm"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>&gui.ok; を選択し、<keycap>Enter</keycap> を押すと
	package のインストールが始まります。
	インストールが終わるまで、インストールのメッセージが表示されます。
	エラーメッセージが表示されないかどうか注意してください。</para>

      <para>packages をインストールしたら、最後の設定に進みます。
	package を選択しなかった場合も、
	<guibutton>Install</guibutton> を選択して、
	最後の設定に戻ってください。</para>
    </sect2>

    <sect2 xml:id="addusers">
      <title>ユーザ/グループの追加</title>

      <para>システムに <systemitem class="username">root</systemitem> 以外でログインできるよう、
	インストール時には、少なくとも一人のユーザを追加してください。
	通常 root パーティッションの容量は小さいので、
	<systemitem class="username">root</systemitem> 権限でアプリケーションを実行すると、
	すぐに消費してしまいます。</para>

      <screen>                     User Confirmation Requested
 Would you like to add any initial user accounts to the system? Adding
 at least one account for yourself at this stage is suggested since
 working as the "root" user is dangerous (it is easy to do things which
 adversely affect the entire system).

                            [ Yes ]   No</screen>

      <para>&gui.yes; を選択し、
	<keycap>Enter</keycap> を押して、ユーザを追加してください。</para>

      <figure xml:id="add-user2">
	<title>User の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>矢印キーで <guimenuitem>User</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押してください。</para>

      <figure xml:id="add-user3">
	<title>ユーザ情報の入力</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><keycap>Tab</keycap> で項目を選択すると、
	必要とされる情報の入力を助けるため、
	スクリーンの下に以下の説明が表示されます。</para>

      <variablelist>
	<varlistentry>
	  <term>Login ID</term>

	  <listitem>
	    <para>新しいユーザのログインネーム (必須)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>UID</term>

	  <listitem>
	    <para>新しいユーザの ID 番号
	      (空欄のままにすると、自動的に割り当てられます)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Group</term>

	  <listitem>
	    <para>新しいユーザのログイングループ</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Password</term>

	  <listitem>
	    <para>このユーザのパスワード
	      (このフィールドは注意して入力してください!)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Full name</term>

	  <listitem>
	    <para>ユーザのフルネーム (コメント)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Member groups</term>

	  <listitem>
	    <para>このユーザの所属するグループについて
	      (すなわち、どのようなアクセス権を持つか)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Home directory</term>

	  <listitem>
	    <para>ユーザのホームディレクトリ
	      (空欄にするとデフォルトで設定されます)</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term>Login shell</term>
	  <listitem>
	    <para>ユーザのログインシェル
	      (空欄にするとデフォルトの <filename>/bin/sh</filename>
	      に設定されます)。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>この例では、ログインシェルは
	<filename>/bin/sh</filename> から、
	先ほど package でインストールした <application>bash</application>
	を使うよう、<filename>/usr/local/bin/bash</filename>
	に変更されています。
	インストールされていないシェルを選ぶと、
	ユーザはログインできなくなりますので、
	インストールされていないシェルは選ばないでください。
	&os; で最も標準的なシェルは C シェルです。
	<filename>/bin/tcsh</filename> で指定できます。</para>

      <para>ユーザは、<systemitem class="groupname">root</systemitem>
	権限を持つスーパユーザになることができる
	<systemitem class="groupname">wheel</systemitem> グループにも追加されています。</para>

      <para>十分に記述したら、&gui.ok; を押して、
	User および Group 管理メニューを再び表示してください。</para>

      <figure xml:id="add-user4">
	<title>ユーザおよびグループの管理を終了する</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/adduser3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>ここでグループを追加することもできます。
	または、後で
	&man.sysinstall.8; を利用してアクセスできます。</para>

      <para>ユーザを追加したら、矢印キーで、
	<guimenuitem>Exit</guimenuitem> を選択して、
	<keycap>Enter</keycap> を押して、次のインストール項目に進んでください。</para>
    </sect2>

    <sect2 xml:id="rootpass">
      <title><systemitem class="username">root</systemitem> パスワードの設定</title>

      <screen>                        Message
 Now you must set the system manager's password.
 This is the password you'll use to log in as "root".

                         [ OK ]

               [ Press enter or space ]</screen>

      <para><keycap>Enter</keycap> を押して、
	<systemitem class="username">root</systemitem> パスワードを設定してください。</para>

      <para>パスワードは、正しく 2 回入力してください。
	パスワードは忘れないでください。
	パスワードとして入力した文字は表示されませんし、
	アスタリスクが表示されることもありません。</para>

      <screen>New password:
Retype new password :</screen>

      <para>パスワードの入力に成功したら、インストールは次に進みます。</para>

    </sect2>

    <sect2 xml:id="exit-inst">
      <title>インストールの終了</title>

      <para>以下のようなメッセージが表示され、
        設定が終わったかどうかを尋ねられます。</para>

      <screen>                     User Confirmation Requested
 Visit the general configuration menu for a chance to set any last
 options?

                              Yes   [ No ]</screen>

      <para>&gui.no; を選択し、
	<keycap>Enter</keycap>
	を押すことでメインインストールメニューに戻ります。</para>

      <figure xml:id="final-main">
	<title>インストールの終了</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mainexit"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>方向キーで <guibutton>[X Exit Install]</guibutton>
	を選択し、<keycap>Enter</keycap>を押します。
	インストーラがインストールを終了してもよいか確認を求めます。</para>

      <screen>                     User Confirmation Requested
 Are you sure you wish to exit? The system will reboot.

                            [ Yes ]   No</screen>

      <para>&gui.yes; を選択してください。
	CDROM ドライブから起動しているのなら、
	ディスクを取り出すこと示す以下のメッセージが表示されます。</para>

      <screen>                    Message
 Be sure to remove the media from the drive.

                    [ OK ]
           [ Press enter or space ]</screen>

      <para>マシンが再起動し始めると CDROM ドライブはロックされるので、
	ドライブから素早くディスクを取り出してください。
	&gui.ok; を押して再起動してください。</para>

      <para>システムは再起動するので、
	表示されるかもしれないすべてのエラーメッセージに注意してください。
	詳細については、<xref linkend="freebsdboot"/> をご覧ください。</para>
    </sect2>

    <sect2 xml:id="network-services">
      <info><title>ネットワークサービスの設定</title>
	<authorgroup>
	  <author><personname><firstname>Tom</firstname><surname>Rhodes</surname></personname><contrib>寄稿: </contrib></author>
	</authorgroup>
      </info>

      

      <para>ネットワークサービスの設定は、新しいユーザにとって、
	この領域について基本的な知識を持たないと気が遠くなるような作業となるでしょう。
	インターネットを含むネットワークは、
	現代のすべてのオペレーティングシステムにとって重要なので、&os;
	の広範囲にわたるネットワークの能力を理解することは有益でしょう。</para>

      <para>ネットワークサービスは、
	ネットワーク上のどこからでもアクセスを許可するプログラムです。
	時間が経過するとネットワークサービスのバグが攻撃者により発見されるので、
	必要なネットワークサービスのみを有効にすることは重要です。
	もし、あるネットワークサービスが必要かどうか疑わしい場合には、
	それが必要となるまでは、
	そのネットワークサービスを有効にしないでください。
	後で &man.sysinstall.8; を実行するか、
	<filename>/etc/rc.conf</filename>
	ファイルを編集することで機能を有効にできます。</para>

      <para><guimenu>Networking</guimenu> オプションを選択すると、
	以下のようなメニューが表示されます。</para>

      <figure xml:id="network-configuration">
	<title>ネットワーク設定 (メニューの前半)</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/net-config-menu1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>最初のオプションである
	 <guimenuitem>Interfaces</guimenuitem> については、
	<xref linkend="inst-network-dev"/> で説明されています。</para>

      <para><guimenuitem>AMD</guimenuitem> オプションを選択すると
	&man.amd.8; に対応します。
	このオプションは、通常
	<acronym>NFS</acronym> プロトコルともに、
	リモートファイルシステムの自動マウントのために使われます。</para>

      <para>次は <guimenuitem>AMD Flags</guimenuitem> オプションです。
	選択すると <acronym>AMD</acronym>
	フラグを入力するためのメニューが表示されます。
	メニューには以下のようなデフォルトのオプションのセットが含まれています。</para>

      <screen>-a /.amd_mnt -l syslog /host /etc/amd.map /net /etc/amd.map</screen>

      <para><option>-a</option>
	は、デフォルトのマウント位置を指定します。
	ここでは <filename>/.amd_mnt</filename> を指定しています。
	<option>-l</option> は、
	デフォルトの <filename>log</filename> を指定します。
	ただし、&man.syslogd.8; が指定されていると、
	すべてのログはシステムログのデーモンに送られます。
	<filename>/host</filename> は、
	リモートホストからエクスポートされたシステムのマウントに使われます。
	一方 <filename>/net</filename>
	は、<acronym>IP</acronym>
	アドレスからエクスポートされたファイルシステムのマウントに使われます。
	<filename>/etc/amd.map</filename> は、
	<acronym>AMD</acronym> エクスポートのデフォルトオプションを定義します。</para>

      <indexterm>
	<primary>FTP</primary>
	<secondary>anonymous</secondary>
      </indexterm>

      <para><guimenuitem>Anon FTP</guimenuitem> は、anonymous
	<acronym>FTP</acronym> 接続を許可します。
	使用しているコンピュータを <acronym>FTP</acronym>
	サーバとして利用する場合には、
	このオプションを選択してください。
	このオプションを選択した際のセキュリティ上のリスクについて把握しておいてください。
	セキュリティリスクの説明、および、詳細の設定のためのメニューが表示されます。</para>

      <para><guimenuitem>Gateway</guimenuitem> メニューでは、
	コンピュータをゲートウェイに設定します。
	もし、インストールの過程で <guimenuitem>Gateway</guimenuitem>
	オプションを間違って選択したのであれば、ここで無効にできます。</para>

      <para><guimenuitem>Inetd</guimenuitem> オプションを使うと、
	&man.inetd.8; を設定したり、完全に無効にできます。</para>

      <para><guimenuitem>Mail</guimenuitem> オプションでは、システムのデフォルトの
	Mail Transfer Agent (<acronym>MTA</acronym>) を設定できます。
	このオプションを選択すると、以下のメニューが起動します。</para>

      <figure xml:id="mta-selection">
	<title>デフォルトの MTA の選択</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/mta-main"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>このメニューでは、インストールしてデフォルトに設定する
	<acronym>MTA</acronym> を選択できます。
	<acronym>MTA</acronym> は、
	システム上またはインターネット上のユーザにメールを配送するメールサーバです。</para>

      <para><guimenuitem>Sendmail</guimenuitem> を選択すると、
	デフォルトの <acronym>MTA</acronym> として
	<application>sendmail</application> がインストールされます。
	<guimenuitem>Sendmail local</guimenuitem> を選択すると、
	<application>sendmail</application> をデフォルトの
	<acronym>MTA</acronym> に設定しますが、
	インターネットからの電子メールの受け取りを無効にします。
	他のオプションである
	<guimenuitem>Postfix</guimenuitem> や
	<guimenuitem>Exim</guimenuitem> も、
	<guimenuitem>Sendmail</guimenuitem> と同じようにメールを配送します。</para>

      <para><acronym>MTA</acronym> メニューの次のメニューは
	<guimenuitem>NFS client</guimenuitem> です。
	このメニューは、システムが <acronym>NFS</acronym>
	サーバと通信するように設定します。
	<acronym>NFS</acronym> では、<acronym>NFS</acronym>
	プロトコルを通じて、他のコンピュータのファイルシステムを利用できるようになります。
	クライアントやサーバの設定についての詳細は
	<xref linkend="network-nfs"/> をご覧ください</para>
	
      <para>その下のオプションが <guimenuitem>NFS server</guimenuitem>
	オプションです。
	システムを <acronym>NFS</acronym> サーバに設定します。
	このオプションは、Remote Procedure Call <acronym>RPC</acronym>
	サービスに必要なオプションを追加します。
	<acronym>RPC</acronym> は、
	ホストとプログラム間の接続の調整に利用できます</para>

      <para>次の行は <guimenuitem>Ntpdate</guimenuitem> オプションです。
	これは、時刻の同期を取り扱います。
	選択すると下のようなメニューが表示されます。</para>

      <figure xml:id="Ntpdate-config">
	<title>Ntpdate の設定</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/ntp-config"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>このメニューでは、
	地理的に最も近いサーバを選択してください。
	遠い場所のサーバを選ぶと、
	ネットワークの応対時間が長くなる可能性があるので、
	最も近いサーバを選択することにより、
	より正確な時刻の同期ができるようになります。</para>

      <para>次のオプションは、<acronym>PCNFSD</acronym> の選択です。
	このオプションは、Ports Collection から
	<package>net/pcnfsd</package> package をインストールします。
	Microsoft の &ms-dos;
	オペレーティングシステムのような、自分自身では <acronym>NFS</acronym>
	認証サービスを提供できないシステムに対し、<acronym>NFS</acronym>
	認証サービスを提供する有効なユーティリティです。</para>

      <para>ここで、他のオプションを見るために、
	少しスクロールダウンしてください。</para>

      <figure xml:id="Network-configuration-cont">
	<title>ネットワーク設定 (メニューの後半)</title>

	<mediaobject>
	  <imageobject>
	    <imagedata fileref="install/net-config-menu2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para><acronym>RPC</acronym>。
	&man.rpcbind.8; は、<acronym>NFS</acronym>
	サーバとクライアントの通信を取り扱い、
	<acronym>NFS</acronym> サーバが正しく機能するために必要です。
	&man.rpc.statd.8; デーモンは、ステータスを監視し、
	報告されたステータスは、通常
	<filename>/var/db/statd.status</filename> に記録されます。
	次のオプションの &man.rpc.lockd.8; は、
	ファイルロックサービスを提供します。
	この機能は通常 &man.rpc.statd.8; と共に、
	どのホストがロックを必要としているか、
	どのくらいの頻度でリクエストするかをモニタするために利用されます。
	最後の二つのオプションは、デバッグ時に有用ですが、
	<acronym>NFS</acronym>
	サーバおよびクライアントの動作時には必要ありません。</para>

      <para>次のメニューの <guimenuitem>Routed</guimenuitem> は、
	ルーティングデーモンを設定します。
	&man.routed.8; は、ネットワークルーティングテーブルを管理し、
	マルチキャストルーターを理解し、
	そして、リクエストがあると、物理的に接続したホストに対し、
	ネットワークを通してルーティングテーブルを提供します。
	このユーティリティは、
	主にローカルネットワークのゲートウェイマシンで利用されます。
	選択すると、
	ユーティリティのデフォルトの場所を要求するメニューが表示されます。
	デフォルトの場所で良ければ、
	<keycap>Enter</keycap> キーを押してください。
	その後、別のメニューが表示され、
	&man.routed.8; に渡すフラグを要求します。
	画面にには、デフォルトのフラグの <option>-q</option>
	が表示されます。</para>

      <para>次のメニューは <guimenuitem>Rwhod</guimenuitem> オプションです。
	このオプションは、システムの初期化時に
	&man.rwhod.8; を起動します。
	<command>rwhod</command>
	ユーティリティは、定期的にシステムのメッセージをネットワークにブロードキャストし、
	<quote>consumer</quote> モードでは、
	システムのメッセージを収集します。
	詳細な情報は、&man.ruptime.1; および
	&man.rwho.1; ページにあります。</para>

      <para>リストの最後から 2 番目のオプションは、&man.sshd.8; です。
	これは <application>OpenSSH</application>
	のためのセキュアシェルサーバです。
	標準の &man.telnetd.8; や &man.ftpd.8;
	サーバではなく、このサーバが強く推奨されています。
	このサーバは、暗号化された通信を行い、
	あるホストと他のホストを安全に接続します。</para>

      <para>最後のオプションが
	<guimenuitem>TCP Extensions</guimenuitem> オプションです。
	このオプションは、<acronym>RFC</acronym>&nbsp;1323 および
	<acronym>RFC</acronym>&nbsp;1644 で定義されます。
	多くのホストにおいて、このオプションはコネクションを高速にする一方で、
	いくつかのコネクションを破棄します。
	サーバに対して推奨はされませんが、
	スタンドアローンなコンピュータには有益でしょう。</para>

      <para>ネットワークサービスの設定が終わったら、
	一番上の <guimenuitem>X Exit</guimenuitem>
	までスクロールアップして次の設定項目に進むか、
	<guimenuitem>X Exit</guimenuitem> を 2 回選択し、その後
	<guibutton>[X Exit Install]</guibutton> を選び、
	&man.sysinstall.8; を終了してください。</para>
    </sect2>

    <sect2 xml:id="freebsdboot">
      <title>&os; のブート</title>

      <sect3 xml:id="freebsdboot-i386">
	<title>&os;/&arch.i386; の起動</title>

	<para>すべてがうまくいっていれば、画面上にメッセージがスクロールし、
	  ログインプロンプトが表示されます。
	  このメッセージを見るには、<keycap>Scroll-Lock</keycap>
	  を押し、<keycap>PgUp</keycap> および <keycap>PgDn</keycap>
	  キーを使ってください。
	  <keycap>Scroll-Lock</keycap>
	  をもう一度押すとプロンプトに戻ります。</para>

	<para>バッファの容量制限により、
	  すべてのメッセージは表示されないかもしれませんが、
	  ログインの後に &man.dmesg.8; で見ることができます。</para>

	<para>インストールの際に設定したユーザ名とパスワードを用いてログインしてください。
	  必要な時を除き <systemitem class="username">root</systemitem>
	  としてログインすることは避けてください。</para>

	<para>典型的なブートメッセージ (バージョン情報は省略しています)</para>

<screen>Copyright (c) 1992-2002 The FreeBSD Project.
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved.

Timecounter "i8254"  frequency 1193182 Hz
CPU: AMD-K6(tm) 3D processor (300.68-MHz 586-class CPU)
  Origin = "AuthenticAMD"  Id = 0x580  Stepping = 0
  Features=0x8001bf&lt;FPU,VME,DE,PSE,TSC,MSR,MCE,CX8,MMX&gt;
  AMD Features=0x80000800&lt;SYSCALL,3DNow!&gt;
real memory  = 268435456 (262144K bytes)
config&gt; di sn0
config&gt; di lnc0
config&gt; di le0
config&gt; di ie0
config&gt; di fe0
config&gt; di cs0
config&gt; di bt0
config&gt; di aic0
config&gt; di aha0
config&gt; di adv0
config&gt; q
avail memory = 256311296 (250304K bytes)
Preloaded elf kernel "kernel" at 0xc0491000.
Preloaded userconfig_script "/boot/kernel.conf" at 0xc049109c.
md0: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard
npx0: INT 16 interface
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1: &lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;ISA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0: &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci0
usb0: &lt;VIA 83C572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr 1
uhub0: 2 ports with 2 removable, self powered
chip1: &lt;VIA 82C586B ACPI interface&gt; at device 7.3 on pci0
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xe800-0xe81f irq 9 at
device 10.0 on pci0
ed0: address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq 2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5" drive&gt; on fdc0 drive 0
atkbdc0: &lt;keyboard controller (i8042)&gt; at port 0x60-0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq 1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/2 mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x1 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
ppbus0: IEEE1284 device found /NIBBLE
Probing for PnP devices on ppbus0:
plip0: &lt;PLIP network interface&gt; on ppbus0
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port
ppi0: &lt;Parallel I/O&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master using UDMA33
ad2: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata1-master using UDMA33
acd0: CDROM &lt;DELTA OTC-H101/ST3 F/W by OIPD&gt; at ata0-slave using PIO4
Mounting root from ufs:/dev/ad0s1a
swapon: adding /dev/ad0s1b as swap device
Automatic boot in progress...
/dev/ad0s1a: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1a: clean, 48752 free (552 frags, 6025 blocks, 0.9% fragmentation)
/dev/ad0s1f: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1f: clean, 128997 free (21 frags, 16122 blocks, 0.0% fragmentation)
/dev/ad0s1g: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1g: clean, 3036299 free (43175 frags, 374073 blocks, 1.3% fragmentation)
/dev/ad0s1e: filesystem CLEAN; SKIPPING CHECKS
/dev/ad0s1e: clean, 128193 free (17 frags, 16022 blocks, 0.0% fragmentation)
Doing initial network setup: hostname.
ed0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
        inet6 fe80::5054::5ff::fede:731b%ed0 prefixlen 64 tentative scopeid 0x1
        ether 52:54:05:de:73:1b
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x8
        inet6 ::1 prefixlen 128
        inet 127.0.0.1 netmask 0xff000000
Additional routing options: IP gateway=YES TCP keepalive=YES
routing daemons:.
additional daemons: syslogd.
Doing additional network setup:.
Starting final network daemons: creating ssh RSA host key
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
cd:76:89:16:69:0e:d0:6e:f8:66:d0:07:26:3c:7e:2d root@k6-2.example.com
 creating ssh DSA host key
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
f9:a1:a9:47:c4:ad:f9:8d:52:b8:b8:ff:8c:ad:2d:e6 root@k6-2.example.com.
setting ELF ldconfig path: /usr/lib /usr/lib/compat /usr/X11R6/lib
/usr/local/lib
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout
starting standard daemons: inetd cron sshd usbd sendmail.
Initial rc.i386 initialization:.
rc.i386 configuring syscons: blank_time screensaver moused.
Additional ABI support: linux.
Local package initialization:.
Additional TCP options:.

FreeBSD/i386 (k6-2.example.com) (ttyv0)

login: rpratt
Password:</screen>

	<para>低速なマシンでは、
	  RSA および DSA キーを作成するのに少々時間がかかるかもしれません。
	  これは初めてインストールした後に初めてブートする時だけ起こります。
	  その後のブートはより速くなるでしょう。</para>

	<para><application>&xorg;</application> が設定され、
	  デフォルトデスクトップが選択されていた場合、
	  コマンドラインで <command>startx</command>
	  と入力することで <application>&xorg;</application>
	  を起動することが可能です。</para>

      </sect3>
    </sect2>

    <sect2 xml:id="shutdown">
      <title>&os; のシャットダウン</title>

      <para>オペレーティングシステムを適切にシャットダウンすることは重要です。
	ただ電源を落すということはしないでください。
	まず、コマンドラインから &man.su.1; と入力し、
	<systemitem class="username">root</systemitem> パスワードを入力してスーパユーザとなります。
	これは <systemitem class="groupname">wheel</systemitem>
	のメンバとなっているユーザだけが行うことができます。
	そうでなければ <systemitem class="username">root</systemitem> としてログインしてください。
	システムをシャットダウンするには、<command>shutdown -h now</command>
	と入力してください。</para>

      <screen>The operating system has halted.
Please press any key to reboot.</screen>

      <para>シャットダウンコマンドが実行され、
	<quote>Please press any key to reboot</quote>
	というメッセージが現れた後に電源を落すことは安全です。
	電源を落す代わりに何らかのキーが押された場合、
	システムはリブートするでしょう。</para>

      <para>
	<keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>Alt</keycap>
	  <keycap>Del</keycap>
	</keycombo>
	というキーの組合せを使ってシステムをリブートすることもできます。
	しかしながら、推奨はされません。</para>

    </sect2>
  </sect1>

  <sect1 xml:id="install-trouble">
    <title>トラブルシューティング</title>

    <indexterm>
      <primary>インストール</primary>
      <secondary>トラブルシューティング</secondary>
    </indexterm>
    <para>この節では、
      インストールの際に起こりえる共通の問題を解決するための情報が書いてあります。
      また、&os; と &windows;
      のデュアルブートを行う際のいくつかの質問と回答も書いてあります。</para>

    <sect2>
      <title>なにかおかしいときには何をすればよいでしょうか</title>

      <para>PC アーキテクチャのさまざまな制限により、
	100% 確実にデバイスを認識することは不可能です。
	しかしながら、失敗した時にいくつかできることがあります。</para>

      <para>インストールする &os; のバージョンの <link xlink:href="http://www.FreeBSD.org/ja/releases/index.html">ハードウェアノート</link>
	を調べて、
	使っているハードウェアに対応しているかどうかを確認してください。</para>

      <para>もしハードウェアがサポートされているにもかかわらず、
	動作しなかったり他の問題点がある時は、<link linkend="kernelconfig">カスタムカーネル</link>
	を構築して <filename>GENERIC</filename>
	カーネルに含まれていないデバイスのサポートを追加してください。
	デフォルトのカーネルでは、ほとんどのハードウェアデバイスの IRQ, IO アドレス、
	DMA チャネルが工場出荷時の状態であると仮定しています。
	もしハードウェアの設定が変更されているのであれば、
	カスタムカーネルのコンフィグレーションファイルを作成し、
	再コンパイルを行なって、
	&os; が認識するよう設定してください。</para>

      <para>存在しないデバイスを認識してしまうことにより、
	その後実際に存在するデバイスの認識を失敗してしまうことがあります。
	このような場合は衝突しているドライバを無効にします。</para>

      <note>
	<para>いくつかのインストール上の問題は、各ハードウェア装置、
	  特にマザーボード <acronym>BIOS</acronym>
	  のファームウェアのアップデートで回避または緩和することができます。
	  ほとんどのマザーボードまたはコンピュータ製造メーカーは、
	  アップグレード情報を載せているウェブサイトを用意しています。</para>

	<para>多くの製造メーカーは、
	  重要な更新のようなそれなりの理由がない限りマザーボードの
	  <acronym>BIOS</acronym> のアップグレードは行わないよう強く推奨しています。
	  アップデートの過程で失敗する<emphasis>かもしれず</emphasis>、
	  <acronym>BIOS</acronym> チップに深刻なダメージを与える原因となり得るからです。</para>
	</note>
    </sect2>

    <sect2>
      <title>&windows; ファイルシステムの利用</title>

      <para>現時点では、&os; は、
	<application>Double Space&trade;</application>
	アプリケーションで圧縮されたファイルシステムに対応していません。
	そのため、&os; がデータにアクセスする前に、
	ファイルシステムを展開しておく必要があります。
	展開するには、<guimenuitem>Start</guimenuitem>&gt; <guimenuitem>Programs</guimenuitem> &gt;
	<guimenuitem>System Tools</guimenuitem> メニューの
	<application>Compression Agent</application> を実行してください。</para>

      <para>&os; は、&ms-dos; ファイルシステム
	(FAT ファイルシステムとも呼ばれます) に対応しています。
	&man.mount.msdosfs.8; コマンドは、
	ファイルシステムの内容にアクセスできるように、
	ファイルシステムを現存のディレクトリ構成にマウントします。
	通常 &man.mount.msdosfs.8; プログラムは、直接用いられることはありません。
	システムから <filename>/etc/fstab</filename> 経由で利用されたり、
	&man.mount.8; から適切なパラメータとともに用いられます。</para>

      <para><filename>/etc/fstab</filename>
	の典型的な記述例は以下のようになります。</para>

      <programlisting>/dev/ad0sN  /dos  msdosfs rw  0	0</programlisting>

      <note><para>この記述がうまくいくためには、<filename>/dos</filename> が存在している必要があります。
	  <filename>/etc/fstab</filename> のフォーマットの詳細については、
	  &man.fstab.5; をご覧ください。</para></note>

      <para>FAT ファイルシステムをマウントする &man.mount.8;
	の典型例は以下となります。</para>

      <screen>&prompt.root; <userinput>mount -t msdosfs /dev/ad0s1 /mnt</userinput></screen>

      <para>この例では、FAT ファイルシステムは、
	プライマリのハードディスクの最初のパーティションに配置されています。
	&man.dmesg.8; や &man.mount.8; の出力から、
	パーティションレイアウトを把握するのに十分な情報を得ることが出来ます。</para>

      <note><para>&os; が割り当てる FAT パーティションの番号は、
	  他のオペレーティングシステムのものとは異なることがあります。
	  特に拡張パーティションには、
	  プライマリパーティションより大きなスライス番号が通常割り当てられます。
	  どのスライスが &os; に属し、
	  どのスライスが他のオペレーティングシステムに属するかを決めるのに
	  &man.fdisk.8; は役立ちます。</para>
      </note>

      <para>NTFS パーティションについても、同様に &man.mount.ntfs.8;
	コマンドでマウントできます。</para>
    </sect2>

    <sect2>
      <title>トラブルシューティングに関する Q &amp; A</title>

      <qandaset>
	<qandaentry>
	  <question>
	    <para>起動時のハードウェア検出で、システムがハングアップします。
	      または、インストール中にシステムがおかしくなります。</para>
	  </question>
	  <answer>
	    <para>i386, amd64 および ia64 プラットフォームにおいて、
	      &os; はシステムの設定を手助けするシステム ACPI サービスを、
	      起動時に検出された場合に広く使います。
	      残念ながら、まだいくつかの不具合が、
	      ACPI ドライバとシステムのマザーボードに存在しています。
	      起動ステージ 3 において、ヒント情報
	      <literal>hint.acpi.0.disabled</literal>
	      を以下のように設定すると ACPI を無効にできます。</para>

	    <screen><userinput>set hint.acpi.0.disabled="1"</userinput></screen>

	    <para>この設定はシステムが起動するたびにリセットされるので、
	      <filename>/boot/loader.conf</filename> に
	      <literal>hint.acpi.0.disabled="1"</literal>
	      を追加して、永続的に変更するようにしてください。
	      ブートローダのより詳しい情報については
	      <xref linkend="boot-synopsis"/> で説明します。</para>
	  </answer>
	</qandaentry>
	<qandaentry>
	  <question>
	    <para>&os; をインストールした後の最初のハードウェアからの起動で、
	      カーネルが読み込まれ、ハードウェアを検出しましたが、
	      次のようなメッセージを表示して停止しました。</para>

	    <screen>changing root device to ad1s1a panic: cannot mount root</screen>

	    <para>何が問題ですか？</para>
	  </question>
	  <answer>
	    <para>起動ディスクがシステムの最初のディスクではない場合には、
	      この問題が起こりえます。BIOS は、&os; とは異なる番号付けを用い、
	      どの番号がどの番号に対応するかを正しく見つけ出すことは簡単ではありません。</para>

	    <para>この問題が起きた場合には、
	      BIOS ディスク番号、ディスクのタイプおよびそのディスクタイプに対する
	      &os; ディスク番号を設定することで、
	      ルートファイルシステムがどこにあるかを &os; に指定する必要があります。</para>

	    <para>システムのそれぞれ IDE バスのマスタに接続された
	      2 つの IDE ディスクがあり、2 番目のディスクから
	      &os; を起動する場合を考えます。
	      BIOS は、これらのデバイスをディスク 0 および ディスク 1 と認識し、
	      一方 &os; は、<filename>ad0</filename> および
	      <filename>ad2</filename> と認識します。</para>

	    <para>BIOS ディスク 1 に &os; があり、
	      ディスクタイプが <literal>ad</literal> で、
	      &os; ディスク番号が 2 の場合には、次のようになるでしょう。</para>

	    <screen><userinput>1:ad(2,a)kernel</userinput></screen>

	    <para>プライマリバスにスレーブが接続されている場合には、
	      上記は必要なく、適切ではありません。</para>

	    <para>2 番目の状況は、システムに 1 つまたはそれ以上の
	      IDE ディスクがあるときに、SCSI ディスクから起動するような場合です。
	      このようなケースでは、&os; ディスク番号は、
	      BIOS ディスク番号より小さな番号になります。
	      2 つの IDE ディスクと SCSI ディスクがある場合には、
	      SCSI ディスクは BIOS ディスク 2、
	      タイプ <literal>da</literal>、
	      &os; ディスク番号が 0 となるため、
	      &os; に BIOS ディスク 2 (システムの 1 番目の SCSI ディスク)
	      から起動するように設定するには以下のようになります。</para>

	    <screen><userinput>2:da(0,a)kernel</userinput></screen>

	    <para>IDE ディスクが 1 つの場合には、
	      かわりに <literal>1:</literal> を指定してください。</para>

	    <para>使用する適切な値が決まったら、
	      テキストエディタを使って、コマンドを
	      <filename>/boot.config</filename> に記述してください。
	      他に指定がなければ、&os; はこのファイルの内容を、
	      デフォルトの <literal>boot:</literal>
	      プロンプトへのレスポンスとして使います。</para>
	  </answer>
	</qandaentry>
	<qandaentry>
	  <question>
	    <para>&os; をインストールした後、ハードウェアから起動しましたが、
	      ブートマネージャは、ブートメニューで
	      <literal>F?</literal> を表示し、それ以上起動が進みません。</para>
	  </question>
	  <answer>
	    <para> &os; のインストール時に、
	      パーティションエディタで指定したハードウェアのディスクジオメトリが正しくありません。
	      パーティションエディタまで戻り、
	      ハードディスクの正しいジオメトリを指定してください。
	      ジオメトリを正しく設定する所から &os;
	      を再インストールする必要があります。</para>

	      <para>&os; 専用のシステムで、
		他のオペレーティングシステムとの互換性が必要なければ、
		インストーラのパーティションエディタで
		<guimenuitem>A</guimenuitem>) を選択して、
		ディスクのすべてを使ってください。</para>
	  </answer>
	</qandaentry>
	<qandaentry>
	  <question>
	    <para>システムが &man.ed.4; ネットワークカードを検出しましたが、
	      デバイスのタイムアウトエラーが出ます。</para>
	  </question>
	  <answer>
	    <para>使用しているカードの IRQ が、
	      <filename>/boot/device.hints</filename>
	      で指定された IRQ と異なる可能性があります。
	      &man.ed.4; ドライバは、デフォルトでは <quote>ソフトウェア</quote>
	      コンフィグレーションを用いませんが、
	      インターフェースのヒント情報に <literal>-1</literal>
	      を指定した場合には、
	      ソフトウェアコンフィグレーションが用いられます。</para>

	    <para>カードのジャンパを変更してコンフィグレーションの設定を行うか、
	      <literal>hint.ed.0.irq="-1"</literal> と指定して IRQ に
	      <literal>-1</literal> を設定してください
	      このように設定すると、
	      カーネルがソフトウェアコンフィグレーションを利用します。</para>

	    <para>その他として、利用しているカードが IRQ 9 を使っている可能性があります。
	      この IRQ は IRQ 2 と共有され、
	      特に、IRQ 2 を使っている VGA カードを持っている場合には、
	      しばしば問題を引き起こします。
	      できるだけ IRQ 2 や 9 を避けるべきでしょう。</para>
	  </answer>
	</qandaentry>

	<qandaentry>

	  <question>
	    <para><application>&xorg;</application> 端末から
	      &man.sysinstall.8; を使うと、
	      ライトグレーの背景にフォントが黄色で表示され、読みずらいです。
	      このアプリケーションのコントラスト
	      <indexterm><primary>color</primary>
	      <secondary>contrast</secondary></indexterm>
	      を高くすることはできますか?</para>
	  </question>
	  <answer>
	    <para><package>x11/xterm</package> や <package>x11/rxvt</package>
	      使用時における &man.sysinstall.8;
	      のデフォルトのカラーが読みにくい場合には、<literal>XTerm*color7:
	      #c0c0c0</literal> を <filename>~/.Xdefaults</filename>
	      に追加して、より暗いグレーの背景に変更してください。</para>
	  </answer>
	</qandaentry>
      </qandaset>
    </sect2>
  </sect1>

  <sect1 xml:id="install-advanced">
    <info><title>高度なインストールガイド</title>
      <authorgroup>
	<author><personname><firstname>Valentino</firstname><surname>Vaschetto</surname></personname><contrib>寄稿: </contrib></author>
	<!-- May 2001 -->
      </authorgroup>

      <authorgroup>
	<author><personname><firstname>Marc</firstname><surname>Fonvieille</surname></personname><contrib>改訂: </contrib></author>
      </authorgroup>
      
    </info>

    

    <para>この節では特殊な状況での &os; のインストール方法が記述してあります。</para>

    <sect2 xml:id="headless-install">
      <title>&os; をモニタやキーボードのないシステムにインストールする</title>

      <indexterm>
	<primary>installation</primary>
	<secondary>headless (serial console)</secondary>
      </indexterm>
      <indexterm><primary>serial console</primary></indexterm>
      <para>この形式のインストールは <quote>表示のないインストール</quote> と呼ばれます。
	なぜなら、&os; をインストールしようとするマシンにモニタが接続されていないか、
	VGA 出力をもっていないからです。
	このようなシステムへのインストールはシリアルコンソールを使い、
	別のマシンをシステムの主ディスプレイやキーボードとして使うと可能になります。
	これを行うには、<xref linkend="install-boot-media"/>
	の説明に従い、インストール用の USB メモリスティックを作成するか、
	<xref linkend="install-cdrom"/> で説明されているインストール用の
	ISO イメージをダウンロードしてください。</para>

      <para>以下の説明に従って、
	これらのメディアをシリアルコンソールを使って起動するように変更してください
	CD/DVD メディアを使うのであれば、最初の手順を飛ばしてください。</para>

      <procedure>
	<step>
	  <title>インストール用 USB スティックのシリアルコンソールへの起動を有効にする</title>

	    <indexterm>
	      <primary>&man.mount.8;</primary>
	    </indexterm>
	    <para>デフォルトでは、USB スティックで起動すると、
	      インストーラを起動します
	      シリアルコンソールを使って起動するには、
	      os; のシステムに &man.mount.8;
	      コマンドを使って USB ディスクをマウントしてください。</para>

	    <screen>&prompt.root; <userinput>mount /dev/da0a /mnt</userinput></screen>

	    <note>
	      <para>デバイスノードおよびマウントポイントの部分は、
		利用している環境に合わせてください。</para>
	    </note>

	    <para>スティックをマウントしたら、USB
	      スティックをシリアルコンソールを使って起動するように設定してください。
	      以下の行を USB スティックの
	      <filename>/boot/loader.conf</filename> に追加してください。</para>

	    <screen>&prompt.root; <userinput>echo 'console="comconsole"' &gt;&gt; /mnt/boot/loader.conf</userinput></screen>

	    <para>USB スティックを正しく設定することができたら、
	      &man.umount.8; を使ってディスクをアンマウントしてください。</para>

	    <screen>&prompt.root; <userinput>umount /mnt</userinput></screen>

	    <para>その後 USB スティックを抜き、3 番目の手順に進んでください。</para>
	  </step>

	<step>
	  <title>インストール用 CD/DVD
	    のシリアルコンソールへの起動を有効にする</title>

	    <indexterm>
	      <primary>&man.mount.8;</primary>
	    </indexterm>
	    <para>デフォルトでは、インストール用の CD/DVD
	      で起動すると、&os; は通常のインストールモードで起動します。
	      シリアルコンソールで起動するには、
	      ISO イメージを CD/DVD メディアに焼く前に、
	      展開して、変更し、再び ISO イメージを作成する必要があります。</para>

	    <para>インストール用の ISO イメージが保存されている
	      &os; システムで、
	      以下のようにすべてのファイルを
	      &man.tar.1; を使って展開してください。</para>

	    <screen>&prompt.root; <userinput>mkdir /path/to/headless-iso</userinput>
&prompt.root; <userinput>tar -C /path/to/headless-iso -pxvf &os;-&rel.current;-RELEASE-i386-disc1.iso</userinput></screen>

	    <para>次に、
	      インストールメディアをシリアルコンソールを使って起動するように設定します。
	      以下の行を展開した ISO イメージの
	      <filename>/boot/loader.conf</filename> に追加します。</para>

	    <screen>&prompt.root; <userinput>echo 'console="comconsole"' &gt;&gt; /path/to/headless-iso/boot/loader.conf</userinput></screen>

	    <para>その後、修正されたツリーを使って新しい ISO イメージを作成します。
	      この例では、<package>sysutils/cdrtools</package> package または port
	      の &man.mkisofs.8; を使っています。</para>

	    <screen>&prompt.root; <userinput>mkisofs -v -b boot/cdboot -no-emul-boot -r -J -V "Headless_install" \
	    -o Headless-&os;-&rel2.current;-RELEASE-i386-disc1.iso/path/to/headless-iso</userinput></screen>

	    <para>適切な ISO イメージを作成できたので、
	      お気に入りの CD ライタ用のアプリケーションを使って
	      CD/DVD に焼いてください。</para>
	  </step>

	  <step>
	    <title>ヌルモデムケーブルの接続</title>

  	    <indexterm><primary>ヌルモデムケーブル</primary></indexterm>
	    <para>2 つのマシン間のシリアルポートを、
	      <!-- <link linkend="term-cables-null">ヌルモデムケーブル</link> -->
	      ヌルモデムケーブルで接続してください。
	      <emphasis>普通のシリアルケーブルはここでは使えません。</emphasis>
	      ヌルモデムケーブルが必要です。</para>
	  </step>

	  <step>
	    <title>インストールのために起動</title>

	    <para>いよいよインストールを開始します。
	      USB メモリスティックまたは CD/DVD メディアを、画面のない、
	      インストールを行おうとしているマシンに挿入し、
	      電源を投入してください。</para>
	  </step>

	  <step>
	    <title>画面がないマシンへの接続</title>

	    <indexterm>
	      <primary>&man.cu.1;</primary>
	    </indexterm>

	    <para>&man.cu.1; でインストールを行いたいマシンに接続してください:</para>

	    <screen>&prompt.root; <userinput>cu -l /dev/cuau0</userinput></screen>

	  </step>
      </procedure>

      <para>&man.cu.1;を通して画面がないマシンを操作することができます。
	カーネルを読み込み、
	その後どの種類の端末を使うか選択する画面が表示されます。
	&os; カラーコンソールを選んでインストールを続行してください!</para>

    </sect2>
  </sect1>

  <sect1 xml:id="install-diff-media">
    <title>カスタムインストールメディアの準備</title>

    <para>ある状況では、カスタマイズした &os;
      インストールメディアやソースを用意する必要があります。
      これは
      &man.sysinstall.8;
      がインストールファイルを持ってくることのできる、
      物理的なメディアであったり、ソースの場合もあります。
      たとえば、以下のような状況です。</para>

    <itemizedlist>
      <listitem>
	<para>たくさんのマシンが繋がったローカルネットワークに
	  &os; インストールファイルを持つローカル FTP サーバをホストし、
	  各マシンはインストールにこのサーバのファイルを使うようにします。</para>
      </listitem>

      <listitem>
	<para>&os; は CD/DVD ドライブを認識できないが、
	  &windows; はそれができるとします。
	  この場合、同じコンピュータ上の &windows; パーティションに &os;
	  のインストールファイルをコピーして、&os;
	  のインストールにこれらのファイルを使います。</para>
      </listitem>

      <listitem>
	<para>インストールを行いたいコンピュータが CD/DVD
	  ドライブやネットワークカードを搭載してなくても、
	  ヌルプリンタケーブルを用いてそのコンピュータに接続できます。</para>
      </listitem>

      <listitem>
	<para>磁気テープを &os; のインストールに使えます。</para>
      </listitem>
    </itemizedlist>

    <sect2 xml:id="install-cdrom">
      <title>インストール ISO の作成</title>

      <para>&os; プロジェクトは、それぞれのリリースに対して
	<quote>ISO イメージ</quote>
	をサポートされているアーキテクチャごとに用意します。
	書き込み用のアプリケーションを用いてイメージを CD または DVD
	メディアに書き込む
	(<quote>焼く</quote>) ことができ、
	それを使って &os; をインストールできます。
	CD/DVD ライタを利用できるのであれば、
	これが &os; をインストールする最も簡単な方法です。</para>

      <procedure>
	<step>
	  <title>適切な ISO イメージのダウンロード</title>

	  <para>それぞれのリリースの ISO イメージは、
	    <filename>ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-arch/version</filename>
	    もしくは近くのミラーからダウンロードできます。
	    ここで、<replaceable>arch</replaceable> と
	    <replaceable>version</replaceable> の部分は適切なものに置き換えてください。</para>

	  <para>通常、このディレクトリには以下のイメージが置いてあります。</para>

	  <table frame="none">
	    <title>&os;
	      ISO イメージの名前と内容</title>

	    <tgroup cols="2">
	      <thead>
		<row>
		  <entry>ファイル名</entry>

		  <entry>内容</entry>
		</row>
	      </thead>

	      <tbody>
		<row>
		  <entry><filename>&os;-version-RELEASE-arch-bootonly.iso</filename></entry>

		  <entry>CD-ROM ドライブから起動することでインストールを行うことができる CD イメージです。
		    この CD のみを使って &os; をインストールすることはできません。
		    この CD から起動した後は、
		    FTP サーバなどからネットワーク経由でインストール作業をします。</entry>
		</row>

		<row>
		  <entry><filename>&os;-version-RELEASE-arch-dvd1.iso.gz</filename></entry>

		  <entry>この DVD イメージには、
		    &os; オペレーティングシステムのベースシステム、
		    コンパイル済みの package 一式、
		    ドキュメントをインストールするために必要なものが入っています。
		    <quote>livefs</quote> ベースのレスキューモードで起動することも可能です。</entry>
		</row>

 		<row>
		  <entry><filename>&os;-version-RELEASE-arch-memstick.img</filename></entry>

		  <entry>USB メモリスティックに書き込めるイメージです。
		    USB ドライブから起動可能なコンピュータで、
		    インストールに使うことができます。
		    <quote>livefs</quote>
		    ベースのレスキューモードで起動することも可能です。
		    package は、ドキュメントに関連するもののみが入っています。</entry>
		</row>

		<row>
		  <entry><filename>&os;-version-RELEASE-arch-disc1.iso</filename></entry>

		  <entry>この CD イメージには、
		    &os; オペレーティングシステムのベースシステムとドキュメントインストールするために必要なものが入っています。
		    その他の package は含まれていません。</entry>
		</row>

		<row>
		  <entry><filename>&os;-version-RELEASE-arch-disc2.iso</filename></entry>

		  <entry>この CD イメージには、ディスクに収まる容量のサードパーティ製
		    package が含まれています。このイメージは、
		    &os;&nbsp;9.<replaceable>X</replaceable>
		    以降では利用できません。</entry>
		</row>

		<row>
		  <entry><filename>&os;-version-RELEASE-arch-disc3.iso</filename></entry>

		  <entry>ディスクに収まる容量のサードパーティ製
		    package を含むもう 1 つの CD イメージです。このイメージは、
		    &os;&nbsp;9.<replaceable>X</replaceable>
		    以降では利用できません。</entry>
		</row>

		<row>
		  <entry><filename>&os;-version-RELEASE-arch-livefs.iso</filename></entry>

		  <entry><quote>livefs</quote>
		    ベースのレスキューモードで起動できるイメージです。
		    この CD のみを使ってシステムをインストールすることはできません。</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <para>CD からインストールを行うには、
	    <literal>bootonly</literal> ISO イメージまたは
	    <literal>disc1</literal> のどちらかをダウンロードしてください。
	    <literal>disc1</literal> には、<literal>bootonly</literal>
	    ISO イメージに含まれているものはすべて含まれているので、
	    両方をダウンロードする必要はありません。</para>

	  <para>インターネット経由でネットワークからインストールを行うには、
	    <literal>bootonly</literal> ISO を使ってください。
	    追加のソフトェアが必要であれば、
	    <xref linkend="ports"/> に説明されているように Ports Collection
	    を用いてインストールできます。</para>

	  <para>&os; をインストールし、
	    サードパーティ製の package をディスク上から利用したいのであれば、
	    <literal>dvd1</literal> を使ってください。</para>
	</step>

	<step>
	  <title>メディアへイメージを書き込む</title>

	  <para>次に、ダウンロードしたイメージをディスクに書き込んでください。
	    他の &os; システムで書き込みを行う場合には、
	    <xref linkend="burncd"/> および
	    <xref linkend="cdrecord"/> の手順を参考にしてください。</para>

	  <para>他のプラットフォーム上で書き込みを行う場合には、
	    そのシステムにインストールされている書き込み用のユーティリティを利用してください。
	    提供されているイメージは標準の ISO フォーマットです。多くの CD
	    ライタ用のアプリケーションがこのフォーマットに対応しています。</para>
	</step>
      </procedure>

      <note><para>カスタマイズした &os;
	のリリースを構築するには、<link xlink:href="&url.articles.releng;">Release Engineering
	Article</link> をご覧ください。</para></note>
    </sect2>

    <sect2 xml:id="install-ftp">
      <title>&os; ディスクを使ったローカル FTP サイトの作成</title>

      <indexterm>
	<primary>installation</primary>
	<secondary>network</secondary>
	<tertiary>FTP</tertiary>
      </indexterm>

      <para>&os; のディスクは FTP サイトと同じ配置がなされています。
	そのため、ローカルな FTP
	サイトを構築して、ネットワーク上の他のマシンが &os;
	をインストールするのに使うようにできます。</para>

      <procedure>
	<step>
	  <para>FTP サイトのホストとなる &os; のコンピュータに、
	    CD/DVD をドライブに入れ、マウントしてください。</para>

	  <screen>&prompt.root; <userinput>mount /cdrom</userinput></screen>
	</step>

	<step>
	  <para>anonymous FTP のアカウントを作成してください。
	    &man.vipw.8; を使用して次の行を加えてください。</para>

	  <programlisting>ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent</programlisting>
	</step>

	<step>
	  <para>FTP サービスを請け負うために
	    <filename>/etc/inetd.conf</filename> で有効にしてください。</para>
	</step>
      </procedure>

      <para>このマシンにネットワークで繋がっているマシンは、
	インストール時にメディアタイプで FTP を選択し、
	FTP サイトメニューで <quote>Other</quote> を選んだ後
	<userinput>ftp://your machine</userinput>
	と打ち込むことができます。</para>

      <note>
	<para>もし FTP クライアントの起動メディアの
	  &os; のバージョンが FTP サイトで提供されているバージョンと正確に同じでなければ、
	  &man.sysinstall.8; でのインストールはうまくいきません。
	  バージョンを書き換えるには、
	  <guimenu>Options</guimenu> メニューで distribution name を
	  <guimenuitem>any</guimenuitem> に変更してください。</para>
      </note>

      <warning>
	<para>この方法はローカルネットワーク上の、
	  ファイアウォールで保護されたマシンでは容認できますが、
	  インターネットを介して他のマシンに FTP サービスを提供することは、
	  セキュリティリスクが高まります。
	  インターネット経由でサービスを提供する場合には、
	  セキュリティの状態に注意することを強く提言します。</para>
      </warning>
    </sect2>

      <sect2 xml:id="install-msdos">
	<title>&windows; パーティションからのインストール</title>

	<indexterm>
	  <primary>installation</primary>
	  <secondary>from &windows;</secondary>
	</indexterm>

	<para>ハードディスクの &windows; パーティションからインストールするときには、
	  配布ファイルを例えば <filename>c:\freebsd</filename>
	  などそのパーティションのルートディレクトリにコピーします。
	  ディレクトリ構造を反映してコピーしなければならないので、
	  CD/DVD からコピーする場合には <command>robocopy</command>
	  の使用をおすすめします。
	  例えば、最低限の &os; のインストールを行うには、
	  次のように準備します:</para>

	<screen><prompt>C:\&gt;</prompt> <userinput>md c:\freebsd</userinput>
<prompt>C:\&gt;</prompt> <userinput>robocopy e:\bin c:\freebsd\bin\ /s</userinput>
<prompt>C:\&gt;</prompt> <userinput>robocopy e:\manpages c:\freebsd\manpages\ /s</userinput></screen>

	<para>ここで <filename>C:</filename> ドライブには十分な空き容量があり、
	  CD/DVD は <filename>E:</filename>
	  ドライブにマウントされているものとします。</para>

	<para>あるいは、<link xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel2.current;-RELEASE/">ftp.FreeBSD.org</link>
	  から配布ファイルをダウンロードしてください。
	  それぞれの配布ファイルは独自のディレクトリに入っています。
	  例えば、<emphasis>base</emphasis> 配布ファイルは <link xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/&rel2.current;-RELEASE/base/">&rel2.current;/base/</link>
	  ディレクトリにあります。</para>

	<para>&windows; パーティションの <filename>c:\freebsd</filename>
	  にインストールの配布ファイルをコピーしてください。
	  <literal>base</literal> および <literal>kernel</literal>
	  配布ファイルは、最低限必要です。</para>
      </sect2>

      <sect2>
	<title>ネットワーク経由のインストールの前に</title>

	<indexterm>
	  <primary>installation</primary>
	  <secondary>network</secondary>
	  <tertiary>serial (PPP)</tertiary>
	</indexterm>
	<indexterm>
	  <primary>installation</primary>
	  <secondary>network</secondary>
	  <tertiary>parallel (PLIP)</tertiary>
	</indexterm>
	<indexterm>
	  <primary>installation</primary>
	  <secondary>network</secondary>
	  <tertiary>Ethernet</tertiary>
	</indexterm>

	<para>3 種類のネットワークインストールを行うことができます。
	  イーサネット、PPP、そして、PLIP です。</para>

	<para>最も高速なネットワークインストールを行うには、
	  イーサネットアダプタを使ってください。
	  &os; はきわめて多くの PC イーサネットカードをサポートしています。
	  サポートされているカードの一覧は、
	  &os; それぞれのリリースのハードウェアノートで提供されます。
	  サポートされている PCMCIA イーサネットカードを使う場合、
	  システムの電源を入れる<emphasis>前に</emphasis>差し込んでおくことに注意してください。
	  &os; はインストール時の PCMCIA
	  カードの活線挿抜には対応していません。</para>

	<para>静的に設定する場合には、システムの IP アドレス、
	  サブネットマスク、ホスト名、デフォルトゲートウェイアドレス、
	  DNS サーバアドレスを知っておくことが必要です。
	  HTTP プロキシ経由で FTP インストールを行いたい場合には、
	  プロキシサーバのアドレスも必要となります。
	  これらの情報を知らない場合には、
	  イーサネット経由でのインストールを始める<emphasis>前に</emphasis>、
	  ネットワーク管理者か ISP に相談するべきでしょう。</para>

	<para>もしダイアルアップモデムを使用しているなら、
	  インストールプロセスの初期にサービスプロバイダの PPP
	  の情報が必要となるので、この情報を手元に用意してください。</para>

	<para>もし <acronym>ISP</acronym> に接続するのに PAP や CHAP
	  を用いていて、スクリプトを使用していないのであれば、
	  <command>dial</command> と &os; の <application>ppp</application>
	  のプロンプトに対して入力してください。
	  それ以外の場合、モデム固有の <quote>AT コマンド</quote>を使って
	  <acronym>ISP</acronym> にダイヤルする方法を知っておく必要があります。
	  PPP ダイヤラはとてもシンプルな端末エミュレータしか提供していません。
	  これ以上の情報については <xref linkend="userppp"/> や <uri xlink:href="&url.books.faq;/ppp.html">&url.books.faq;/ppp.html</uri>
	  を参照してください。
	  <command>set log local ...</command>
	  コマンドを用いてログを画面に吐くこともできます。</para>

	<para>&os; の動いている別のマシンと直接接続が可能でしたら、
	  ヌルモデムパラレルポートケーブルを介してインストールすることもできます。
	  パラレルポート経由のデータ転送スピードは、
	  シリアルラインでの一般的なスピードよりも高速です。</para>

	<sect3>
	  <title><acronym>NFS</acronym> 経由のインストールの前に</title>

	  <indexterm>
	    <primary>installation</primary>
	    <secondary>network</secondary>
	    <tertiary>NFS</tertiary>
	  </indexterm>

	  <para><acronym>NFS</acronym> インストールはまったく単純明快です。
	    &os; の配布ファイルを <acronym>NFS</acronym>
	    サーバの好きな場所にコピーしておいて、
	    インストーラのメディア選択で <acronym>NFS</acronym>
	    を選択してください。</para>

	  <para>もしサーバが<quote>特権ポート</quote>へのアクセスのみをサポートしている場合、
	    インストールを進める前に <guimenu>Options</guimenu> メニューで
	    <literal>NFS Secure</literal> を選択してください。</para>

	  <para>イーサネットカードの性能が悪く、
	    転送速度が遅くて困っている場合には、
	    <literal>NFS Slow</literal> フラグを選択するといいでしょう。</para>

	  <para><acronym>NFS</acronym> 経由でインストールするためには、
	    サブディレクトリも含んだマウントにサーバが対応している必要があります。
	    例えば &os;&nbsp;&rel.current; の配布ファイルが
	    <filename>ziggy:/usr/archive/stuff/FreeBSD</filename>,
	    にあるとすると、マシン <systemitem>ziggy</systemitem> では
	    <filename>/usr</filename> や
	    <filename>/usr/archive/stuff</filename>
	    だけでなく <filename>/usr/archive/stuff/FreeBSD</filename>
	    の直接マウントが可能になっていなければなりません。</para>

	  <para>&os; の <filename>/etc/exports</filename>
	    ファイルでは、このことは <option>-alldirs</option>
	    によって制御されています。
	    他の <acronym>NFS</acronym>
	    サーバの場合だとまた話が違ってくるかもしれません。
	    もしサーバから <errorname>permission denied</errorname>
	    が返ってくるようでしたら、
	    サブディレクトリマウントをちゃんと有効にできていないことが考えられます。</para>
	</sect3>
      </sect2>
  </sect1>
</chapter>
