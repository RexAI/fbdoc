<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE report PUBLIC "-//FreeBSD//DTD FreeBSD XML Database for Status Report//EN" "http://www.FreeBSD.org/XML/share/xml/statusreport.dtd" >
<!-- $FreeBSD$ -->
<report>
  <date>
    <month>April-June</month>

    <year>2013</year>
  </date>

  <section>
    <title>Introduction</title>

    <p>This report covers &os;-related projects between April and June
      2013.  This is the second of four reports planned for 2013.</p>

    <p>The last three months have been very active for the &os;
      developer community, including events such as BSDCan and the &os;
      Developer Summit collocated with it (covered in a separate report,
      see the <a
	href="report-2013-05-devsummit.html">BSDCan Developer Summit Special</a>)
      and BSD-Day 2013.  It has also seen improvements from the top to
      the bottom of the &os; system.  Desktop users will be pleased to
      note work on improving the state of AMD GPUs and making the
      console interaction with kernel mode setting &mdash; required for
      recent <tt>xorg</tt> drivers &mdash; cleaner and from continued
      work to make binary packages easier to use.  Developers will note
      continued improvements to our toolchain, with a new debugger being
      prepared for integration.  Server users will benefit from various
      improvements to virtualization support and scalability in the
      kernel.  Of course, the &os; system is nothing without
      applications to run atop it, and this quarter has seen some
      tireless work by members of the ports team to ensure that users
      have a wide choice of desktop and development environments, with
      highlights from the GNOME, KDE, Xfce, and Haskell teams in this
      report.</p>

    <p>Thanks to all the reporters for the excellent work!  This report
      contains 33 entries and we hope you enjoy reading it.</p>

    <p>The deadline for submissions covering between July and September
      2013 is October 7th, 2013.</p>
  </section>

  <category>
    <name>team</name>

    <description>&os; Team Reports</description>
  </category>

  <category>
    <name>proj</name>

    <description>Projects</description>
  </category>

  <category>
    <name>kern</name>

    <description>Kernel</description>
  </category>

  <category>
    <name>arch</name>

    <description>Architectures</description>
  </category>

  <category>
    <name>bin</name>

    <description>Userland Programs</description>
  </category>

  <category>
    <name>ports</name>

    <description>Ports</description>
  </category>

  <category>
    <name>docs</name>

    <description>Documentation</description>
  </category>

  <category>
    <name>event</name>

    <description>Events</description>
  </category>

  <category>
    <name>soc</name>

    <description>Google Summer of Code</description>
  </category>

  <category>
    <name>misc</name>

    <description>Miscellaneous</description>
  </category>

  <project cat='proj'>
    <title>PC-BSD</title>

    <contact>
      <person>
	<name>
	  <given>Kris</given>
	  <common>Moore</common>
	</name>
	<email>kmoore@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.pcbsd.org">PC-BSD Home Page</url>
    </links>

    <body>
      <p>Progress on moving PC-BSD &amp; TrueOS to a "rolling release"
	is happening quickly.  We have implemented our own package
	repository, fully based on <tt>pkg(8)</tt>, which is updated twice
	monthly, and are now hosting dedicated
	<tt>freebsd-update(8)</tt> systems.  In addition to the
	<tt>9.1-RELEASE</tt> ISO images, we have begun to create a
	<tt>9-STABLE</tt> branch as well, using
	<tt>freebsd-update(8)</tt> to push out the latest world and
	kernel binaries on a monthly basis.</p>

      <p>We are currently working on an implementation of ZFS Boot
	Environments for desktops and servers.  These users to install
	updates or experimental versions in separate ZFS clones and
	select the one to run at boot time, providing an easy way of
	testing upgrades before deployment.</p>
    </body>
  </project>

  <project cat='kern'>
    <title>Wireless Networking Improvements</title>

    <contact>
      <person>
	<name>
	  <given>Adrian</given>
	  <common>Chadd</common>
	</name>
	<email>adrian@FreeBSD.org</email>
      </person>
    </contact>

    <links/>

    <body>
      <p>Recently the &os; wireless networking stack has received
	updates in the following areas:</p>

      <ul>
	<li>Improved transmit locking in <tt>net80211(4)</tt> to
	  eliminate a whole class of subtle race conditions leading to
	  out-of-order packets being handed to the driver.</li>

	<li>Spectral scan (FFT) information is now available for the
	  AR9280, AR9285, AR9287 series NICs.</li>

	<li>Added support for AR93xx, AR94xx, AR95xx NICs &mdash;
	  <tt>hostap</tt>, <tt>adhoc</tt> and <tt>station</tt> modes
	  have been tested, including 3x3 stream support for the those
	  NICs where appropriate.</li>

	<li>Implemented ps-poll handling in <tt>hostap</tt> mode.  This
	  was required for correct behaviour with stations that implement
	  aggressive power save.</li>

	<li>Added AR933x SoC support &mdash; including all on-board
	  peripherals &mdash; the <tt>8devices.com</tt> Carambola-2
	  board is now fully supported and will run &os; from NOR
	  flash.</li>
      </ul>
    </body>
  </project>

  <project cat='arch'>
    <title>Intel IOMMU (VT-d, DMAR) Support</title>

    <contact>
      <person>
	<name>
	  <given>Konstantin</given>
	  <common>Belousov</common>
	</name>
	<email>kib@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.intel.com/content/www/us/en/intelligent-systems/intel-technology/vt-directed-io-spec.html"/>
      <url href="http://lists.freebsd.org/pipermail/freebsd-arch/2013-May/014368.html"/>
      <url href="http://people.freebsd.org/~kib/misc/dmar.1.patch"/>
    </links>

    <body>
      <p>Intel VT-d is a set of extensions that were originally designed
	to allow virtualizing devices.  It allows safe access to physical
	devices from virtual machines and can also be used for better
	isolation and performance increases.  A VT-d driver was
	developed that implements the <tt>busdma(9)</tt> interface using
	the DMA Remap units (DMARs) found in current Intel chipsets.
	The driver provides reliability and security improvements for
	the system by facilitating restricted access to main memory from
	busmastering devices.</p>

      <p>It also eliminates bounce buffering (copying) by allocating
	remapped regions that satisfy a device's access limitations.</p>

      <p>With additional work to define a suitable interface the VT-d
	driver will also provide PCI pass-through functionality for
	hypervisors.</p>

      <p>This project is sponsored by The &os; Foundation.</p>
    </body>

    <help>
      <task>Implement workarounds for chipset errata.</task>

      <task>Commit to HEAD after additional testing.</task>

      <task>Rebalance MSI/MSI-X using interrupt remapping unit, also
	required for x2APIC use on big machines.</task>

      <task>Integrate with the Intel GPU MMU and handle Ironlake and
	SandyBridge errata for the GFXVTd unit.</task>

      <task>Provide an interface for VMM (hypervisors).</task>

      <task>Consider implementing a driver for AMD's IOMMU.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>Multi-threaded Pagedaemon</title>

    <contact>
      <person>
	<name>
	  <given>Konstantin</given>
	  <common>Belousov</common>
	</name>
	<email>kib@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://people.freebsd.org/~kib/misc/pagedaemon-numa.1.patch"/>
    </links>

    <body>
      <p>This project aims to improve scalability of the virtual memory
	subsystem.  Based on a prototype change from Jeff Roberson,
	per-domain page queues and per-domain pagedaemon working threads
	have been implemented to enable this.  At the moment, the
	domains coincide with the NUMA proximity domains, but this is
	not neccessary and could be improved with further separation to
	allow more parallelism in the pagedaemon.</p>

      <p>The patch is relatively simple, with the most delicate parts
	being the page laundry and OOM logic, which requires coordination
	between all pagedaemon threads to prevent false triggering.</p>

      <p>Testing on diverse workloads and on real multi-socket machines
	is required.</p>

      <p>This project is sponsored by The &os; Foundation.</p>
    </body>

    <help>
      <task>Debug on multi-domain NUMA machine.</task>

      <task>Test, get review and commit.</task>
    </help>
  </project>

  <project cat='bin'>
    <title><tt>bsnmpd(1)</tt> Support in <tt>hastd(8)</tt></title>

    <contact>
      <person>
	<name>
	  <given>Mikolaj</given>
	  <common>Golub</common>
	</name>
	<email>trociny@FreeBSD.org</email>
      </person>
    </contact>

    <links/>

    <body>
      <p>A <tt>hastd(8)</tt> module for <tt>bsnmpd(1)</tt> has been
	committed to &os; <tt>head</tt> and merged to the
	<tt>stable/8</tt> and <tt>stable/9</tt> branches recently.  This
	module makes it possible to monitor and manage <tt>hastd(8)</tt>
	via the SNMP protocol.</p>
    </body>
  </project>

  <project cat='team'>
    <title>&os; Release Engineering Team</title>

    <contact>
      <person>
	<name>&os; Release Engineering Team</name>
	<email>re@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.freebsd.org/releases/8.4R/errata.html"/>
      <url href="http://www.freebsd.org/releases/9.2R/schedule.html"/>
    </links>

    <body>
      <p>The &os;&nbsp;8.4-RELEASE cycle completed on June 7, 2013,
	approximately two months behind the original schedule.  Please
	be sure to read the Errata Notices for any post-release issues
	discovered after 8.4-RELEASE.</p>

      <p>The &os;&nbsp;9.2-RELEASE process will begin July 6, 2013.
	Unless any critical issues arise, &os;&nbsp;9.2-RELEASE is
	expected to be available late August or early September.</p>

      <p>Users tracking the &os;&nbsp;9.<i>X</i> branch are encouraged
	to test the -BETA and -RC builds whenever possible, and provide
	feedback and report issues to the <a
	  href="http://lists.freebsd.org/pipermail/freebsd-stable">freebsd-stable
	  mailing list</a>.</p>
    </body>
  </project>

  <project cat='proj'>
    <title>Virtual Private Systems</title>

    <contact>
      <person>
	<name>
	  <given>Klaus</given>
	  <common>Ohrhallinger</common>
	</name>
	<email>k@7he.at</email>
      </person>
    </contact>

    <links>
      <url href="http://www.7he.at/freebsd/vps/"/>
      <url href="http://svnweb.freebsd.org/base/projects/vps/"/>
    </links>

    <body>
      <p>VPS for &os; is an OS-level based virtualization implementation
	that supports advanced features like live migration.  It has
	been recently imported into the Project's Subversion repository
	as a project branch.  The code is currently of alpha
	quality.</p>
    </body>

    <help>
      <task>Test with many different guest setups/applications.  All
	feedback is highly appreciated.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>KDE/&os;</title>

    <contact>
      <person>
	<name>
	  <given>KDE</given>
	  <common>&os;</common>
	</name>
	<email>kde@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://FreeBSD.kde.org">KDE/&os; home page</url>
      <url href="http://FreeBSD.kde.org/area51.php">area51</url>
    </links>

    <body>
      <p>The KDE/&os; Team has continued to improve the experience of
	KDE software and Qt under &os;.  During this quarter, the team
	has kept most of the KDE and Qt ports up-to-date, working on the
	following releases:</p>

      <ul>
	<li>KDE SC: 4.10.2, 4.10.3, 4.10.4</li>
	<li>Qt: 5.0.2 (area51)</li>
	<li>PyQt: 4.10.2; QScintilla 2.7.2; SIP: 4.14.7</li>
	<li>KDevelop: 4.5.1</li>
	<li>Calligra: 2.6.2</li>
	<li>CMake: 2.8.11.1</li>
	<li>Digikam (and KIPI-plugins): 3.1.0, 3.2.0 </li>
	<li>KDE Telepathy: 0.6.0, 0.6.1</li>
      </ul>

      <p>As a result &mdash; according to <a
	  href="http://portscout.freebsd.org/kde@freebsd.org.html">PortScout</a>
	&mdash; <tt>kde@</tt> has 473 ports (up from 431), of which
	98.73% are up-to-date (up from 93.5%).  iXsystems Inc.
	continues to provided a machine for the team to build packages
	and to test updates.  iXsystems Inc. has been providing the
	KDE/&os; Team with support for quite a long time and we are very
	grateful for that.  This quarter, we would also like to thank
	Steve Wills (<tt>swills@</tt>) for providing access to another
	machine so that we can do our work even faster.</p>

      <p>While a great deal of the team's efforts are focused towards
	packaging released code, we also take a proactive stand in
	making sure future versions of the software we port is also
	going to work well on &os;.  This involves being in close
	contact with upstream, raising awareness of &os; as an active
	project and also sending actual patches that most of the time
	benefit many other operating systems besides &os; itself.  In
	this regard, we have been dedicating a lot of time making sure
	both <tt>clang</tt> and <tt>libc++</tt> are fully supported in
	KDE and Qt.  Not only has this resulted in many patches being
	sent to these projects, but the exposure to these large code
	bases have been beneficial to the Clang-on-&os; project as well.
	Dimitry Andric (<tt>dim@</tt>) has been of great help as a point
	of contact for all the issues we have faced.</p>

      <p>As usual, the team is always looking for more testers and
	porters so please contact us and visit our home page.  It would
	be especially useful to have more helping hands on tasks such as
	getting rid of the dependency on the defunct HAL project and
	providing integration with KDE's Bluedevil Bluetooth
	interface.</p>
    </body>

    <help>
      <task>Update out-of-date ports, see <a
	  href="http://portscout.freebsd.org/kde@freebsd.org.html">PortScout</a>
	for a list.</task>
      <task>Work on KDE 4.11 and Qt 5.</task>
      <task>Make sure the whole KDE stack (including Qt) builds and works
	correctly with <tt>clang</tt> and <tt>libc++</tt>.</task>
      <task>Remove the dependency on HAL.</task>
    </help>
  </project>

  <project cat='docs'>
    <title>Upgrading the Documentation Set to DocBook 5.0</title>

    <contact>
      <person>
	<name>
	  <given>G&aacute;bor</given>
	  <common>K&ouml;vesd&aacute;n</common>
	</name>
	<email>gabor@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>The Documentation Project has been using old versions of markup
	standards until recently when we switched to a real XML
	toolchain and DocBook 4.5.  However, we still depend on obsolete
	technologies &mdash; DSSSL and Jade.  DocBook 5.0 provides
	cleaner markup and some nice new features.</p>

      <p>The objective of this project is to upgrade the documentation
	set to DocBook 5.0 and to find a way to properly render our
	sources without using DSSSL, since the DSSSL stylesheets are
	discontinued and cannot render DocBook 5.0.  The documentation
	sources have already been successfully transformed to DocBook
	5.0 and updates to the rendering process are under
	development.  The common opinion among &os; developers is that
	Java is a heavy dependency that should be avoided.  This has
	suggested the transformation of DocBook sources to TeX and use
	TeX as a rendering backend.  There are two ways to do this; the
	sources can be transformed either directly or through the XSL FO
	output generated by the stylesheets provided for the DocBook Project.
	The latter approach has been chosen as a preferred
	way since it better fits the existing documentation
	infrastructure and provides easier customization.</p>

      <p>This project is generously funded by The &os; Foundation.</p>
    </body>

    <help>
      <task>Finish the implementation of the rendering process.</task>

      <task>Integrate the rendering solution into the
	infrastructure.</task>

      <task>Merge back changes to <tt>head</tt>.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>AMD GPU Kernel Mode-setting Support</title>

    <contact>
      <person>
	<name>
	  <given>Jean-S&eacute;bastien</given>
	  <common>P&eacute;dron</common>
	</name>
	<email>dumbbell@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Konstantin</given>
	  <common>Belousov</common>
	</name>
	<email>kib@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url
	href="https://wiki.freebsd.org/AMD_GPU">Project status on the wiki</url>
    </links>

    <body>
      <p>Due to non-&os;-related activities from April to end of June,
	the project progressed slowly:</p>

      <ul>
	<li>Some important problems in TTM were fixed and several others
	  are being worked out.  Applications affected by these bugs are
	  non-linear video editing software (which do not use Xv to
	  preview the video) or "screen" of VirtualBox, for
	  instance.</li>

	<li>Regarding the locking issue with OpenGL, no work has been
	  done yet.  <tt>glxgears</tt> works but some modern desktop
	  environments or WebGL demos hang.  Once TTM bugs described
	  above are fixed, this is the next target.</li>

	<li>Patches to Mesa to make it build out-of-the-box were
	  submitted upstream.  As of writing, some were committed but
	  not all of them.  Additionally, as result of a joint work with
	  Jonathan Gray (of OpenBSD), Mesa should work on &os;, OpenBSD,
	  and hopefully on other BSD flavors without additional
	  patches.</li>
      </ul>

	<p>Several users tested the driver.  Andriy Gapon, Jonathan
	  Gray, and Mark Kettenis (of OpenBSD) submitted patches.  kyzh
	  kindly donated several discrete cards from different series.
	  A big thanks to all those contributors!</p>

	<p>The driver is still not stable enough for a wider call for
	  testers.</p>
    </body>

    <help>
      <task>Write instructions for the wiki to explain how to test the
	driver.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>Realtek RTL8188CU/RTL8192CU USB Wireless Driver</title>

    <contact>
      <person>
	<name>
	  <given>Rui</given>
	  <common>Paulo</common>
	</name>
	<email>rpaulo@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Kevin</given>
	  <common>Lo</common>
	</name>
	<email>kevlo@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>The <tt>urtwn(4)</tt> driver was imported from OpenBSD.  This
	is a driver for very small Realtek USB WiFi cards which are pretty
	inexpensive and can do 802.11n at the maximum theoretical speed
	of 150 Mbps.  They make a good addition to embedded systems such
	as the Raspberry Pi and the BeagleBone.  The driver requires
	firmware that is available in the &os; Ports Collection
	(<tt>net/urtwn-firmware-kmod</tt>).  Note that 802.11n is not
	yet supported.</p>
    </body>
  </project>

  <project cat='kern'>
    <title>ZFS TRIM and Enhanced <tt>BIO_DELETE</tt> Support</title>

    <contact>
      <person>
	<name>
	  <given>Pawel Jakub</given>
	  <common>Dawidek</common>
	</name>
	<email>pjd@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Steven</given>
	  <common>Hartland</common>
	</name>
	<email>smh@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>As of the end of June, &os;'s ZFS implementation now includes
	TRIM support in <tt>head</tt>, <tt>stable/9</tt>, and
	<tt>stable/8</tt> branches.  This allows ZFS to help maintain
	high performance on flash-based devices such as SSD's even under
	high-load conditions.</p>

      <p>When creating new pools and adding new devices to existing
	pools it first performs a full-device level TRIM to help ensure
	optimum starting performance.  This behaviour can be overridden
	by setting the <tt>vfs.zfs.vdev.trim_on_init</tt> sysctl
	variable to <tt>0</tt> if for example the disks are new or have
	already been secure erased, which can also now be done using
	<tt>camcontrol(8)</tt> security actions.</p>

      <p>In order to support TRIM, the kernel requires the underlying
	device driver supports <tt>BIO_DELETE</tt>.  This is currently
	mapped through to hardware methods such as ATA TRIM and SCSI
	UNMAP, which are commonly supported by SSDs via CAM.</p>

      <p>In order to increase the supported hardware base, CAM's SCSI
	layer was also enhanced to allow ATA TRIM via SATL ATA
	Passthrough to be used in addition to the existing UNMAP and WS
	methods.  This allows SATA disks attached to SCSI controllers
	with CAM based drivers such as <tt>mps(4)</tt> and
	<tt>mpt(4)</tt> to provide delete support.</p>

      <p>Stats for ZFS TRIM can be monitored by looking at the sysctl
	variables under <tt>kstat.zfs.misc.zio_trim</tt> in addition to
	live GEOM delete stats via the <tt>gstat -d</tt> command.</p>

      <p>This project was sponsored by <a
	  href="http://www.multiplay.com">Multiplay</a> and implemented by
	Pawel Jakub Dawidek.</p>
    </body>
  </project>

  <project cat='arch'>
    <title>Superpages for ARMv7</title>

    <contact>
      <person>
	<name>
	  <given>Zbigniew</given>
	  <common>Bodek</common>
	</name>
	<email>zbb@semihalf.com</email>
      </person>

      <person>
	<name>
	  <given>Grzegorz</given>
	  <common>Bernacki</common>
	</name>
	<email>gjb@semihalf.com</email>
      </person>

      <person>
	<name>
	  <given>Rafal</given>
	  <common>Jaworowski</common>
	</name>
	<email>raj@semihalf.com</email>
      </person>
    </contact>

    <links>
      <url href="http://static.usenix.org/events/osdi02/tech/full_papers/navarro/navarro.pdf"/>
      <url href="https://wiki.freebsd.org/ARMSuperpages"/>
      <url href="https://github.com/semihalf-bodek-zbigniew/freebsd-arm-superpages.git"/>
    </links>

    <body>
      <p>The ARM architecture is becoming more and more prevalent, with
	increasing usage beyond the mobile and embedded space.  Among
	the more interesting industry trends emerging in the recent
	months, there has been the concept of "ARM server".  Some
	top-tier companies, e.g.  Dell and HP, have already started to
	develop such systems.</p>

      <p>Key to success of &os; in these new areas is dealing with the
	sophisticated features of the platform, for example adding
	support for superpages.</p>

      <p>The objective of this project is to enable &os;/arm to utilize
	superpages which would allow efficient use of TLB translations
	(by enlarging TLB coverage), leading to improved performance in
	many applications and scalability.  This is intended to work on
	ARMv7-based processors, however compatibility with ARMv6 will be
	preserved.</p>

      <p>The following steps have been made since the last status
	report:</p>

      <ul>
	<li>Implement <tt>pmap_copy()</tt> to support <tt>fork()</tt>
	  system calls.</li>
	<li>Support for multiple page sizes.</li>
	<li>Implement superpage creation, promotion, demotion, and
	  eviction mechanisms.</li>
	<li>Implement PV entry management for superpages.</li>
	<li>Partially integrate code to the <tt>head</tt> branch.</li>
      </ul>

      <p>Next steps:</p>

      <ul>
	<li>Test and benchmark.</li>
	<li>Complete integration into &os; <tt>head</tt>.</li>
      </ul>

      <p>This project is jointly sponsored by The &os; Foundation and
	Semihalf.</p>
    </body>

    <help>
      <task>Start utilizing superpages on ARMv6/v7.</task>
      <task>Find bugs and debug.</task>
    </help>
  </project>

  <project cat='bin'>
    <title>LLDB Debugger Port</title>

    <contact>
      <person>
	<name>
	  <given>Ed</given>
	  <common>Maste</common>
	</name>
	<email>emaste@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/lldb"/>
    </links>

    <body>
      <p>LLDB is the the debugger project in the LLVM family.  It
	supports the Mac OS X, Linux, and &os; platforms, but the latter
	has recently suffered under a lack of maintenance.</p>

      <p>After cleaning bit rot in LLDB's &os; support, it again builds
	and can be used for basic debugging of single-threaded
	applications.  The test suite also runs to completion, although
	it experiences a large number of failures.</p>

      <p>Ed Maste has been granted an LLDB commit bit, and is now
	committing ongoing bug fixes and development directly to the
	upstream repository.  There is a significant amount of work
	still to be done, with one goal being the incorporation of
	<tt>lldb</tt> into the base system.</p>

      <p>This project is sponsored by DARPA/AFRL in collaboration with
	SRI International and the University of Cambridge.</p>
    </body>

    <help>
      <task>Add support for multithreaded processes.</task>
      <task>Fix watchpoints.</task>
      <task>Add support for remote debuging (<tt>gdbserver</tt> /
	<tt>debugserver</tt>).</task>
      <task>Add support for core files.</task>
      <task>Add support for kernel debugging.</task>
      <task>Verify i386 and ARM architectures.</task>
      <task>Implement MIPS target support.</task>
      <task>Verify cross-debugging.</task>
      <task>Investigate and fix test suite failures.</task>
      <task>Prepare <tt>lldb</tt> for incorporation into the base
	system.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>Native iSCSI Stack</title>

    <contact>
      <person>
	<name>
	  <given>Edward Tomasz</given>
	  <common>Napiera&#322;a</common>
	</name>
	<email>trasz@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/Native%20iSCSI%20target"/>
    </links>

    <body>
      <p>The native kernel iSCSI target and initiator project progressed
	well over the April to June period.  The primary focus was to
	introduce support for iSER (iSCSI over RDMA) in both the
	initiator and the target.  Prerequisite for this was merging
	some common parts together and implementing a workaround for the
	lack of iSER support in userspace.  Apart from that, there were
	a myriad of smaller improvements.  Such as creating more
	user-friendly administration utilities, for example
	<tt>iscsictl(8)</tt> which displays SCSI device nodes for each
	iSCSI session.  This frees the user from getting the same
	information through <tt>camcontrol(8)</tt>.  There are also
	improvements in logging and manual pages.</p>

      <p>Once the iSER support becomes stable, the work will focus on
	performance optimizations.  The plan is to commit both the new
	initiator and target in August to allow shipping them in 10.0.
	The project will continue with implementing support for software
	iWARP stack (useful mostly for testing and development), SCSI
	passthrough and various other improvements.</p>

	<p>This project is being sponsored by The &os; Foundation.</p>
    </body>

    <help>
      <task>Performance optimization.</task>
      <task>Merge to &os; <tt>head</tt>.</task>
    </help>
  </project>

  <project cat='team'>
    <title>&os; Postmaster Team</title>

    <contact>
      <person>
	<name>
	  <given>&os;</given>
	  <common>Postmaster Team</common>
	</name>
	<email>postmaster@FreeBSD.org</email>
      </person>
    </contact>

    <links/>

    <body>
      <p>In the second quarter of 2013, the &os; Postmaster Team has
	implemented the following items that may be interest of the
	general public:</p>

      <ul>
	<li>With help from <tt>clusteradm</tt>, found that
	  <tt>unbound</tt> (the resolver used on <tt>mx1</tt> and
	  <tt>mx2</tt>) is configured to perform DNSSEC validation which
	  implies that if a signed zone fails validation,
	  <tt>unbound</tt> refuses to use the information.  This had
	  caused one person to be unable to exchange email with
	  <tt>&os;.org</tt> until the zone signatures were
	  refreshed.</li>

	<li>Created the <tt>freebsd-dtrace</tt> mailing list, requested
	  by George Neville-Neil.</li>

	<li>Resurrected the <tt>freebsd-testing</tt> mailing list,
	  requested by Garrett Cooper.</li>

	<li>Created the <tt>freebsd-tex</tt> mailing list, requested by
	  Hiroki Sato.</li>

	<li>In response to another comment that our message rejection
	  message was unclear in the case that greylisting was the
	  reason, re-worded that message.</li>

	<li>Augmented the allowable MIME types for <tt>secteam</tt> with
	  the following to permit sending encrypted messages:

	  <ul>
	    <li><tt>application/pgp-encrypted</tt></li>
	    <li><tt>application/pkcs7-encrypted</tt></li>
	    <li><tt>application/x-pkcs7-encrypted</tt></li>
	    <li><tt>multipart/encrypted</tt></li>
	  </ul>
	</li>

	<li>Began replacing <tt>freebsd-mozilla</tt> with
	  <tt>freebsd-gecko</tt>.</li>
      </ul>
    </body>
  </project>

  <project cat='bin'>
    <title>Capsicum</title>

    <contact>
      <person>
	<name>
	  <given>Pawel Jakub</given>
	  <common>Dawidek</common>
	</name>
	<email>pjd@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Capsicum</given>
	  <common>Mailing List</common>
	</name>
	<email>cl-capsicum-discuss@lists.cam.ac.uk</email>
      </person>
    </contact>

    <links>
      <url href="http://www.cl.cam.ac.uk/research/security/capsicum/"/>
      <url href="https://lists.cam.ac.uk/mailman/listinfo/cl-capsicum-discuss"/>
    </links>

    <body>
      <p>Capsicum, a lightweight OS capability and sandboxing framework,
	is being actively worked on.  In the last few months the
	following tasks have been completed:</p>

      <ul>
	<li>Committed Capsicum overhaul to &os; <tt>head</tt> (r247602).
	  This allows to use capability rights in more places, simplifies
	  kernel code and implements ability to limit <tt>ioctl(2)</tt>
	  and <tt>fcntl(2)</tt> system calls.</li>

	<li><tt>hastd(8)</tt> is now using Capsicum for sandboxing, as
	  whitelisting ioctls is possible (r248297).</li>

	<li><tt>auditdistd(8)</tt> is now using Capsicum for sandboxing,
	  as it is now possible to setup append-only restriction on file
	  descriptor (available in Perforce).</li>

	<li>Implemented <tt>connectat(2)</tt> and <tt>bindat(2)</tt>
	  system calls for UNIX domain sockets that are allowed in
	  capability mode (r247667).</li>

	<li>Implemented <tt>chflagsat(2)</tt> system call
	  (r248599).</li>

	<li>Revised the Casper daemon for application capabilities.</li>

	<li>Implemented <tt>libcapsicum</tt> for application
	  capabilities.</li>

	<li>Implemented various Casper services to be able to use more
	  functionality within a sandbox: <tt>system.dns</tt>,
	  <tt>system.pwd</tt>, <tt>system.grp</tt>,
	  <tt>system.random</tt>, <tt>system.filesystem</tt>,
	  <tt>system.socket</tt>, <tt>system.sysctl</tt>.</li>

	<li>Implemented Capsicum sandboxing for <tt>kdump(1)</tt> (from
	  r251073 to r251167).  The version in Perforce also supports
	  sandboxing for the <tt>-r</tt> flag, using Casper
	  services.</li>

	<li>Implemented Capsicum sandboxing for <tt>dhclient(8)</tt>
	  (from r252612 to r252697).</li>

	<li>Implemented Capsicum sandboxing for <tt>tcpdump(8)</tt>
	  (available in Perforce).</li>

	<li>Implemented Capsicum sandboxing for <tt>libmagic(3)</tt>
	  (available in Perforce).</li>

	<li>Implemented the <tt>libnv</tt> library for name/value pairs
	  handling in the hope of wider adaptation across &os;.</li>
      </ul>

      <p>For Capsicum-based sandboxing in the &os; base system, the
	commits referenced above and the provided code aim to serve as
	examples.  We would like to see more &os; tools to be sandboxed
	&mdash; every tool that can parse data from untrusted sources,
	for example.  This requires deep understanding of how the tool
	in question works, not necessarily only Capsicum.</p>

      <p>This work is being sponsored by The &os; Foundation.</p>
    </body>

    <help>
      <task>Get involved, make the Internet finally(!) a secure place.
	Contact us at the <tt>cl-capsicum-discuss</tt> mailing list,
	where we can provide guidelines on how to do sandboxing
	properly.  The fame is there, waiting.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>Xfce/&os;</title>

    <contact>
      <person>
	<name>
	  <given>&os; Xfce Team</given>
	</name>
	<email>xfce@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/Xfce"/>
    </links>

    <body>
      <p>The &os; Xfce Team has updated its ports to the latest stable
	releases, especially:</p>

      <ul>
	<li>Core (mostly bugfixes and translation updates):</li>

	<ul>
	  <li><tt>deskutils/xfce4-tumbler</tt> (0.1.29)</li>
	  <li><tt>x11-wm/xfce4-panel</tt> (4.10.1)</li>
	  <li><tt>sysutils/xfce4-settings</tt> (4.10.1)</li>
	  <li><tt>x11-wm/xfce4-session</tt> (4.10.1)</li>
	  <li><tt>sysutils/garcon</tt> (0.2.1)</li>
	  <li><tt>x11/libxfce4util</tt> (4.10.1)</li>
	  <li><tt>x11-wm/xfce4-wm</tt> (4.10.1)</li>
	</ul>

	<li>Applications:</li>

	<ul>
	  <li><tt>multimedia/xfce4-parole</tt> (0.5.1)</li>
	  <li><tt>www/midori</tt> (0.5.2)</li>
	  <li><tt>deskutils/xfce4-notifyd</tt> (0.2.4)</li>
	  <li><tt>misc/xfce4-appfinder</tt> (4.10.1)</li>
	  <li><tt>x11/xfce4-terminal</tt> (0.6.2)</li>
	  <li><tt>x11-fm/thunar</tt> (1.6.3)</li>
	</ul>

	<li>Panel plugins:</li>

	<ul>
	  <li><tt>deskutils/xfce4-xkb-plugin</tt> (0.5.6)</li>
	  <li><tt>textproc/xfce4-dict-plugin</tt> (0.7.0)</li>
	  <li><tt>x11-clocks/xfce4-timer-plugin</tt> (1.5.0)</li>
	  <li><tt>x11/xfce4-embed-plugin</tt> (new)</li>
	</ul>

	<li>Thunar plugins:</li>

	<ul>
	  <li><tt>audio/thunar-media-tags-plugin</tt> (0.2.1)</li>
	  <li><tt>archivers/thunar-archive-plugin</tt> (0.3.1)</li>
	</ul>

	<li><tt>x11/xfce4-embed-plugin</tt> can integrate any
	  application window into the Xfce panel.</li>

	<li>A new plugin is also available which monitors and displays earthquakes,
	  it is called <a
	    href="http://people.freebsd.org/~olivierd/xfce4-equake-plugin.shar">xfce4-equake-plugin</a>.</li>
      </ul>
    </body>

    <help>
      <task>Fix CPU issue with <tt>textproc/xfce4-dict-plugin</tt> (<a
	  href="https://bugzilla.xfce.org/show_bug.cgi?id=10103">bug #10103</a>).</task>

      <task>Investigate why <tt>midori-gtk3</tt> crashes too often.
	(The port is finished, but some libraries are not present by
	default in ports tree).</task>

      <task>Fix <tt>x11-themes/gtk-xfce-engine</tt> with Gtk+ >=3.6.</task>
    </help>
  </project>

  <project cat='team'>
    <title>&os; Security Team</title>

    <contact>
      <person>
	<name>
	  <given>&os; Security Team</given>
	</name>
	<email>secteam@FreeBSD.org</email>
      </person>
    </contact>

    <links/>

    <body>
      <p>On April 15th Dag-Erling Sm&oslash;rgrav and Xin Li took over
	as security officers for the &os; Project, and the team welcomed
	Qing Li back to the team in June.  This report briefly
	summarizes the work of the Security Team from April until the
	end of June.</p>

      <p>The Security Team has released the following advisories:</p>

      <ul>
	<li><tt>FreeBSD-SA-13:05.nfsserver</tt>: Insufficient input
	  validation in the NFS server (<tt>nfsd(8)</tt>), reported by
	  Adam Nowacki.</li>

	<li><tt>FreeBSD-SA-13:06.mmap</tt>: Privilege escalation via
	  <tt>mmap()</tt>, reported by Konstantin Belousov.</li>
      </ul>

      <p>The Security Team has contributed to the following errata
	notices:</p>

      <ul>
	<li><tt>FreeBSD-EN-13:02.vtnet</tt>: Frames are not properly
	  forwarded to <tt>vtnet(4)</tt> when two or more MAC addresses
	  are configured on QEMU 1.4.0 and later in 8.4-RELEASE,
	  reported by Julian Stecklina.</li>

	<li><tt>FreeBSD-EN-13:01.fxp</tt>: Initialization of
	  <tt>fxp(4)</tt> network interfaces results in an infinite loop
	  with <tt>dhclient(8)</tt> in 8.4-RELEASE, reported by Michael
	  L. Squires.</li>
      </ul>

      <p>Per the request of Baptiste Daroussin, the Security Team has
	also reviewed the source code of Poudriere, the port build and
	test system which is planned to be used for producing
	<tt>pkg(8)</tt> ("new-style") packages on the &os; cluster.</p>
    </body>
  </project>

  <project cat='event'>
    <title>BSD-Day 2013</title>

    <contact>
      <person>
	<name>
	  <given>G&aacute;bor</given>
	  <common>P&aacute;li</common>
	</name>
	<email>pgj@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://bsdday.eu/2013">BSD-Day 2013 web site</url>
      <url
	href="http://www.youtube.com/playlist?list=PLJJHfhjb5TOjB-sHRwJBGWd8XA7nc1gk_">YouTube playlist of talks</url>
      <url
	href="https://picasaweb.google.com/116452848880746560170/BSDDay2013?authkey=Gv1sRgCNvIoMWoxNTRYw">Event photo album</url>
    </links>

    <body>
      <p>The BSD-Day is a now recurring excuse for BSD developers and
	users to meet up in person, share some beers and talk about what
	they are working on these days.  There was a detour this year to
	visit the beautiful city of Naples of Italy, the home of pizza.
	Fortunately, the event has again gained support from numerous
	and generous sponsors, such as The &os; Foundation, the EMC
	Corporation, iXsystems, FreeBSDMall, BSD Magazine, and many
	others which enabled us to cover the costs of travel and
	accommodation for the speakers.  We are really grateful for
	this.</p>

      <p>Similarly to the previous years, the whole event started with a
	dinner in the downtown (somewhere around the Irish Pub) on
	Friday which suddenly turned into a do-it-yourself pizza-fest.
	Then it was followed by the Saturday event at the Institute of
	Biostructures and Bioimaging.  There we had a lot of attendees
	for the associated BSDA exam in the morning &mdash; 8 persons.
	The event itself had many interesting topics as well, for
	example moving MCLinker into the BSD world, organization and
	culture of the &os; Project, the new <tt>callout(9)</tt>
	framework, building and testing ports with Poudriere and
	Tinderbox, &os; in the embedded space, or building reliable VPN
	networks with OpenBSD.  See the links in the report for
	more.</p>
    </body>
  </project>

  <project cat='ports'>
    <title>xorg on &os;</title>

    <contact>
      <person>
	<email>x11@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Niclas</given>
	  <common>Zeising</common>
	</name>
	<email>zeising@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Koop</given>
	  <common>Mast</common>
	</name>
	<email>kwm@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://wiki.freebsd.org/Xorg"/>
      <url href="http://trillian.chruetertee.ch/ports/browser/trunk"/>
    </links>

    <body>
      <p>During the beginning of this quarter, work focused on making
	the <tt>xorg</tt> update as robust and stable as possible in
	preparation for the merge to ports.  As a part of this, ports
	exp-runs were performed to find and resolve regressions and
	other issues.  Once this was completed, <tt>xorg</tt> was
	updated to version 7.7 on May 25, after more than a year of hard
	work.</p>

      <p>After the update, work immediately shifted to focus on updating
	and patching <tt>xorg</tt> client libraries, since numerous
	security issues had been identified in those.  Unfortunately,
	this took a little longer than anticipated, but all fixes were
	comitted eventually.</p>

      <p>There has also been work on making the new <tt>xorg</tt>
	distribution the default for &os;&nbsp;9.1 and later.  A patch
	was sent out and tested with good results, but this is currently
	postponed because switching virtual terminals is not working
	with the KMS driver.</p>

      <p>Currently, work is focusing on keeping <tt>xorg</tt> drivers
	and libraries up to date.  Instead of making big updates every
	year or less, minor updates to some libraries, applications and
	drivers happen fairly regularly.  Focus is also starting to
	shift towards newer versions of MESA and <tt>xorg-server</tt>,
	but this is still very experimental.</p>
    </body>

    <help>
      <task>Continue the porting effort of recent versions of MESA.
	This is ongoing work, but integrating this into the development
	repo is hard work.  Once this is completed, and KMS support for
	ATI is more mature, more testing can be done.</task>

      <task>Port Wayland.  The future of graphical environments in open
	source operating system seems to be Wayland.  This needs to be
	ported to &os; so that a wider audience can test it, and so that
	it eventually can be integrated into the ports tree, perhaps as
	a replacement for the current <tt>xorg</tt>.</task>

      <task>Look into replacements for HAL.  HAL is used for
	hot-plugging of devices, but it has been long abandoned by
	Linux.  A replacement, perhaps built on top of <tt>devd(8)</tt>,
	would be nice to have.  This work should be coordinated with the
	&os; GNOME and KDE teams.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>&os; Haskell Ports</title>

    <contact>
      <person>
	<name>
	  <given>G&aacute;bor</given>
	  <common>P&aacute;li</common>
	</name>
	<email>pgj@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Ashish</given>
	  <common>SHUKLA</common>
	</name>
	<email>ashish@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://wiki.freebsd.org/Haskell">&os; Haskell wiki page</url>
      <url href="https://github.com/freebsd-haskell/ports/">&os; Haskell ports repository</url>
      <url href="http://haskell.inf.elte.hu/packages/">Experimental pkg(8) package repositories</url>
    </links>

    <body>
      <p>We are proud to announce that the &os; Haskell Team has updated
	the Haskell Platform to 2013.2.0.0, GHC to 7.6.3, as well as
	updated existing ports to their latest stable versions.  In this
	update, we provided experimental support for LLVM-based code
	generation (disabled by default) to Haskell ports.  We also
	added a number of new ports, which brings their count in the
	&os; Ports Collection to 402, and now Haskell ports play nicer
	with <tt>portmaster(8)</tt>-based upgrades.</p>

      <p>In cooperation with Konstantin Belousov and Dimitry Andric, we
	have managed to unbreak the build of GHC on 32-bit 10.x systems,
	so we have packages for 10.x again.  However, it turned out that
	this bug (in thread signal delivery) can also affect the
	building process for other platforms as well, which explains
	some of the strange build breakages our users experienced in the
	past.</p>

      <p>We have also learned that there is <a
	  href="http://www.haskell.org/pipermail/ghc-devs/2013-June/001506.html">ongoing work</a>
	in the GHC upstream which will allow us to provide support for
	building with Clang natively once GHC&nbsp;7.8 becomes part of
	the Haskell Platform.</p>
    </body>

    <help>
      <task>Test experimental Clang/LLVM code generation support to
	enable it by default.</task>

      <task>Commit pending Haskell ports to the ports tree.</task>

      <task>Port more (popular) Cabal packages.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>V4L2 Update in the Linuxulator</title>

    <contact>
      <person>
	<name>
	  <given>Alexander</given>
	  <common>Leidinger</common>
	</name>
	<email>netchild@FreeBSD.org</email>
      </person>
    </contact>

    <links/>

    <body>
      <p>The V4L2 support in the linuxulator was updated in &os;
	<tt>head</tt>.  This lets Skype v4 display video.</p>
    </body>

    <help>
      <task>Find out why audio in Skype v4 stops working after some
	calls.</task>
    </help>
  </project>

  <project cat='bin'>
    <title><tt>bsdconfig(8)</tt> and <tt>sysrc(8)</tt></title>

    <contact>
      <person>
	<name>
	  <given>Devin</given>
	  <common>Teske</common>
	</name>
	<email>dteske@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://druidbsd.sourceforge.net/"/>
    </links>

    <body>
      <p>New utilities have been introduced in &os; base system:
	<tt>bsdconfig(8)</tt> and <tt>sysrc(8)</tt>.
	<tt>bsdconfig(8)</tt> is a replacement for the post-install
	abilities of deprecated <tt>sysinstall(8)</tt>, while
	<tt>sysrc(8)</tt> is a robust utility for managing
	<tt>rc.conf(5)</tt> from the command line without a text
	editor.</p>
    </body>
  </project>

  <project cat='soc'>
    <title>Qt and GTK+ Frontends for <tt>pkg(8)</tt></title>

    <contact>
      <person>
	<name>
	  <given>Justin</given>
	  <common>Muniz</common>
	</name>
	<email>jmuniz@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Eitan</given>
	  <common>Adler</common>
	</name>
	<email>eadler@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/SummerOfCode2013/pkgQtGtk"/>
    </links>

    <body>
      <p>This project is part of Google Summer of Code.  Work has only
just begun, and the code is in its infancy.  The Subversion repository
holds experimental code that is actively being developed.  Development
should be concluded before the end of September, and the project will
enter the maintenance phase of its life cycle.</p>
    </body>

    <help>
      <task>Work with Matt Windsor to create a <tt>pkg(8)</tt> backend
	for PackageKit.</task>

      <task>Extend PackageKit's Qt frontend to offer more functionality
through <tt>pkg(8)</tt>.</task>

      <task>Extend PackageKit's GKT+ frontend to offer more
functionality through <tt>pkg(8)</tt>.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>GNOME/&os;</title>

    <contact>
      <person>
	<name>
	  <given>&os; GNOME Team</given>
	</name>
	<email>gnome@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.FreeBSD.org/gnome/"/>
    </links>

    <body>
      <p>The GNOME&nbsp;3.6 work is moving along slowly but steadily.
	Almost all the GNOME&nbsp;3 desktop ports were updated to their
	corresponding 3.6 versions.</p>

      <p>A big challenge was taken by getting the <tt>webkit-gtk3</tt>
	port updated to 2.0.3.  Currently programs using
	<tt>webkit-gtk3</tt> crash on launch.  It is hard to find the
	causes as the debug build of <tt>webkit-gtk</tt> either runs out of
	memory or disk space on the developement system used.</p>
    </body>

    <help>
      <task>Update the &os; GNOME website with recent changes in the
	ports tree, add new items in preparation for GNOME&nbsp;3 and
	Mate, etc.</task>

      <task>Merge Glib 2.36, GTK+ 3.8 and related ports back to the
	Ports Collection.</task>

      <task>Continue work on GNOME&nbsp;3.6, fix bugs and write code for
	missing features.</task>

      <task>Complete the port of MATE.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>Xen Support Improvements</title>

    <contact>
      <person>
	<name>
	  <given>Justin T.</given>
	  <common>Gibbs</common>
	</name>
	<email>gibbs@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Will</given>
	  <common>Andrews</common>
	</name>
	<email>will@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Andre</given>
	  <common>Oppermann</common>
	</name>
	<email>andre@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Roger</given>
	  <common>Pau Monn&eacute;</common>
	</name>
	<email>roger.pau@citrix.com</email>
      </person>
    </contact>

    <links>
      <url href="http://xenbits.xen.org/gitweb/?p=people/royger/freebsd.git;a=summary">Git repository</url>
    </links>

    <body>
      <p>&os; Xen HVM can be further improved by using more PV
	interfaces inside a HVM guest.  So far the following items have
	been completed:</p>

      <ul>
	<li>Update Xen interface files.  (Merged into
	  <tt>head</tt>)</li>
	<li>Add support for the vector callback injection mechanism.
	  This replaces the PCI interrupt and provides a per-cpu
	  callback, which was not possible when using the PCI
	  interrupt.</li>
	<li>Rework event channel implementation and use the same code
	  paths for both PV and PVHVM.</li>
	<li>Implement PV one-shot event timers and timecounters.</li>
	<li>Implement PV IPIs.</li>
	<li>Live migration support for PV timers and PV IPIs.</li>
      </ul>

      <p>With this changes, &os; will have a complete PVHVM port, this
	will also set the ground for a future PVH port (when PVH support
	is merged into Xen).</p>

      <p>PVHVM allows a virtual machine that boots as a native guest to
	be able to take full advantage of paravirtualized drivers,
	giving a performance improvement in most I/O related tasks.  PVH
	allows a guest to take advantage of hardware assistance for
	memory management, but uses fully paravirtualized events and
	boot procedure, which brings two significant advantages beyond
	performance.  The first is that domain 0 does not have to run a
	QEMU instance for emulated boot for PVH guests, which is a
	common reason for hosting providers to charge more for Windows
	and other HVM guests.  The second is that PVH domains can be
	used as domain 0, without requiring different pmap (memory
	management) code from the conventional kernel.  This will allow
	us to ship a single kernel binary supporting bare metal
	hardware, running as a Xen unprivileged guest, and eventually as
	Xen domain 0.</p>

      <p>Further improvements on blkfront and netfront have also been
	commited:</p>

      <ul>
	<li>Fix netfront crash when detaching an interface.</li>
	<li>Enable netfront to specify a maximum TSO length limiting the
	  segment chain to what the Xen host side can handle after
	  defragmentation.</li>
	<li>Add barriers and flush support to blkfront.</li>
      </ul>

      <p>Netfront changes have been merged to <tt>stable</tt> branches,
	blkfront changes are only in <tt>head</tt>.</p>
    </body>

    <help>
      <task>Merge remaining changes into <tt>head</tt>.</task>
    </help>
  </project>

  <project cat='soc'>
    <title>New Capsicum Features</title>

    <contact>
      <person>
	<name>
	  <given>Mariusz</given>
	  <common>Zaborski</common>
	</name>
	<email>oshogbo@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Pawel Jakub</given>
	  <common>Dawidek</common>
	</name>
	<email>pjd@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/SummerOfCode2013/CapsicumFeatures"/>
    </links>

    <body>
      <p>Capsicum is a lightweight OS capability and sandboxing
	framework implemented in &os;.  This is still a new technology,
	so there is a lot of space for improvements.  Thanks to the
	Google Summer of Code program and Pawel Jakub Dawidek for
	volunteering as mentor, Mariusz will have the chance to work on
	this project in the summer.</p>

      <p>The work on sandboxing the <tt>rwho(1)</tt> and
	<tt>rwhod(8)</tt> utilities was completed recently.  There is
	also a plan to implement two new modules for Casper.  Casper is
	a daemon to provide services for applications using Capsicum's
	capability mode.  Some experimentation with implementing two new
	capability rights is in progress, so is porting one more program
	to use the existing features of the Capsicum framework.</p>
    </body>

    <help>
      <task><tt>system.unix</tt> &mdash; a Casper module provides
	connect and listen on Unix domain socket.</task>

      <task><tt>system.udp</tt> &mdash; a Casper module enabling
	connect, listen, send, and receive of UDP packets.</task>

      <task>Implementing sandboxing for <tt>fetch(1)</tt>.</task>

      <task>Introduce new capability rights: <tt>CAP_SEND_RIGHTS</tt>
	and <tt>CAP_RECV_RIGHTS</tt>.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>Improved TCP SYN Cookies</title>

    <contact>
      <person>
	<name>
	  <given>Andre</given>
	  <common>Oppermann</common>
	</name>
	<email>andre@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://docs.freebsd.org/cgi/getmsg.cgi?fetch=28838+0+current/freebsd-net">Description</url>
      <url href="http://people.freebsd.org/~andre/syncookie-20130708.diff">Patch</url>
    </links>

    <body>
      <p>We have had a SYN cookie implementation for quite some time now
	but it has some limitations with current realities for window
	scaling and SACK encoding the in the few available bits.</p>

      <p>This patch updates and improves SYN cookies mainly by:</p>

      <ol>
	<li>Encoding of MSS, WSCALE (window scaling) and SACK into the
	  ISN (initial sequence number) without the use of timestamp
	  bits.</li>

	<li>Switching to the very fast and cryptographically strong
	  SipHash-2-4 hash MAC algorithm to protect the SYN cookie
	  against forgery.</li>
      </ol>

      <p>The common parameters used on TCP sessions have changed quite a
	bit since SYN cookies were invented some 17 years ago.  Today we
	have a lot more bandwidth which makes use of window scaling
	almost mandatory.  Also SACK has become standard as it makes
	recovering from packet loss much more efficient.</p>

      <p>The original SYN cookies method only stored an indexed MSS
	value in the cookie.  This obviously is not sufficient any more
	and breaks in the presence of WSCALE.  WSCALE information is
	only exchanged during SYN and SYN-ACK.  If we cannot keep track
	of it then we severely underestimate the available send or
	receive window, compounded with the fact that with large window
	scaling the window size information on the TCP segment header
	would be even lower numerically.</p>

      <p>A number of years back, SYN cookies were extended to store the
	additional state in the TCP timestamp fields, if available on a
	connection.  It has been adopted by Linux as well.  While
	timestamps are common among the BSD, Linux and other Unix
	systems, Windows never enabled them by default, thus they are
	not present for the vast majority of clients seen on the
	Internet.</p>

      <p>The new improvement in this patch moves all necessary
	information into the ISN again, removing the need for
	timestamps.  Both the MSS and send WSCALE are stored in 3 bit
	indexed form together with a single bit for SACK.  While we
	cannot represent all possible MSS and WSCALE values in only 3
	bits each (both are 16-bit fields in the TCP header), it turns
	out that is not actually necessary.</p>

      <p>These improvements allow one to run with SYN cookies only on
	Internet-facing servers.  However while SYN cookies are
	calculated and sent all the time, they are only used when the
	syn cache overflows due to attacks or overload.  In that case
	though, you can rest assured that no significant degradation in
	TCP connection setup happens any more and that even Windows
	clients can make use of window scaling and SACK.</p>
    </body>

    <help>
      <task>Additional testing on busy servers.</task>
    </help>
  </project>

  <project cat='misc'>
    <title>The &os; Foundation</title>

    <contact>
      <person>
	<name>
	  <given>Deb</given>
	  <common>Goodkin</common>
	</name>
	<email>deb@FreeBSDFoundation.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.FreeBSDFoundation.org/"/>
    </links>

    <body>
      <p>We started the quarter with our "Raise a Million &mdash; Spend
	a Million" Spring Fundraiser.  This was the first of three major
	fundraisers scheduled for the year.  We were pleased to have
	raised $365,291 by the end of the campaign &mdash; May 31.  Last
	year, by the same time, we had raised only $56,196.  We have
	started this year off with a much better fundraising strategy.
	We want to send a big thank you to everyone out there that has
	made a donation in 2013.  Your early donations have made a
	significant impact on our fundraising endeavors so far this
	year.</p>

      <p>Some things we accomplished this last quarter are:</p>

      <ul>
	<li>Attended BSDCan in Ottawa, Texas LinuxFest in Austin,
	  SouthEast LinuxFest in Charlotte, and ICANN 46 meeting in
	  Beijing.</li>

	<li>We were a Gold Sponsor for BSDCan 2013 and sponsored 7
	  developers to attend the conference.</li>

	<li>We signed up to be a Platinum Sponsor for EuroBSDCon
	  2013.</li>

	<li>We sponsored 1 developer to attend OpenHelp.</li>

	<li>Recognized Mark Linimon, Simon L. B. Nielsen, Bjoern A.
	  Zeeb, and Ken Smith, at BSDCan, for their significant
	  contributions to &os;.  We also recognized Dan Langille for
	  his tireless effort of putting on BSDCan for 10 years.</li>

	<li>We sponsored the developer and vendor summits at BSDCan,
	  with 100 and 30 attendees respectively.</li>

	<li>We sponsored BSD-Day 2013 that was held in Naples, Italy on
	  April 6.</li>

	<li>We held our annual board meeting in Ottawa.</li>

	<li>We sponsored the following projects: Capsicum, ARM
	  Superpages, iSCSI, Page Queue Locking, Input/Output Memory
	  Management Unit, Documentation project infrastructure, and
	  writing white papers.</li>

	<li>We hired Edward Tomasz Napiera&#322;a as the second member
	  of our technical staff to work on &os; projects
	  full-time.</li>

	<li>We hired Ed Maste as Director of Project Development.</li>

	<li>With our continued support of building out the &os;
	  infrastructure, we purchased high-end servers for the Sentex Lab
	  to be used with the latest 40 Gbps Ethernet cards from Chelsio
	  to do performance testing and analysis, smaller servers for
	  firewalls for NYI and ISC, and cables to connect our Juniper
	  switches together into a bigger Juniper switch we purchased
	  for NYI.</li>
      </ul>
    </body>
  </project>

  <project cat='team'>
    <title>&os; Core Team</title>

    <contact>
      <person>
	<name>
	  <given>&os;</given>
	  <common>Core Team</common>
	</name>
	<email>core@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>In the second quarter of 2013, the Core Team approved a new
	Security Officer, Dag-Erling Sm&oslash;rgrav and his deputy, Xin
	Li.  The Core Team acknowledges Simon Nielsen, the outgoing
	Security Officer, for his work in the role.  Peter Wemm took the
	lead on the reorganization and administration of the &os;
	cluster, and with the Core Team's approval, Glen Barber and Ryan
	Steinmetz were welcomed to the cluster administration team.</p>

      <p>Based on the recommendation and experiences of Martin Wilke,
	the Core Team also supported establishing a liaison role between
	port managers and release engineers in order to improve their
	communication, especially for preparing releases.  The Core Team
	welcomes Bryan Drewery to this role.</p>

      <p>Following up on the request from Eitan Adler, the Core Team
	agreed to remove CVS from the base system, which was soon followed
	by importing a lightweight version of Subversion tools,
	implemented by Peter Wemm.</p>

      <p>There were src commit bits issued for 3 new developers and 1
	existing committer received extension in this quarter.</p>
    </body>
  </project>

  <project cat='kern'>
    <title>Newcons Reboot</title>

    <contact>
      <person>
	<name>
	  <given>Aleksandr</given>
	  <common>Rybalko</common>
	</name>
	<email>ray@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>The purpose of the Newcons project is to provide a new
	interface for console and video output to graphic devices.  This
	will allow simple drivers access the console and terminal mode
	early, and framebuffer access for <tt>xorg</tt>.  Drivers will
	not need embedded font bitmaps, color maps, or mouse cursor
	bitmaps, as the whole infrastructure will be provided by the
	<tt>vt(4)</tt> Newcons driver.</p>

      <p>As the project includes Kernel Mode Setting (KMS) integration,
	one of the goals is support for modern Xorg releases, allowing
	the kernel to switch back to virtual terminal mode after
	graphics mode or resolution used with <tt>xorg</tt> changes.</p>

      <p>There are a lot of changes involved in the project.  Main tasks
	include:</p>

      <ul>
	<li>Core functionality (almost done).</li>
	<li>Mouse support.</li>
	<li>KMS (kernel mode setting) support.</li>
	<li>USB keyboard support.</li>
	<li>Splash screen support (partially working).</li>
	<li>Driver support.</li>
	<li><tt>vidcontrol(1)</tt> support.</li>
      </ul>

      <p>The first deliverables of the project, including
	<tt>moused(8)</tt>, <tt>ukbd(4)</tt>, and KMS support are expected
	to arrive around the middle or end of August 2013.  The whole
	project is expected to complete in November 2013.</p>

      <p>This project is being sponsored by The &os; Foundation.</p>

      <p>Many thanks to Ed Schouten who started Newcons project and did
	most of the work.</p>
    </body>

    <help>
      <task>Provide different flavors of hardware for testing the
	implementation.  Do not hesitate to volunteer when a call for
	testing is announced.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>SDIO Driver</title>

    <contact>
      <person>
	<name>
	  <given>Ilya</given>
	  <common>Bakulin</common>
	</name>
	<email>ilya@bakulin.de</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.freebsd.org/SDIO">SDIO project page on the &os; wiki</url>
      <url href="https://github.com/kibab/freebsd/tree/kibab-dplug">Source code</url>
    </links>

    <body>
      <p>SDIO is an interface designed as an extension for the existing
	SD card standard, to allow connecting different peripherals to the
	host with the standard SD controller.  Peripherals currently
	sold at the general market include WLAN/BT modules, cameras,
	fingerprint readers, barcode scanners.  The driver is
	implemented as an extension to the existing MMC bus, adding a
	lot of new SDIO-specific bus methods.  Getting information about
	the card works, including querying all the supported I/O
	functions.  Simple byte transfers and multi-byte reads work.</p>

      <p>A prototype of the driver for Marvell SDIO WLAN/BT module is
	also being developed, using the existing Linux driver as a
	reference.</p>
    </body>

    <help>
      <task>Extend MMC bus interface with more SDIO-specific bus methods
	to allow child drivers to perform multi-byte in/out
	transfers.</task>

      <task>Write firmware loading code for the prototype of the WLAN
	driver.  Further work on the WLAN driver should probably be done
	as a separate project.</task>

      <task>Implement detach path.  It has not been tested yet because
	the DreamPlug hardware available does not have an external
	SDIO-capable slot.</task>
    </help>
  </project>
</report>
