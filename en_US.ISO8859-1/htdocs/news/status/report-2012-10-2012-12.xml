<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE report PUBLIC "-//FreeBSD//DTD FreeBSD XML Database for Status Report//EN" "http://www.FreeBSD.org/XML/share/xml/statusreport.dtd" >
<!-- $FreeBSD$ -->
<report>
  <date>
    <month>October-December</month>

    <year>2012</year>
  </date>

  <section>
    <title>Introduction</title>

    <p>This report covers &os;-related projects between October and
      December 2012. This is the last of four reports planned for 2012.</p>

    <p>Highlights from this status report include a very successful
      EuroBSDCon 2012 conference and associated FreeBSD Developer Summit,
      both held in Warsaw, Poland. Other highlights are several projects
      related to the FreeBSD port to the ARM architecture, extending
      support for platforms, boards and CPUs, improvements to the
      performance of the pf(4) firewall, and a new native iSCSI target.</p>

    <p>Thanks to all the reporters for the excellent work! This report
      contains 27 entries and we hope you enjoy reading it.</p>

    <p>The deadline for submissions covering the period between January
      and March 2013 is April 21st, 2013.</p>
  </section>

  <category>
    <name>proj</name>

    <description>Projects</description>
  </category>

  <category>
    <name>bin</name>

    <description>Userland Programs</description>
  </category>

  <category>
    <name>team</name>

    <description>&os; Team Reports</description>
  </category>

  <category>
    <name>kern</name>

    <description>Kernel</description>
  </category>

  <category>
    <name>docs</name>

    <description>Documentation</description>
  </category>

  <category>
    <name>arch</name>

    <description>Architectures</description>
  </category>

  <category>
    <name>ports</name>

    <description>Ports</description>
  </category>

  <category>
    <name>misc</name>

    <description>Miscellaneous</description>
  </category>

  <project cat='arch'>
    <title>&os; on BeagleBone</title>

    <contact>
      <person>
	<name>
	  <given>Tim</given>
	  <common>Kientzle</common>
	</name>
	<email>kientzle@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Oleksandr</given>
	  <common>Tymoshenko</common>
	</name>
	<email>gonzo@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Damjan</given>
	  <common>Marion</common>
	</name>
	<email>dmarion@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Brett</given>
	  <common>Wynkoop</common>
	</name>
	<email>wynkoop@wynn.com</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>&os; on BeagleBone is benefiting from the general work on ARM
	stability being done by many people, and is proving to be a nice
	testbed for our ARMv7 support. All ongoing work is happening now
	directly in -CURRENT and we expect it to be in pretty good shape
	by the time 10.0 ships.</p>

      <p>The network driver is now pretty stable; the system should be
	useful as a small network device.</p>

      <p>Occasional system snapshots are being built and advertised for
	people to test. Ask on freebsd-arm@ if you'd like to try the
	newest one.</p>
    </body>

    <help>
      <task>We need someone to finish the USB driver. Ask if you'd like
	to take this over.</task>

      <task>MMCSD performance is still rather poor.</task>

      <task>There's been discussion of how to improve the GPIO
	configuration and pinmux handling to simplify hardware
	experimentation. If we had more people to help build drivers, we
	could start supporting some of the BeagleBone capes.</task>

      <task>Mostly we just need people to use it and report any issues
	they encounter.</task>
    </help>
  </project>

  <project cat='proj'>
    <title>BHyVe</title>

    <contact>
      <person>
	<name>
	  <given>Neel</given>
	  <common>Natu</common>
	</name>
	<email>neel@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Peter</given>
	  <common>Grehan</common>
	</name>
	<email>grehan@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.FreeBSD.org/BHyVe" />
      <url href="http://www.bhyve.org/" />
    </links>

    <body>
      <p>BHyVe is a type-2 hypervisor for &os;/amd64 hosts with Intel
	VT-x and EPT CPU support. The bhyve project branch was merged
	into CURRENT on Jan 18. Work is progressing on performance, ease
	of use, AMD SVM support, and being able to run non-&os; operating
	systems.</p>
    </body>

    <help>
      <task>1. Booting Linux/*BSD/Windows</task>

      <task>2. Moving the codebase to a more modular design consisting
	of a small base and loadable modules</task>

      <task>3. Various hypervisor features such as suspend/resume/live
	migration/sparse disk support</task>
    </help>
  </project>

  <project cat='bin'>
    <title>BSD-licenced patch(1)</title>

    <contact>
      <person>
	<name>
	  <given>Pedro</given>
	  <common>Giffuni</common>
	</name>
	<email>pfg@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Gabor</given>
	  <common>Kovesdan</common>
	</name>
	<email>gabor@FreeBSD.org</email>
      </person>
      <person>
	<name>
	  <given>Xin</given>
	  <common>Li</common>
	</name>
	<email>delphij@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://code.google.com/p/bsd-patch/">Home for BSD
	patch (deprecated)</url>
    </links>

    <body>
      <p>&os; has been using for a while a very old version of GNU
	patch that is partially under the GPLv2. The original GNU patch
	utility is based on an initial implementation by Larry Wall that
	was not actually copyleft. OpenBSD did many enhancements to an
	older non-copyleft version of patch, this version was later
	adopted and further refined by DragonFlyBSD and NetBSD but there
	was no centralized development of the tool and &os; kept working
	independently. In less than a week we took the version in
	DragonFlyBSD and adapted the &os; enhancements to make it behave
	nearer to the version used natively in &os;. Most of the work was
	done by Pedro Giffuni, adapting patches from sepotvin@ and ed@,
	and additional contributions were done by Christoph Mallon, Gabor
	Kovesdan and Xin Li. As a result of this we now have a new
	version of patch committed in head/usr.bin/patch that you can try
	by using WITH_BSD_PATCH in your builds. The new patch(1) doesn't
	support the &os;-specific -I and -S options which don't seem
	necessary. In GNU patch -I actually means 'ignore whitespaces'
	and we now support it too.</p>
    </body>

    <help>
      <task>Testing.  A lot more testing.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>Common Flash Interface (CFI) driver improvements</title>

    <contact>
      <person>
	<name>
	  <given>Brooks</given>
	  <common>Davis</common>
	</name>
	<email>brooks@FreeBSD.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>The Common Flash Interface provides a common programming
	interface for a wide range of NOR flash devices commonly found in
	embedded systems. I have developed a number of improvements to
	the cfi(4) device when used on Intel StrataFlash parts.
	Unnecessary erase cycles are now avoided, devices that require
	single word writes only write changed words, and multi-word
	writes are supported for Intel and Sharp devices. Additionally
	the timeout code has been reworked and no longer imposes unneeded
	latency on operations taking less than 100us. With all of these
	changes streaming write speed has improved by more than an order
	of magnitude. Once these changes are reviewed they will be
	committed to HEAD.</p>

      <p>This work was sponsored by DARPA and AFRL.</p>
    </body>
  </project>

  <project cat='proj'>
    <title>Native iSCSI Target</title>

    <contact>
      <person>
	<name>
	  <given>Edward Tomasz</given>
	  <common>Napiera&#322;a</common>
	</name>
	<email>trasz@FreeBSD.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>During the October-December time period, the Native iSCSI
	Target project progressed to the working prototype stage. Most of
	this time was spent writing kernel-based part, an iSCSI frontend
	to the CAM Target Layer. The frontend handles iSCSI Full Feature
	phase after ctld(8) hands off the connection. The istgt-derived
	code in ctld(8) was rewritten from scratch; now it's much shorter
	and more readable. The ctladm(8) utility gained iSCSI-specific
	subcommands to handle tasks such as listing iSCSI sessions or
	forcing disconnection. The target works correctly with the &os;
	initiator.</p>
    </body>
  </project>

  <project cat="proj">
    <title>NFS Version 4</title>

    <contact>
      <person>
	<name>
	  <given>Rick</given>
	  <common>Macklem</common>
	</name>
	<email>rmacklem@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>The NFSv4.1 client, including support for pNFS for the Files
	Layout only, has now been committed to head/current. Work on
	NFSv4.1 server support has just been started and will hopefully
	be ready for head/current this summer. The client side disk
	caching of delegated files is progressing and the code is under
	projects/nfsv4-packrats in the subversion repository. Someone is
	working on server side referrals and, as such, I hope this might
	make it into 10.0 as well.</p>
    </body>
  </project>

  <project cat='proj'>
    <title>Unprivileged install and image creation</title>

    <contact>
      <person>
	<name>
	  <given>Brooks</given>
	  <common>Davis</common>
	</name>
	<email>brooks@FreeBSD.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>In order to make it easier to build releases and embedded
	system disk images I have been adding infrastructure to allow
	the install and packaging stages to the &os; build progress to
	run without root privilege. To this end I have added two
	options to the toplevel build system: The 
	<tt>-DDB_FROM_SRC</tt> option allows the install to proceed
	when the required set of passwd and group entires does not
	match the host system. The <tt>-DNO_ROOT</tt> option causes
	files to be installed as the running user and for metadata such
	as owner, group, suid bits, and file flags to be logged in a 
	<tt>${DESTDIR}/METALOG</tt> file.</p>

      <p>This work required the import of NetBSD's <tt>mtree</tt> and
	the addition of a number of features from NetBSD to
	<tt>install</tt>. I have added all &os; features to NetBSD's 
	<tt>mtree</tt> and imported it as <tt>nmtree</tt>. Before &os;
	10.0 is released I will replace our version. I have also added
	all required features to <tt>install</tt>. Changes to
	<tt>makefs</tt> were required to parse the contents of the 
	<tt>METALOG</tt> file.</p>

      <p>These new features required importing new versions of the
	pwcache(3) and vis(3) APIs from NetBSD so those portions of
	libc.</p>

      <p>In addition to modifying build infrastructure to use the new
	features of <tt>mtree</tt> and <tt>install</tt>. I corrected a
	number of cases of files being installed by programs other than 
	<tt>install</tt> or being installed more than once. A few known
	instances of duplicate directories in the output exist, but the
	results are usable in some contexts.</p>

      <p>I plan to MFC these changes as far back as the stable/8
	branch to make it possible to build all supported releases
	without root privilege.</p>

      <p>This work was sponsored by DARPA and AFRL.</p>
    </body>

    <help>
      <task>Add support for <tt>-DNO_ROOT</tt> to
	<tt>src/release/Makefile</tt> so that releases can be built
	without root privilege.</task>

      <task>Create a tool to install partition tables and file system
	images in disk image files without the use of <tt>mdctl</tt>, 
	<tt>gpart</tt>, and <tt>dd</tt>.</task>
    </help>
  </project>

  <project cat='kern'>
    <title>SMP-Friendly pf(4)</title>

    <contact>
      <person>
	<name>
	  <given>Gleb</given>
	  <common>Smirnoff</common>
	</name>
	<email>glebius@FreeBSD.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>The project is aimed at moving the pf(4) packet filter out of
	a single mutex, as well as in general improving of the &os; port.
	The project has reached its main goal. The pf(4) is no longer
	covered by single mutex and contention on network stack on pf(4)
	is now very low. The code is production ready. The projects/pf
	branch had been merged to the head branch and will be available
	in 10.0-RELEASE.</p>
    </body>
  </project>

  <project cat='arch'>
    <title>&os; on Raspberry Pi</title>

    <contact>
      <person>
	<name>
	  <given>Oleksandr</given>
	  <common>Tymoshenko</common>
	</name>
	<email>gonzo@FreeBSD.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>&os; is running on Raspberry Pi and supports the following
	peripherals:</p>
      <ul>
	<li>USB controller</li>
	<li>SDHC controller</li>
	<li>Network</li>
	<li>Framebuffer (HDMI and composite)</li>
	<li>GPIO</li>
	<li>VCHI interface</li>
      </ul>
      <p>Videocore tests (OpenGL, video decoding, audio, display access)
	work with current VCHI driver implementation.</p>
    </body>

    <help>
      <task>Add DMA mode support to USB driver. Some proof-of-concept
	code is done but more work required to finish it.</task>

      <task>Re-implement VCHI driver with more &os;-friendly
	locking.</task>

      <task>Implement more drivers: SPI, PWM, audio.</task>
    </help>
  </project>

  <project cat='proj'>
    <title>pxe_http -- booting &os; from apache</title>

    <contact>
      <person>
	<name>
	  <given>Sean</given>
	  <common>Bruno</common>
	</name>
	<email>sbruno@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url
	href="http://svnweb.FreeBSD.org/base/user/sbruno/pxe_http_head/">
	  svn repo of project</url>
    </links>

    <body>
      <p>Currently works with VirtualBox VMs and Apache 2.2 port.</p>
    </body>

    <help>
      <task>Lots and lots of compile warnings exist with clang and gcc.
	This really needs to be investigated.</task>

      <task>Better support for other webservers. Currently needs Apache
	to work.</task>

      <task>Needs another pass at basic documentation. Current
	documentation is actually quite good from the original</task>

      <task>Network stack needs audit. I'm not sure if the
	HTTP/TCP/UDP/IP code is original or based on something
	else.</task>
    </help>
  </project>

  <project cat='proj'>
    <title>UEFI</title>

    <contact>
      <person>
	<name>
	  <given>Benno</given>
	  <common>Rice</common>
	</name>
	<email>benno@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.FreeBSD.org/UEFI" />

      <url href="http://svnweb.FreeBSD.org/base/projects/uefi/" />
    </links>

    <body>
      <p>There is code in the projects/uefi branch that can build a
	working 64-bit loader for UEFI. This loader can load a kernel and
	boot to a mountroot prompt on a serial console on a system with
	&le; 1GB of RAM. Full multiuser has not yet been tested. Work is
	progressing towards having a working syscons. The issue
	preventing boot on systems with &gt; 1GB of RAM has not yet been
	found. UEFI-compatible boot media can be generated using in-tree
	tools, however there are issues with detecting the CD filesystem
	and using it as the load default. The 64-bit UEFI loader can load
	a 32-bit kernel but currently cannot hand over to it due to a
	lack of code to switch to 32-bit mode. Further research is
	required into Secure Boot.</p>
    </body>
  </project>

  <project cat='bin'>
    <title>bsdconfig(8)</title>

    <contact>
      <person>
	<name>
	  <given>Devin</given>
	  <common>Teske</common>
	</name>
	<email>dteske@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url
	href="http://svnweb.FreeBSD.org/base/head/usr.sbin/bsdconfig/">
	  Dev Tree</url>

      <url href="http://freshports.org/sysutils/bsdconfig/">Ports
	Tree</url>

      <url href="http://druidbsd.sf.net/download/bsdconfig/">Dev
	Depot</url>
    </links>

    <body>
      <p>bsdconfig(8) is actively being developed in HEAD under the
	WITH_BSDCONFIG build-requirement. Snapshots are occasionally
	taken and made available through the ports system to make testing
	on 9.0-RELEASE or higher easier on the testers. Currently HEAD is
	far beyond the version 0.7.3 sitting in ports. Upcoming changes
	will push this to version 0.8 bringing in the necessary
	frameworks required for in-depth package management and
	distribution maintenance (read: one step closer to full 1.0
	release).</p>
    </body>
  </project>

  <project cat='team'>
    <title>&os; Core Team</title>

    <contact>
      <person>
	<name>
	  <given>Core Team</given>
	</name>
	<email>core@FreeBSD.org</email>
      </person>
    </contact>

    <body>
      <p>In the fourth quarter, the Core Team granted access for 7 new
	committers, and took 1 commit bit in for safekeeping.</p>

      <p>The Core Team oversaw the response to the security incident in
	November in cooperation with the security team, port managers,
	and cluster administrators. For more information on the fallouts
	and response see the 
	<a href="http://www.FreeBSD.org/news/2012-compromise.html">
	  official announcement</a>. As a result, 9.1-RELEASE was delayed
	until late December and was released with a limited set of binary
	packages. The Core Team continues to work with developers to
	rebuild, review, and restore the package building infrastructure
	along with redports/QAT.</p>
    </body>
  </project>

  <project cat='team'>
    <title>&os; Documentation Engineering</title>

    <contact>
      <person>
	<name>
	  <given>Glen</given>
	  <common>Barber</common>
	</name>
	<email>gjb@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Marc</given>
	  <common>Fonvieille</common>
	</name>
	<email>blackend@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>G&aacute;bor</given>
	  <common>K&ouml;vesd&aacute;n</common>
	</name>
	<email>gabor@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Hiroki</given>
	  <common>Sato</common>
	</name>
	<email>hrs@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.FreeBSD.org/internal/doceng.html">
	Documentation Engineering Team Charter</url>
    </links>

    <body>
      <p>The translations/, projects/ and user/ directories of the doc
	repository have been opened with the announced policies in
	effect. These branches are now actively used for translations
	work, editing the upcoming printed version of the Handbook,
	and some doc infrastructure improvements.</p>

      <p>The next phase of the infrastructure improvements is in
	progress. It will migrate to real XML tools (with the exception
	of Jade) for validation and rendering. At the same time, the
	DocBook schema will be updated to 4.5.</p>

      <p>After long discussions, Google Analytics has been enabled on
	&os;.org webpages but access to statistical data has to be
	solicited from the Documentation Engineering Team on an
	individual and one time basis.</p>

      <p>Since July, we have added two doc committers and one
	translator.</p>
    </body>

    <help>
      <task>Help the ongoing work on printed edition of the
	Handbook.</task>

      <task>Finish the migration to XML tools.</task>
    </help>
  </project>

  <project cat='team'>
    <title>&os; Foundation</title>

    <contact>
      <person>
	<name>
	  <given>Deb</given>
	  <common>Goodkin</common>
	</name>
	<email>deb@FreeBSDFoundation.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>A strong year-end <a
	href="http://www.FreeBSDFoundation.org/announcements.shtml#fundraising">
	  fundraising campaign</a> led to the raising $770,000 in 2012.
	Thank you to everyone who made a donation to support &os;!</p>

      <p>We published our <a
	href="http://www.FreeBSDFoundation.org/press/2012Dec-newsletter.shtml">
	  year-end newsletter</a> that highlighted everything we did to
	support the &os; Project and community during the second half of
	the year.</p>

      <p>We were a Gold Sponsor for EuroBSDCon. We also attended the
	conference and developer summit. Erwin Lansing organized and
	chaired the Ports and Package Summit and Vendor Summit at
	EuroBSDCon 2012. We attended MeetBSD developer summit
	November 2012.</p>

      <p>George Neville-Neil organized and the Foundation sponsored the
	Bay Area Vendor Summit November 2012. We were represented at
	LISA.</p>

      <p>Kirk McKusick taught a tutorial and gave a keynote at EuroBSDCon
	2012, and Justin Gibbs gave a talk at ZFS Day, October 2012.</p>

      <p>We talked to DNS server software vendors and participated in
	discussions on our DNS implementation, specifically with regard
	to DNSSEC validation, at CENTR Tech September 2012 (Amsterdam,
	the Netherlands) and EuroBSDCon.</p>

      <p>We visited companies to discuss their &os; use and to help
	facilitate collaboration with the Project.</p>

      <p>Robert Watson published <a href="http://queue.acm.org/detail.cfm?id=2430732">
	  ACM Queue and Communications of the ACM: A decade of OS
	  access-control extensibility</a> and Kirk McKusick
	published <a href="http://queue.acm.org/detail.cfm?id=2367378">
	  ACM Queue and Communications of the ACM: Disks from the
	  Perspective of a File System</a>.</p>

      <p>We negotiated/supervised Foundation funded projects: porting
	&os; to the Efika ARM platform, Capsicum Component Framework,
	Native iSCSI Target implementation, and EUFI.</p>

      <p>We negotiated/supervised/funded hardware needs in &os;
	co-location centers.</p>

      <p>Many board members provided support for recovery efforts
	following the security compromise of &os;.org systems in late
	2012.</p>

      <p>We completed negotiation and provided legal counsel for the
	new website privacy policy for the &os; Project.</p>

      <p>We are now an industrial partner in the
	Cambridge/Imperial/Edinburgh EPSRC REMS project on the Rigorous
	Engineering of Mainstream Systems.</p>

      <p>We coordinated the Foundation's discussion of Jira/Java;
	conclusion, will continue to be supportive of OpenJDK and not
	restart proprietary JDK support.</p>

      <p>We implemented a donor management database to help with our
	fundraising efforts. We also began working on automating the
	donation process.</p>

      <p>We started the Faces of &os; Series where we share the story of
	a Foundation grant recipient periodically. This allows us to
	spotlight people who received Foundation funding to work on
	development projects, run conferences, travel to conferences,
	and advocate for &os;.</p>

      <p>We hired two technical staff members.</p>
    </body>
  </project>

  <project cat='team'>
    <title>Postmaster</title>

    <contact>
      <person>
	<name>
	  <given>David</given>
	  <common>Wolfskill</common>
	</name>
	<email>postmaster@FreeBSD.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
	<p>The postmaster team has expanded, with the addition of
	  Florian Smeets (flo@FreeBSD.org).</p>

	<p>We have implemented a Mailman "handler" to drop duplicate
	  messages when both copies are sent to the same list (under
	  both the "long" (e.g., "freebsd-current") and "short"
	  (e.g., "current") names).</p>

	<p>We have created several new mailing lists:</p> 
	<ul>
	  <li>freebsd-course: educational course on &os;</li>
	  <li>freebsd-numerics: Discussions of high quality
	    implementation of libm functions.</li>
	  <li>freebsd-snapshots: &os; Development Snapshot
	    Announcements</li>
	  <li>freebsd-tcltk: &os;-specific Tcl/Tk discussions</li>
	</ul>

	<p>We have also removed old mailing lists:</p> 
	<ul>
	  <li>freebsd-binup</li>
	  <li>freebsd-www (merged into freebsd-doc)</li>
	</ul>
    </body>
  </project>

  <project cat='kern'>
    <title>AMD GPUs kernel-modesetting support</title>

    <contact>
      <person>
	<name>
	  <given>Alexander</given>
	  <common>Kabaev</common>
	</name>
	<email>kan@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Jean-S&eacute;bastien</given>
	  <common>P&eacute;dron</common>
	</name>
	<email>dumbbell@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Konstantin</given>
	  <common>Belousov</common>
	</name>
	<email>kib@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.FreeBSD.org/AMD_GPU">Project status on
	the wiki</url>

      <url href="http://people.FreeBSD.org/~kib/misc/ttm.1.patch">
	Initial TTM port</url>
    </links>

    <body>
      <p>Jean-S&eacute;bastien P&eacute;dron started to port the AMD GPUs driver
	from Linux to &os; 10-CURRENT in January 2013. This work is based
	on a previous effort by Alexander Kabaev. Konstantin Belousov
	provided the initial port of the TTM memory manager.</p>

      <p>As of this writing, the driver is building but the tested
	device fails to attach.</p>

      <p>Status updates will be posted to the &os; wiki.</p>
    </body>
  </project>

  <project cat='kern'>
    <title>Unmapped I/O</title>

    <contact>
      <person>
	<name>
	  <given>Jeff</given>
	  <common>Roberson</common>
	</name>
	<email>jeff@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Konstantin</given>
	  <common>Belousov</common>
	</name>
	<email>kib@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url
	href="http://people.FreeBSD.org/~kib/misc/unmapped.13.patch">The
	  patch.</url>
    </links>

    <body>
      <p>A well-known performance problem of &os; on large SMP
	hardware is the need to invalidate TLB for all CPUs when
	instantiating and destroying the VMIO buffers. Invalidation is
	performed by sending inter-processor interrupt broadcast, which
	disrupts the execution path of each CPU, and induces latency
	on the request itself. Since most I/O requests processing require
	creation of the buffers to hold the data in the kernel, TLB
	invalidation becomes an obstacle for I/O scalability on
	many-CPU machines.</p>

      <p>The work done for flushing the TLBs is especially meaningless
	since most mappings created are not used for anything but copying
	the data from the usermode to the kernel page cache forth and
	back. Most architectures have already established facilities to
	perform such copies using much faster techniques, for instance,
	the direct map on amd64, or specially reserved per-CPU page
	frames or TLB entries on other architectures.</p>

      <p>Jeff Roberson unified the machine-specific parts of the
	busdma(9), making a common set of low-level functions available
	on each architecture. This was committed as r246713. The end
	result is that the new types of the load functions can be added
	in the single, machine-independent place. In particular, it is
	easy to modify the drivers to accept the 'unmapped' bio requests,
	which lists the vm pages for the device dma engine, instead of
	the virtual address of the kernel buffer.</p>

      <p>Konstantin Belousov developed the changes for buffer cache
	which allow the VMIO buffers to not map the referenced pages, and
	used the feature for UFS. Per-architecture pmap_copy_pages(9)
	methods were added to facilitate fast copying between user I/O
	buffers and pages of unmapped buffers. The unmapped buffers
	create the unmapped bio requests for the drivers, support for
	which was made possible by Jeff's patch.</p>

      <p>Tests show that even on a small 4-core machine, the system
	time for reading files on UFS is reduced by 30%.</p>
    </body>

    <help>
      <task>Test the patch, in particular, on non-x86
	architectures.</task>
    </help>
  </project>

  <project cat='docs'>
    <title>The &os; Japanese Documentation Project</title>

    <contact>
      <person>
	<name>
	  <given>Hiroki</given>
	  <common>Sato</common>
	</name>
	<email>hrs@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Ryusuke</given>
	  <common>Suzuki</common>
	</name>
	<email>ryusuke@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.FreeBSD.org/ja/">Japanese &os; Web
	Page</url>

      <url href="http://www.jp.FreeBSD.org/doc-jp/">The &os; Japanese
	Documentation Project Web Page</url>
    </links>

    <body>
      <p>The ja_JP.eucJP subtree has constantly been updated since the
	last status report.</p>

      <p>In &os; Handbook, translation work of the "users" section has
	been completed. "linuxemu" and "serialcomms" were updated and
	subsection "Subversion mirror site" was newly added to "mirrors"
	section.</p>
    </body>

    <help>
      <task>Further translation work of outdated documents in the
	<tt>ja_JP.eucJP</tt> subtree.</task>
    </help>
  </project>

  <project cat='arch'>
    <title>&os; on AARCH64</title>

    <contact>
      <person>
	<name>
	  <given>Andrew</given>
	  <common>Turner</common>
	</name>
	<email>andrew@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://github.com/zxombie/aarch64-freebsd-sandbox" />

      <url
	href="http://www.arm.com/products/tools/models/fast-models/foundation-model.php" />
    </links>

    <body>
      <p>Work has started on porting &os; to AARCH64, ARM's new 64-bit
	architecture, using the ARMv8 Foundation Model software. GCC and
	binutils have been ported to &os; and work started on kernel
	initialization, including MMU setup.</p>
    </body>

    <help>
      <task>Get the MMU working</task>

      <task>Get system register documentation from ARM</task>

      <task>Port clang AArch64 to &os;</task>

      <task>Bring the code into a &os; project branch</task>
    </help>
  </project>

  <project cat='arch'>
    <title>Compiler improvements for &os;/ARMv6</title>

    <contact>
      <person>
	<name>
	  <given>Andrew</given>
	  <common>Turner</common>
	</name>
	<email>andrew@FreeBSD.org</email>
      </person>
    </contact>

    <links>
    </links>

    <body>
      <p>&os;/ARM architecture is now supported by the in-tree clang
	compiler. ARM EABI support is now available for both clang and
	gcc along with the older and less documented OABI. There are
	several outstanding issues, once they are fixed EABI will be
	made default.</p>
    </body>

    <help>
      <task>Test EABI builds</task>

      <task>Fix exception handling for EABI</task>

      <task>Test clang builds</task>

      <task>Get clang to work natively on EABI-based ARM system.
	Currently it works only as cross-compiler for ARM EABI.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>&os; Haskell Ports</title>

    <contact>
      <person>
	<name>
	  <given>G&aacute;bor</given>
	  <common>P&Aacute;LI</common>
	</name>
	<email>pgj@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Ashish</given>
	  <common>SHUKLA</common>
	</name>
	<email>ashish@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://wiki.FreeBSD.org/Haskell">&os; Haskell wiki
	page</url>

      <url href="https://github.com/FreeBSD-haskell/FreeBSD-haskell/">
	&os; Haskell ports repository</url>
    </links>

    <body>
      <p>We are proud to announce that the &os; Haskell Team has
	updated the Haskell Platform to 2012.4.0.0, GHC to 7.4.2 as well
	as updated existing ports to their latest stable versions. All
	Haskell ports are also updated to use new OPTIONS framework, and
	now, building with dynamic libraries (DYNAMIC) is on by default.
	GHC also uses GCC 4.6 and binutils 2.22 from ports. We also added
	a number of new Haskell ports, and their count in &os; Ports tree
	is now 368.</p>
    </body>

    <help>
      <task>Test GHC to work with clang/LLVM.</task>

      <task>Commit pending Haskell ports to the &os; Ports tree.</task>

      <task>Add more ports to the Ports Collection.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>KDE/&os;</title>

    <contact>
      <person>
	<name>
	  <given>KDE</given>
	  <common>FreeBSD</common>
	</name>
	<email>kde@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://FreeBSD.kde.org">KDE/FreeBSD home page</url>

      <url href="http://FreeBSD.kde.org/area51.php">area51</url>
    </links>

    <body>
      <p>The KDE/&os; team have continued to improve the experience of
	KDE software and Qt under &os;. The latest round of improvements
	include:</p> 
      <ul>
	<li>Fix handling of Removable property in solid engine</li>

	<li>Fix management of backlight with UPower (requires
	  acpi_video(4))</li>

	<li>Installing spell-checking dictionaries with a dependency of
	  KDE-locale ports</li>
      </ul>

      <p>The team has also made many releases and upstreamed many fixes
	and patches. The latest round of releases include:</p>
      <ul>
	<li>KDE SC: 4.9.2 (area51)</li>

	<li>PyQt: 4.9.5 (area51); SIP: 4.14 (area51)</li>

	<li>KDevelop: 4.4.0, 4.4.1 (area51); KDevPlatform: 1.4.0, 1.4.1
	  (area51)</li>

	<li>Calligra: 2.5.3, 2.5.4 (area51)</li>

	<li>CMake: 2.8.10.1</li>

	<li>Many smaller ports</li>
      </ul>

      <p>The team is always looking for more testers and porters so
	please contact us at kde@FreeBSD.org and visit our home page at 
	<a href="http://FreeBSD.kde.org">http://FreeBSD.kde.org</a>.</p>
    </body>

    <help>
      <task>Updating out-of-date ports, see 
	<a href="http://portscout.FreeBSD.org/kde@freebsd.org.html">PortScout</a>
	for a list</task>
    </help>
  </project>

  <project cat='ports'>
    <title>Ports Collection</title>

    <contact>
      <person>
	<name>
	  <given>Thomas</given>
	  <common>Abthorpe</common>
	</name>
	<email>portmgr-secretary@FreeBSD.org</email>
      </person>

      <person>
	<name>
	  <given>Port</given>
	  <common>Management Team</common>
	</name>
	<email>portmgr@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.FreeBSD.org/ports/" />

      <url
	href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/contributing-ports/" />

      <url href="http://portsmon.FreeBSD.org/index.html" />

      <url href="http://www.FreeBSD.org/portmgr/index.html" />

      <url href="http://blogs.FreeBSDish.org/portmgr/" />

      <url href="http://www.twitter.com/freebsd_portmgr/" />

      <url href="http://www.facebook.com/portmgr" />
    </links>

    <body>
      <p>The ports tree crossed the threshold of 24,000 ports, while the
	PR count still is close to 1600.</p>

      <p>In Q4 we added five new committers and took in two commit bits
	for safe keeping.</p>

      <p>In the tradition of recruiting new portmgr@ at conferences, we
	added Bernhard Froehlich to our ranks. He is the one responsible
	for redports.org</p>

      <p>Pav Lucistnik stepped down from his role on portmgr, he was
	one of our principles doing -exp runs and well known for sending
	failmails.</p>

      <p>In the well publicised compromise, the pointyhat machines were
	broken into and subsequently taken down, isolated and sanitised.
	As a pre-emptive move redports/QAT were also taken down. Work is
	under way to restore the services.</p>

      <p>Mark Linimon began a from-scratch test install on one of his
	own spare machines with the purpose of documenting all the
	missing steps from the portbuild article. While doing so, he
	further overhauled the codebase to both make it easier to
	install, and to further refactor it in light of a security review
	(still ongoing at time of this writing). Once this is complete,
	the next task will be to reinstall all existing machines from
	scratch.</p>
    </body>

    <help>
      <task>Most ports PRs are assigned, we now need to focus on
	testing, committing and closing.</task>
    </help>
  </project>

  <project cat='ports'>
    <title>Xfce</title>

    <contact>
      <person>
	<email>xfce@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="https://wiki.FreeBSD.org/Xfce" />
    </links>

    <body>
      <p>A major update has been made to
	<strong>Thunar</strong> (file manager for the Xfce Desktop
	Environment).</p>

      <p><em>1.6.x</em> series introduce lots of improvements, most
	noticeably is <strong>tabs support</strong>, and the performance
	has been improved.</p>
    </body>

    <help>
      <task>Try to fix HSTS (HTTP Strict Transport Security) feature in
	Midori with Vala 0.12.1 (works fine with Vala &ge; 0.14.x)</task>

      <task>Replace libxfce4gui (deprecated and not maintained by
	upstream) by libxfce4ui in order to enhance support for Xfce &ge;
	4.10.</task>

      <task>Test core and plugins (panel, Thunar) with GLib &ge; 4.32
	(to replace deprecated and removed functions introduced since
	GLib 2.30).</task>

      <task>Fix gtk-xfce-engine with Gtk+ &ge; 3.6.</task>
    </help>
  </project>

  <project cat='soc'>
    <title>Google Summer of Code 2013</title>

    <contact>
      <person>
	<name>
	  <given>
	  </given>
	  <common>FreeBSD Summer of Code Administrators</common>
	</name>
	<email>soc-admins@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://www.FreeBSD.org/projects/summerofcode.html">
	FreeBSD Summer of Code page</url>

      <url
	href="http://google-opensource.blogspot.co.uk/2013/02/flip-bits-not-burgers-google-summer-of.html">
	  Google announcement of Summer of Code 2013</url>

      <url
	href="http://www.google-melange.com/gsoc/homepage/google/gsoc2013">
	  Google's GSoC 2013 page (including timeline)</url>

      <url href="http://en.wikipedia.org/wiki/Google_Summer_of_Code">
	GSoC Wikipedia page</url>
    </links>

    <body>
	<p>Since 2005 Google has run its yearly Summer of Code program,
	  in which Google awards stipends to students who successfully
	  complete projects with participating Open Source organisations.
	  &os; has participated in GSoC every year since its inception,
	  and with the announcement that Google will once again run the
	  program in 2013 hopes to participate once more.</p>

	<p>Google have not yet opened the application period for
	  mentoring organisations, but once it does &os; plans to apply.
	  Assuming that we are successful in our application to
	  participate, we will publish a large list of ideas for possible
	  projects shortly after. Students may then apply to do one of
	  those projects, or suggest their own idea for a project. After
	  the application period, &os; will discover how many student
	  slots we have been allocated, at which point successful
	  students will take some time to plan their project, gather
	  required information and discuss their plans with their
	  mentors, before having around 12 weeks to develop their
	  code.</p>

	<p>In the eight years of &os;'s participation in Google Summer
	  of Code, approximately 150 students have successfully complete
	  projects with us, covering a wide spread of areas of both the
	  source and ports trees. Of these, 22 students continued
	  participating with &os; and subsequently became full &os;
	  committers, many later going on to mentor Summer of Code
	  students themselves.</p>

	<p>Whether &os; has been successful in being selected to be a
	  participating organisation in Google Summer of Code 2013 should
	  be announced in early April.</p>
    </body>
  </project>

  <project cat='misc'>
    <title>EuroBSDcon 2012</title>

    <contact>
      <person>
	<name>
	  <given>EuroBSDcon</given>
	  <common>Organizers</common>
	</name>
	<email>oc-2012@eurobsdcon.org</email>
      </person>

      <person>
	<name>
	  <given>Gabor</given>
	  <common>Pali</common>
	</name>
	<email>pgj@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://2012.eurobsdcon.org/">EuroBSDcon 2012 web
	site</url>

      <url href="http://www.youtube.com/user/eurobsdcon">EuroBSDcon
	YouTube channel</url>
    </links>

    <body>
      <p>The 11th European BSD Conference took place in Warsaw, Poland
	at the Warsaw University of Technology with a large number of
	visitors. It started up with two tracks of tutorials, featuring
	FreeNAS, pfSense, DTrace, PF, development of NetBSD drivers, and
	an overall introduction to the &os; operating system given by
	Kirk McKusick. There we also had opening and closing keynotes,
	supplemented with 22 talks on different topics related to &os;,
	OpenBSD, NetBSD, FreeNAS and PC-BSD: BHyVe, configuration
	management with puppet, improvements in the OpenBSD cryptographic
	framework, tuning ZFS, server load balancing in DNS, running &os;
	on embedded systems, e.g MIPS and ARM, and challenges in identity
	management and authentication.</p>

      <p>The conference also had a dedicated track presented by the
	attendees of the &os; developer summit and open to all, where one
	could learn more about what is happening currently in the
	Project: results of Google Summer of Code 2012, architectural
	changes in the &os; documentation tree, ILNP, advancements in
	package building and development of pkg(8), and a status report
	on the USB stack.</p>
    </body>
  </project>

  <project cat='misc'>
    <title>&os; Developer Summit, Warsaw</title>

    <contact>
      <person>
	<name>
	  <given>Gabor</given>
	  <common>Pali</common>
	</name>
	<email>pgj@FreeBSD.org</email>
      </person>
    </contact>

    <links>
      <url href="http://wiki.FreeBSD.org/201210DevSummit">Home page of
	the summit</url>
    </links>

    <body>
      <p>We had 53 &os; developers and invited guests attending the
	&os; Developer Summit organized as part of EuroBSDcon 2012 in
	Warsaw, Poland at the Warsaw University of Technology. This year
	EuroBSDcon organizers again offered us their generous support in
	helping with keeping the event running smooth, helping with
	registrations, renting the venue, and providing food for keeping
	attendees satisfied and happy.</p>

      <p>The Warsaw developer summit spanned over 3 days and had 9
	working groups on various topics. We improved last year's layout
	inherited from the Canadian summits because it has worked well
	earlier but could use some further refinements. On both the first
	and second days, we ran the working groups, ranging from the
	standard matters, discussing issues with the USB stack, the
	compiler toolchain, the Ports Collection, or the documentation to
	some experimental ones, e.g. arranging an operating systems
	course focusing on &os;. In addition to this, similarly to last
	year, one of the working groups was about gathering vendors to
	present their ideas and engage in discussion with the developers
	on their needs from the Project. Finally, on the third day, there
	were a number of exciting work-in-progress reports given in a
	dedicated Developer Summit track at the main conference.</p>

      <p>Photos and slides for the most of the talks are available on
	the home page of the summit.</p>
    </body>
  </project>
</report>
