<?xml version="1.0" encoding="iso-8859-1"?>
<!--
     The FreeBSD Documentation Project

     The FreeBSD Spanish Documentation Project
     %SOURCE% en_US.ISO8859-1/books/handbook/x11/chapter.xml
     %SRCID%    1.190

     $FreeBSD$
     $FreeBSDes: doc/es_ES.ISO8859-1/books/handbook/x11/chapter.xml,v 1.5 2004/10/09 01:38:16 jesusr Exp $
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="x11">
  <info><title>El sistema X Window</title>
    <authorgroup>
      <author><personname><firstname>Ken</firstname><surname>Tom</surname></personname><contrib>Actualizado al servidor X11 de X.Org por </contrib></author>
      <author><personname><firstname>Marc</firstname><surname>Fonvieille</surname></personname></author>
    </authorgroup>
  </info>

  

  <sect1 xml:id="x11-synopsis">
    <title>Sinopsis</title>

    <para>&os; usa X11 para proporcionar una potente interfaz
      gráfica.  X11 es una implementación de código
      abierto del sistema X Window que incluye
      <application>&xorg;</application> y
      <application>&xfree86;</application>.  En las versiones de
      &os; hasta &os;&nbsp;4.10-RELEASE y &os;&nbsp;5.3-RELEASE el
      sistema X window que se instalará por defecto es
      <application>&xfree86;</application>, el servidor X11
      distribuido por el proyecto &xfree86;.  Después de
      &os;&nbsp;5.3-RELEASE el sistema X Window pasó a
      ser <application>&xorg;</application>, el servidor X11
      distribuido por la Fundación X.Org.</para>

    <para>Este capítulo cubre la instalación y
      configuración de X11 poniendo énfasis en
      <application>&xorg;</application>.  Si quiere
      información sobre la configuración de
      <application>&xfree86;</application> o versiones
      anteriores de &xorg; consulte las versiones archivadas
      del «Handbook» de &os; en <uri xlink:href="http://docs.FreeBSD.org/doc/">http://docs.FreeBSD.org/doc/</uri>.</para>

    <para>Para mas información del hardware de vídeo
      que X11 soporta consulte la página web de <link xlink:href="http://www.x.org/">&xorg;</link>.</para>


    <para>Después de leer este capítulo usted
      sabrá:</para>

    <itemizedlist>
      <listitem>
        <para>Cuáles son los diferentes componentes del
	  sistema X Window y como interoperan.</para>
      </listitem>

      <listitem>
        <para>Cómo instalar y configurar X11.</para>
      </listitem>

      <listitem>
        <para>Cómo instalar y usar diferentes gestores
	  de ventanas.</para>
      </listitem>

      <listitem>
        <para>Cómo usar tipos de letra &truetype; en X11.
	  </para>
      </listitem>

      <listitem>
        <para>Como preparar su sistema para iniciar la sesión
          de forma gráfica (<application>XDM</application>).</para>
      </listitem>
    </itemizedlist>

    <para>Antes de leer este capítulo debería:</para>

    <itemizedlist>
      <listitem>
        <para>Saber cómo instalar software de terceros
          (<xref linkend="ports"/>).</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>Este capítulo cubre la instalación y
         configuración de los servidores X11
         <application>&xorg;</application> y
         <application>&xfree86;</application>.  La mayoría de los
         ficheros de configuración, órdenes y sintaxis son
         idénticos.  En los casos en que haya diferencias se
         mostrará la sintaxis de
         <application>&xorg;</application> y
         <application>&xfree86;</application>.</para>
     </note>

  </sect1>

  <sect1 xml:id="x-understanding">
    <title>Entender X</title>

    <para>Usar X por primera vez puede resultar chocante para alguien
      familiarizado con otros entornos gráficos, como
      &microsoft.windows; o &macos;.</para>

    <para>No es necesario entender todos los detalles de los diferentes
      componentes de X y como interactúan, pero un conocimiento
      básico hace posible el sacarle más provecho a la
      potencia de X.</para>

    <sect2>
      <title>?Por qué X?</title>

      <para>X no es el primer sistema de ventanas escrito para &unix;
        pero es el más popular de todos ellos.  El equipo original
        que desarrolló X trabajó en otro sistema de ventanas
        antes de escribir X.  Ese sistema se llamó «W»
        (de «Window» que significa ventana en inglés).
        X era solo la siguiente letra en el alfabeto Romano.</para>

      <para>X se puede llamar «X»
        «X Window System», «X11» y de otras
        formas. También puede usar el término
        «X Windows» para describir X11 si lo que quiere es
        ofender a algunas personas; si quiere saber más sobre esto
        consulte &man.X.7;.</para>
    </sect2>

    <sect2>
      <title>El modelo cliente/servidor de X</title>

      <para>X fue diseñado desde el principio pensando en redes
        y adoptó un modelo «cliente-servidor».</para>

      <para>En el modelo de X el «servidor X» se ejecuta en la
        máquina que tiene el teclado, monitor y ratón.  El servidor
        es responsable de manejar la pantalla, la entrada de datos a
        través del teclado, el ratón, etc.  Cada
        aplicación X (como una <application>XTerm</application> o
        <application>&netscape;</application>) es un
        «cliente».  Un cliente manda mensajes al servidor como
        «Por favor dibuja una ventana en estas coordenadas» y el
        servidor devuelve mensajes como «El usuario ha pulsado el
        botón OK».</para>

      <para>Sí solo hay un ordenador involucrado, como en una
        casa o una pequeña oficina, el servidor X y los clientes
        X seguramente se ejecutarán en el mismo sistema.  Sin embargo, es
        perfectamente posible ejecutar el servidor X en un sistema de
        escritorio menos potente y ejecutar las aplicaciones X (los
        clientes) en, por ejemplo, la potente y cara máquina que sirve
        la oficina.  En este panorama la comunicación entre el
        cliente X y el servidor tiene lugar a través de la red.</para>

      <para>Esto confunde a algunas personas, porque la terminología es
        exactamente opuesta a lo que ellos esperan.  Ellos esperan que el
        «servidor X» sea la máquina grande que hay en el
	sótano y que el «cliente X» sea la máquina
        de su mesa.</para>

      <para>Es importante que recuerde que el servidor X es la
        máquina con el monitor y el teclado y que los clientes
        X son los programas que muestran las ventanas.</para>

      <para>No hay nada en el protocolo que obligue a que el cliente y el
        servidor tengan que usar el mismo sistema operativo o incluso que
        estén en el mismo sistema.  Es posible ejecutar un servidor X
        en &microsoft.windows; o en el &macos; de Apple; de hecho hay varias
        aplicaciones libres y comerciales que hacen exactamente eso.</para>

      <para>A partir de &os;&nbsp;5.3-RELEASE, el servidor X que se instala
        con &os; es <application>&xorg;</application>, que es libre  y
        se distribuye bajo una licencia muy similar a la de &os;.
        También hay servidores X comerciales para &os;.</para>
    </sect2>

    <sect2>
      <title>El gestor de ventanas</title>

      <para>La filosofía de diseño de X es más parecida
        a la de &unix;: «herramientas, no normas».  Esto
        significa que X no impone cómo debe hacerse una tarea.  En
        lugar de eso proporciona herramientas al usuario y es responsabilidad
        suya decidir qué hacer con ellas.</para>

      <para>Esta filosofía se extiende a X; no impone como deben verse
        las ventanas en la pantalla, cómo moverlas con el ratón,
        qué teclas deberían usarse para moverse entre ventanas
        (por ejemplo <keycombo action="simul">
          <keycap>Alt</keycap>
          <keycap>Tab</keycap>
        </keycombo>, en &microsoft.windows;), cómo deben ser las
        barras de título en cada ventana, si tienen o no botón
        de cierre, etc.</para>

      <para>En lugar de eso X delega esta responsabilidad en una
        aplicación llamada «gestor de ventanas».  Hay
        docenas de gestores de ventanas disponibles para X:
        <application>AfterStep</application>,
        <application>Blackbox</application>, <application>ctwm</application>,
        <application>Enlightenment</application>,
        <application>fvwm</application>, <application>Sawfish</application>,
        <application>twm</application>,
	<application>Window Maker</application>, etc.  Cada uno de estos
	gestores de ventanas tiene un aspecto diferente; algunos soportan
	«escritorios virtuales»; otros permiten personalizar las
	teclas para manejar el escritorio; otros tienen un botón de
	«Inicio» o algo similar; otros tienen
	«diseños modificables», permitiendo un cambio
	completo del aspecto mediante un nuevo diseño.  Estos gestores
	de ventanas, y muchos otros, están en la
	categoría <filename>x11-wm</filename> de los ports.</para>

      <para>Además, los entornos de escritorio
        <application>KDE</application> y <application>GNOME</application>
        tienen sus propios gestores de ventanas integrados con el
        escritorio.</para>

      <para>Cada gestor de ventanas tiene diferentes mecanismos de
        configuración; en algunos debe escribir el fichero de
        configuración a mano, otros tienen herramientas gráficas
        para la mayor parte de la configuración; y al menos uno
        (<application>Sawfish</application>) tiene un fichero de
        configuración escrito en un dialecto del lenguaje Lisp.</para>

      <note>
        <title>Política de foco</title>

        <para>Otra responsabilidad del gestor de ventanas es la
          «política de foco» del ratón.  Todos los
          sistemas de ventanas necesitan algo para elegir una ventana activa
          que recibirá los eventos y también debieran indicar
          claramente qué ventana está activa.
        </para>

        <para>Una política muy popular es la de «click to
          focus».  Este es el modelo que utiliza
          &microsoft.windows;, en el que una ventana se convierte en activa
          al recibir un clic del ratón.
        </para>

        <para>X no tiene ninguna política de foco.  En lugar de eso el
          gestor de ventanas controla qué ventana tiene el foco en todo
          momento.  Los diferentes gestores de ventanas tienen diferentes
          políticas de foco.  Todos soportan la política
          «clic-para-foco» y la mayoría de ellos
          también soportan otros métodos.</para>

        <para>Las políticas de foco más populares son:</para>

        <variablelist>
          <varlistentry>
            <term>el-foco-sigue-al-ratón
	      (<literal>focus-follows-mouse</literal>)</term>

            <listitem>
              <para>La ventana que esta bajo el puntero del ratón es
                la ventana que tiene el foco.  No es necesario que la ventana
                esté encima de las demás ventanas.  El foco se
                cambia al apuntar a otra ventana, aunque no es necesario hacer
                clic en ella.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>foco-descuidado
	      <literal>sloppy-focus</literal></term>

            <listitem>
              <para>Esta política es una pequeña
                extensión de
                «el-foco-sigue-al-ratón».  En
                «el-foco-sigue-al-ratón» si el
                ratón se mueve sobre la ventana raíz (o fondo)
                ninguna ventana tiene el foco y las pulsaciones del
                teclado se perderán.  Con la política
                «foco-descuidado» el foco sólo cambia
                cuando el cursor entra en una nueva ventana y no cuando
                sale de la ventana actual.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>click-para-foco
	      <literal>click-to-focus</literal></term>

            <listitem>
              <para>La ventana activa se selecciona con un clic del
                ratón.  La ventana se puede «levantar»
                y aparecer delante de las demás ventanas.  Todas las
                pulsaciones de teclado serán redirigidas a esa ventana
                aunque el cursor se mueva a otra ventana.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Muchos gestores de ventanas soportan otras políticas o
          variaciones de estas.  Consulte la documentación del propio
          gestor de ventanas.</para>
      </note>
    </sect2>

    <sect2>
      <title>Widgets</title>

      <para>La idea de X de hacer herramientas en vez de normas
        y se extiende a los «widgets» que se ven en la
        pantalla de cada aplicación.</para>

      <para>«Widget» es un término que abarca todos los
        objetos en el interfaz de usuario que pueden pulsarse con el
	ratón manipularse de alguna manera: botones,
        «check boxes», listas, etc.  &microsoft.windows; los
        llama «controles».</para>

      <para>&microsoft.windows; y &macos; de Apple tienen una política
        de «widgets» muy rígida.  Se supone que los
        desarrolladores de aplicaciones comparten el aspecto.  En X no se
        consideró imponer un estilo gráfico o un conjunto de
        «widgets» al que adherirse.</para>

      <para>Como resultado no se puede esperar que las aplicaciones de X
        tengan un aspecto homogéneo.  Hay varios conjuntos de
        «widgets» y variaciones muy populares como el
        «widget» Athena creado en el MIT,
        <application>&motif;</application> (donde los «widgets»
	de &microsoft.windows; fueron modelados, con todos los bordes
	biselados y tres tonos de gris), <application>OpenLook</application>,
	y otros.</para>

      <para>Las aplicaciones más modernas de X usan un conjunto
        de «widgets» con mejor aspecto, o Qt, utilizado
	por <application>KDE</application>, o GTK+, que usa el proyecto
	<application>GNOME</application>.  Se intenta que el aspecto del
	escritorio de &unix; sea parecido, lo que hace la vida más
	fácil al usuario novato.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="x-install">
    <title>Instalar X11</title>

    <para><application>&xorg;</application> es la implementación
      de X11 por omisión en &os;.  <application>&xorg;</application>
      está basado en código de
      <application>&xfree86;&nbsp;4.4RC2</application> y X11R6.6.
      La versión de <application>&xorg;</application> que se
      distribuye actualmente en la Colección de Ports de &os; es
      la &xorg.version;.</para>

    <para>Para compilar e instalar <application>&xorg;</application>
    desde la colección de ports:</para>

    <screen>&prompt.root; <userinput>cd /usr/ports/x11/xorg</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

    <note>
      <para>Si quiere compilar e instalar <application>&xorg;</application>
        entero, asegúrese de tener como mínimo
        2GB de espacio disponible.</para>
    </note>


    <para>Si lo prefiere puede instalar &xorg; con packages.  Cuando
      utilice la capacidad de &man.pkg.add.1; para instalar packages
      que descargue remotamente recuerde que no debe escribir el
      número de versión.  &man.pkg.add.1; descargará
      automáticamente la última versión de la
      aplicación..</para>

    <para>Veamos qué es lo que hay que hacer para descargar e
      instalar el package de
      <application>&xorg;</application>:</para>

    <screen>&prompt.root; <userinput>pkg_add -r xorg</userinput></screen>

    <note><para>El anterior ejemplo instala la distribución X11
      completa, es decir, servidores, clientes, tipos de letra, etc.
      Hay packages y ports con cada uno de esos elementos por
      separado.</para></note>

    <para>En el resto del capítulo se explica cómo
      configurar X11 y cómo configurar un entorno de escritorio
      que le resulte productivo.</para>


  </sect1>

  <sect1 xml:id="x-config">
    <info><title>Configuración de X11</title>
      <authorgroup>
        <author><personname><firstname>Christopher</firstname><surname>Shumway</surname></personname><contrib>Escrito por </contrib></author>
      </authorgroup>
    </info>
    


    <indexterm><primary>&xorg;</primary></indexterm>
    <indexterm><primary>X11</primary></indexterm>

    <sect2>
      <title>Antes de empezar</title>

      <para>Antes de configurar X11 necesitará la siguiente
        información sobre el sistema:</para>

      <itemizedlist>
        <listitem><para>Especificaciones del monitor</para></listitem>
        <listitem><para>Chipset de la tarjeta de vídeo</para>
	  </listitem>
        <listitem><para>Memoria de la tarjeta de vídeo</para>
	  </listitem>
      </itemizedlist>

      <indexterm><primary>horizontal scan rate</primary></indexterm>
      <indexterm><primary>vertical scan rate</primary></indexterm>

      <para>X11 usa las especificaciones del monitor para determinar
        la resolución y la frecuencia de refresco a la que
        funcionará.  Estas especificaciones se pueden encontrar
        normalmente en la documentación que viene con el monitor o
        en la web del fabricante.  Se necesitan dos rangos de números: la
        frecuencia de refresco horizontal y la vertical.</para>

      <para>El chipset de la tarjeta de vídeo define qué
        controlador utilizará X11 para comunicarse con el hardware
        gráfico.  Con la mayoría de chipsets es posible
	detectarlo automáticamente pero es útil saberlo en
        caso de que la detección automática no
        funcione.</para>

      <para>La memoria de la tarjeta gráfica determina la
        resolución y la profundidad de color a la que el sistema
        funcionará.  Es importante saberlo para que el usuario
        conozca las limitaciones del sistema.</para>

    </sect2>

    <sect2>
      <title>Configurar X11</title>


<!--

 hemendik

 -->


      <para>A partir de la versión 7.3
        <application>&xorg;</application> puede funcionar sin utilizar
	fichero de configuración; basta con teclear en el
	prompt:</para>

      <screen>&prompt.user; <userinput>startx</userinput></screen>

      <para>Si no funciona, o si la configuración por
        omisión no es aceptable, hay que configurar X11
	a mano.</para>

      <note>
	<para>Ciertos entornos de escritorio como
	  <application>GNOME</application>,
	  <application>KDE</application> o
	  <application>XFce</application> tienen herramientas que permiten
	  al usuario configurar fácilmente parámetros
	  de la pantalla como la resolución.  Si la
	  configuración por omisión no sirve y tiene
	  idea de instalar un entorno de escritorio puede seguir
	  adelante tranquilamente con la instalación del entorno
	  de escritorio y utilice la herramienta que el software que
	  instale le facilite.</para>
      </note>

      <para>La configuración de X11 es un proceso que consta de
        múltiples pasos.  El primero es generar un fichero inicial
	de configuración.  Como superusuario teclee:</para>

      <screen>&prompt.root; <userinput>Xorg -configure</userinput></screen>

      <para>Esto generará un fichero de configuración
        bastante esquemático pero completo en
        <filename>/root</filename> llamado
	<filename>xorg.conf.new</filename> (si ha utilizado &man.su.1; o
	ha entrado directamente como superusuario afectará al valor
	que tenga la variable de directorio
	<envar>$HOME</envar>).  X11 intentará probar el hardware
	gráfico del sistema y escribir un fichero de
	configuración en el que registrar los controladores de
	dispositivo adecuados para hacer funcionar el harware que haya
	detectado.</para>

      <para>El siguiente paso es probar el fichero generado para
        verificar si <application>&xorg;</application>
        puede funcionar con el hardware gráfico del sistema.  Para
	ello teclee:</para>

      <screen>&prompt.root; <userinput>Xorg -config xorg.conf.new</userinput></screen>

      <para>Si aparece una rejilla negra y gris junto con el cursor del
        ratón con forma de X es que la configuración ha
	tenido éxito.  Para salir de la prueba pulse
	simultáneamente
        <keycombo action="simul">
          <keycap>Ctrl</keycap>
          <keycap>Alt</keycap>
          <keycap>Retroceso</keycap>
        </keycombo>.</para>

	<note><para>Si el ratón no funciona tendrá que
	  configurarlo antes de continuar.  Consulte la
	  <xref linkend="mouse"/> en el capítulo de instalación
	  de &os;.</para></note>

      <indexterm><primary>X11 tuning</primary></indexterm>

      <para>Después modifique el fichero <filename>xorg.conf.new</filename>
        a su gusto.  Abra el fichero con un editor de texto (como
        &man.emacs.1; o &man.ee.1;).  Primero añada las frecuencias
	del monitor.  Estas suelen estar expresadas en frecuencia de refresco
	horizontal y vertical.  Estos valores se añaden al fichero
        <filename>xorg.conf.new</filename> en la sección
        <literal>"Monitor"</literal>:</para>

      <programlisting>Section "Monitor"
        Identifier   "Monitor0"
        VendorName   "Monitor Vendor"
        ModelName    "Monitor Model"
        HorizSync    30-107
        VertRefresh  48-120
EndSection</programlisting>



      <para>Las palabras <literal>HorizSync</literal> y
        <literal>VertRefresh</literal>  podrían no existir en el
        fichero de configuración.  Si no existen es necesario
        añadirlas con la frecuencia horizontal correcta puesta
        después de la palabra <literal>HorizSync</literal> y la
        frecuencia vertical correcta después de la palabra
        <literal>VertRefresh</literal>.  En el ejemplo anterior se pusieron
        las frecuencias del monitor.</para>

      <para>X permite usar las características DPMS (Energy Star)
        con los monitores que lo soportan.  El programa &man.xset.1; controla
        el «timeout», y puede forzar los modos
        «standby», suspendido o apagado.  Si desea habilitar las
        características DPMS para su monitor tendrá que
        añadir la siguiente línea en la sección
        <literal>monitor</literal>:</para>


      <programlisting>
        Option       "DPMS"</programlisting>

      <indexterm>
        <primary><filename>xorg.conf</filename></primary>
      </indexterm>


      <para>Agrege a su
        <filename>xorg.conf.new</filename>
        la resolución por omisión y la profundidad de
        color deseada.  Esto se define en la sección
        <literal>"Screen"</literal>:</para>

      <programlisting>Section "Screen"
        Identifier "Screen0"
        Device     "Card0"
        Monitor    "Monitor0"
        DefaultDepth 24
        SubSection "Display"
                Viewport  0 0
                Depth     24
                Modes     "1024x768"
        EndSubSection
EndSection</programlisting>


     <para>La palabra <literal>DefaultDepth</literal> describe la profundidad
        de color a la que arrancará por omisión.  Esto puede
        sobrescribirse con el argumento <command>-bpp</command> de
	&man.Xorg.1; (o &man.XFree86.1;).  La palabra <literal>Modes</literal>
	describe la resolución a la que funcionará para esa
	profundidad de color.  Observe que sólo los modos
	estándar VESA están soportados por el hardware
        gráfico.  En el ejemplo anterior la profundidad de color es
        24 bits por pixel.  En esta profundidad de color la resolución
        aceptada es 1024 por 768 pixels.</para>

      <para>Para acabar guarde el fichero de configuración y
        pruébelo usando el modo de prueba descrito anteriormente
	</para>

      <note>
        <para>Una de las herramientas disponibles para ayudarle con el
          proceso de solución de problemas es el fichero de
          «logs», que contiene información de cada
          dispositivo al que el servidor X11 se conecta.  Los
          «logs» (o bitácoras) de
          <application>&xorg;</application> se pueden encontrar en
          <filename>/var/log/Xorg.0.log</filename>
          El nombre exacto del fichero de «log» puede variar
          entre <filename>Xorg.0.log</filename> y
          <filename>Xorg.8.log</filename> y así
          sucesivamente.</para>
      </note>


      <para>Si todo ha ido bien ha llegado el momento de ubicar el
        fichero de configuración donde &man.Xorg.1; pueda
	encontrarlo.  Puede dejarlo en
	<filename>/etc/X11/xorg.conf</filename> o
	<filename>/usr/local/etc/X11/xorg.conf</filename>.</para>

      <screen>&prompt.root; <userinput>cp xorg.conf.new /etc/X11/xorg.conf</userinput></screen>

      <para>El proceso de configuración de X11 ha concluido.
	Arranque <application>&xorg;</application> mediante
	&man.startx.1;.  Puede también arrancar el servidor X11
        utilizando &man.xdm.1;.</para>

      <note><para>Existe también una herramienta gráfica de
	configuración en X11, &man.xorgcfg.1;.  Permite definir de
	forma interactiva su configuració mediante la elección
	de los controladores y las opciones adecuadas.  Este programa
	también puede usarse desde consola mediante la orden
	<command>xorgcfg -textmode</command>.  Para más
	información consulte la página de manual de
	&man.xorgcfg.1;.</para>

      <para>Puede usar también &man.xorgconfig.1;.  Este programa es
        una herramienta orientada a consola que es bastante menos atractiva
	para el usuario, pero que puede funcionar en situaciones en las que
	otras herramientas no sirven.</para></note>



    </sect2>

    <sect2>
      <title>Configuración avanzada</title>

      <sect3>
        <title>Configuración de chipsets gráficos &intel;
          i810</title>

        <indexterm><primary>Intel i810 graphic chipset</primary></indexterm>

        <para>Para configurar los chipsets integrados &intel; i810 es
          necesario el interfaz de programación AGP
          <filename>agpart</filename> para que
          X11 pueda usarla.  Consulte la página de manual de
          &man.agp.4; para más información.</para>


	<para>Hecho esto podrá configurar el hardware como cualquier
	  otra tarjeta gráfica.  Tenga en cuenta que si en un
	  sistema que no tenga el controlador &man.agp.4; intenta cargar
	  el módulo del kernel con &man.kldload.8; no va a
	  funcionar.  El controlador tiene necesariamente que estar en el
	  kernel desde el mismo momento del arranque, cosa que puede
	  obtenerse bien compilando un nuevo kernel, bien utilizando
	  <filename>/boot/loader.conf</filename>.</para>
      </sect3>



      <sect3>
	<title>Añadir una pantalla panorámica a nuestro sistema</title>

	<indexterm><primary>widescreen flatpanel configuration</primary></indexterm>

	<para>A lo largo de esta sección se asumen unos mínimos
	  de soltura con ciertos aspectos de configuración avanzada.  Si
	  Si las herramientas estándar de configuración que se
	  han descrito previamente no le ayudan a tener una
	  configuración funcional busque en los ficheros de log,
	  ahí encontrará información suficiente para
	  lograrlo.  Tendrá que utilizar un editor de texto a lo
	  largo de estas instrucciones.</para>

	<para>Los formatos actuales de pantalla panorámica,
	  (también conocidas como «Widescreen», WSXGA,
	  WSXGA+, WUXGA, WXGA, WXGA+, etc, soportan formatos de
	  16:10 y 10:9 o aspectos-tasa que pueden ser
	  problemáticos.  Veamos algunos ejemplos de resoluciones de
	  pantalla en formatos 16:10:</para>

	<itemizedlist>
	  <listitem><para>2560x1600</para></listitem>
	  <listitem><para>1920x1200</para></listitem>
	  <listitem><para>1680x1050</para></listitem>
	  <listitem><para>1440x900</para></listitem>
	  <listitem><para>1280x800</para></listitem>
	</itemizedlist>

	<para>At some point, it will be as easy as adding one of these
	  resolutions as a possible <literal>Mode</literal> in the <literal>Section
	  "Screen"</literal> as such:</para>

	<programlisting>Section "Screen"
Identifier "Screen0"
Device     "Card0"
Monitor    "Monitor0"
DefaultDepth 24
SubSection "Display"
	Viewport  0 0
	Depth     24
	Modes     "1680x1050"
EndSubSection
EndSection</programlisting>

	<para><application>&xorg;</application> se basta y se sobra para
	  recabar la información de resolución de su pantalla
	  panorámica mediante la información
	  I2C/DDC, así que sabe qué frecuencias y
	  resoluciones puede manejar el monitor.</para>

	<para>Si esas <literal>ModeLines</literal> no existen en los
	  controladores tendrá usted que ayudar un poco a
	  <application>&xorg;</application>.  Lea atentamente el contenido
	  de <filename>/var/log/Xorg.0.log</filename>; de él
	  podrá extraer suficiente información como para
	  crear un <literal>ModeLine</literal> que funcione.  Todo lo que
	  tiene que hacer es buscar información que se parezca
	  a esta:</para>

	<programlisting>(II) MGA(0): Supported additional Video Mode:
(II) MGA(0): clock: 146.2 MHz   Image Size:  433 x 271 mm
(II) MGA(0): h_active: 1680  h_sync: 1784  h_sync_end 1960 h_blank_end 2240 h_border: 0
(II) MGA(0): v_active: 1050  v_sync: 1053  v_sync_end 1059 v_blanking: 1089 v_border: 0
(II) MGA(0): Ranges: V min: 48  V max: 85 Hz, H min: 30  H max: 94 kHz, PixClock max 170 MHz</programlisting>

	<para>Esta información se llama información EDID.  Para
	  crear una <literal>ModeLine</literal> a partir de estos datos solamente
	  tiene que poner los números en el orden correcto:</para>

	<programlisting>ModeLine &lt;name&gt; &lt;clock&gt; &lt;4 horiz. timings&gt; &lt;4 vert. timings&gt;</programlisting>

	<para>Así que la <literal>ModeLine</literal>
	  en la <literal>Section "Monitor"</literal> del ejemplo
	  tendría este aspecto:</para>

	<programlisting>Section "Monitor"
Identifier      "Monitor1"
VendorName      "Bigname"
ModelName       "BestModel"
ModeLine        "1680x1050" 146.2 1680 1784 1960 2240 1050 1053 1059 1089
Option          "DPMS"
EndSection</programlisting>

	<para>Como ve, con un poco de edición hemos culminado la tarea
	  y X debería ya poder arrancar sin problemas en su nuevo
	  monitor panorámico.</para>
      </sect3>

    </sect2>
  </sect1>
  <sect1 xml:id="x-fonts">
    <info><title>Uso de tipos en X11</title>
      <authorgroup>
        <author><personname><firstname>Murray</firstname><surname>Stokely</surname></personname><contrib>Escrito por </contrib></author>
      </authorgroup>
    </info>
    

    <sect2 xml:id="type1">
      <title>Tipos Type1</title>

      <para>Los tipos que X11 incluye por omisión no son precisamente
        ideales para las aplicaciones típicas.  Los tipos grandes para
	presentaciones
        aparecen dentados y con un aspecto poco profesional, mientras
        que los tipos pequeños en
        <application>&netscape;</application> son prácticamente
        ilegibles.  Sin embargo hay varios tipos de letra libres
        Type1 de alta calidad (&postscript;) que se pueden usar con
        X11.  Por ejemplo los tipos URW
        (<package>x11-fonts/urwfonts</package>) incluyen
        una versión de alta calidad de los tipos estándar Type
	1 (<trademark class="registered">Times Roman</trademark>,
        (<trademark class="registered">Helvetica</trademark>,
        (<trademark class="registered">Palatino</trademark>, y muchas otras).
        Las Freefonts (<package>x11-fonts/freefonts</package>
	) incluyen muchas más pero la mayoría están
        pensadas para usarse con software gráfico como el
        <application>Gimp</application> y no son lo bastante completos para
        usarse como tipos de pantalla.  Además X11 se
        puede configurar para usar tipos &truetype; con un
        esfuerzo mínimo.  Para más detalles sobre esto consulte
        la página del manual &man.X.7; o la
        <link linkend="truetype">sección de tipos &truetype;</link>.</para>

      <para>Para instalar los tipos Type1 desde
        los ports ejecute las siguientes órdenes:</para>

  <screen>&prompt.root; <userinput>cd /usr/ports/x11-fonts/urwfonts</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

      <para>Proceda del mismo modo con los FreeFonts o cualesquiera otras.
        Para que el servidor X las detecte añada la siguiente
        línea al fichero de configuración de X
        (<filename>/etc/X11/xorg.conf</filename>:</para>

      <programlisting>FontPath "/usr/X11R6/lib/X11/fonts/URW/"</programlisting>

      <para>o bien desde una emulación de terminal durante una
        sesión X ejecute</para>

      <screen>&prompt.user; <userinput>xset fp+ /usr/X11R6/lib/X11/fonts/URW</userinput>
&prompt.user; <userinput>xset fp rehash</userinput></screen>

      <para>Esto funcionará hasta que la sesión X se cierre a
        menos que lo añada a su fichero de inicio
        (<filename>~/.xinitrc</filename> en el caso de una sesión
        <command>startx</command> normal o <filename>~/.xsession</filename>
        si hace login desde un gestor gráfico como
        <application>XDM</application>).  Una tercera forma sería
        usando el nuevo fichero
        <filename>/usr/X11R6/etc/fonts/local.conf</filename>:
        consulte la sección de <link linkend="antialias">anti-aliasing</link>.
      </para>
    </sect2>

    <sect2 xml:id="truetype">
      <title>Tipos &truetype;</title>

      <indexterm><primary>Tipos TrueType</primary></indexterm>
      <indexterm><primary>fonts</primary>
        <secondary>TrueType</secondary>
      </indexterm>

        <para><application>&xorg;</application> se diseñó
        pensando en que utilizara tipos &truetype;.  Hay dos
	módulos diferentes que pueden habilitar esta opción.  El
	módulo freetype se usa en en este ejemplo porque es más
	consistente con el resto de «back-ends» de
	representación.  Para habilitar el módulo freetype debe
	añadir la siguiente línea a la sección
	<literal>"Module"</literal> del fichero
        <filename>/etc/X11/xorg.conf</filename>.</para>

      <programlisting>Load "freetype"</programlisting>

      <para>Ahora haga un directorio para los tipos &truetype; (por ejemplo
        <filename>/usr/X11R6/lib/X11/fonts/TrueType</filename>) y copie todos
        los tipos &truetype; en este directorio.  Recuerde que los
        tipos &truetype; no se pueden coger directamente de
        un &macintosh;; tienen que estar en formato &unix;/&ms-dos;/&windows;
        para usarlas con X11.  Una vez que los ficheros
        se hayan copiado en este directorio use
        <application>ttmkfdir</application> para crear un fichero
        <filename>fonts.dir</filename>, para que el representador de tipos
        de X sepa que se han instalado estos ficheros
        nuevos.  <command>ttmkfdir</command> forma parte de la Colección
        de Ports de &os;: <package>x11-fonts/ttmkfdir</package>.
      </para>

<screen>&prompt.root; <userinput>cd /usr/local/lib/X11/fonts/TrueType</userinput>
&prompt.root; <userinput>ttmkfdir -o fonts.dir</userinput></screen>

      <para>Ahora añada el directorio &truetype; a la ruta de
        tipos.  Esto es igual que lo anteriormente descrito sobre los
        tipos <link linkend="type1">Type1</link>.  Ejecute:</para>

<screen>&prompt.user; <userinput>xset fp+ /usr/local/lib/X11/fonts/TrueType</userinput>
&prompt.user; <userinput>xset fp rehash</userinput></screen>


      <para>o añada una línea <literal>FontPath</literal> en su
        <filename>/etc/X11/xorg.conf</filename>.</para>

      <para>Esto es todo.  Ahora <application>&netscape;</application>,
        <application>Gimp</application>,
        <application>&staroffice;</application> y el resto de aplicaciones X
        debieran reconocer los tipos &truetype; instalados.
        Los tipos muy  pequeños (como el texto en una pantalla con
	alta resolución viendo una página web) y los
        tipos muy grandes (Dentro de
        <application>&staroffice;</application>) se verán
        muchísimo mejor ahora.</para>
    </sect2>

    <sect2 xml:id="antialias">
      <info><title>Tipos Anti-Aliasing</title>
        <authorgroup>
          <author><personname><firstname>Joe Marcus</firstname><surname>Clarke</surname></personname><contrib>Actualizado por </contrib></author>
        </authorgroup>
      </info>
      

      <indexterm><primary>anti-aliased fonts</primary></indexterm>
      <indexterm><primary>fonts</primary>
        <secondary>anti-aliased</secondary></indexterm>

      <para>Los «tipos anti-aliasing» han estado en
        X11 desde
        <application>&xfree86;</application> 4.0.2.  Aunque la
        configuración de los tipos era incómoda
        antes de
        <application>&xfree86;</application> 4.3.0.  A partir de
        <application>&xfree86;</application> 4.3.0 todos los
        tipos de X11 que se encuentren en
        <filename>/usr/local/lib/X11/fonts/</filename> y
        <filename>~/.fonts/</filename> están disponibles
        automáticamente para aplicaciones que soporten Xft.  No todas
        las aplicaciones soportan Xft pero muchas ya tienen soporte
        Xft.  Ejemplos de aplicaciones que lo soportan son Qt 2.3 o superior
        (el «toolkit» del escritorio
        <application>KDE</application>), GTK+ 2.0 o superior (el
        «toolkit» del escritorio <application>GNOME</application>
	) y <application>Mozilla</application> 1.2 o superior.</para>

      <para>Para controlar qué tipos
        «anti-aliasing» o configurar las propiedades
        «anti-aliasing» crée (o edite, si ya existe)
        el fichero
        <filename>/usr/local/etc/fonts/local.conf</filename>.  Se pueden
        modificar diversas opciones avanzadas del sistema de tipos Xft
	usando este fichero; esta sección describe solo algunas
	posibilidades simples.  Para más detalles consulte
	&man.fonts-conf.5;.</para>

      <indexterm><primary>XML</primary></indexterm>

      <para>Este fichero tiene que estar en formato XML.  Preste especial
        atención a las mayúsculas y minúsculas y
        asegúrese de que las etiquetas están cerradas
        correctamente.  El fichero empieza con la típica cabecera XML
        seguida de una definición DOCTYPE y después la etiqueta
        <literal>&lt;fontconfig&gt;</literal>:</para>

      <programlisting>
        &lt;?xml version="1.0"?&gt;
        &lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
        &lt;fontconfig&gt;
      </programlisting>

      <para>Como se ha dicho antes todos los tipos en
        <filename>/usr/local/lib/X11/fonts/</filename> y en
        <filename>~/.fonts/</filename> están ya disponibles para las
        aplicaciones que soporten Xft.  Si usted desea añadir otro
        directorio además de estos dos árboles de directorios
        añada una línea similar a esta en el fichero
        <filename>/usr/local/etc/fonts/local.conf</filename>:</para>

      <programlisting>&lt;dir&gt;/ruta/de/mis/tipos&lt;/dir&gt;</programlisting>

      <para>Después de añadir los nuevos tipos,
        y en especial los nuevos directorios de tipos,
        debe ejecutar la siguiente orden para
        reconstruir la caché de tipos:</para>

      <screen>&prompt.root; <userinput>fc-cache -f</userinput></screen>

      <para>Los «tipos anti-aliasing» hacen los bordes
        ligeramente borrosos, lo que hace que el texto muy
        pequeño sea más legible y elimina los escalones del
        texto grande pero puede causar fatiga visual aplicada al texto
        normal.  Para excluir los tipos de menos de 14
        puntos del «anti-aliasing» incluya las siguientes
        líneas:</para>

      <programlisting>        &lt;match target="font"&gt;
            &lt;test name="size" compare="less"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit name="antialias" mode="assign"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="font"&gt;
            &lt;test name="pixelsize" compare="less" qual="any"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit mode="assign" name="antialias"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</programlisting>

      <indexterm><primary>fonts</primary>
        <secondary>spacing</secondary></indexterm>

      <para>El espacio entre algunos tipos también
        podría ser inapropiado con «anti-aliasing», por ejemplo
        en el caso de <application>KDE</application>.
        Una posible solución para esto es forzar que el espacio entre
        los tipos sea 100.  Añada las siguientes
        líneas:</para>

       <programlisting>       &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;fixed&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="family" mode="assign"&gt;
                 &lt;string&gt;mono&lt;/string&gt;
             &lt;/edit&gt;
          &lt;/match&gt;
          &lt;match target="pattern" name="family"&gt;
              &lt;test qual="any" name="family"&gt;
                  &lt;string&gt;console&lt;/string&gt;
              &lt;/test&gt;
              &lt;edit name="family" mode="assign"&gt;
                  &lt;string&gt;mono&lt;/string&gt;
              &lt;/edit&gt;
          &lt;/match&gt;</programlisting>

      <para>(Esto selecciona los otros nombres comunes para
        «tipos fixed» como <literal>"mono"</literal>);
        añada también lo siguiente:</para>

      <programlisting>         &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;mono&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="spacing" mode="assign"&gt;
                 &lt;int&gt;100&lt;/int&gt;
             &lt;/edit&gt;
         &lt;/match&gt;      </programlisting>

      <para>Algunos tipos, como Helvetica, podrían
        tener problemas con «anti-aliasing».  Normalmente esto
	se manifiesta en tipos que parecen cortados verticalmente por la
        mitad.  En el peor de los casos podría causar que el
        funcionamiento de aplicaciones como
        <application>Mozilla</application> se interrumpiese.  Para evitar
        esto puede añadir lo siguiente a
        <filename>local.conf</filename>:
      </para>

      <programlisting>         &lt;match target="pattern" name="family"&gt;
             &lt;test qual="any" name="family"&gt;
                 &lt;string&gt;Helvetica&lt;/string&gt;
             &lt;/test&gt;
             &lt;edit name="family" mode="assign"&gt;
                 &lt;string&gt;sans-serif&lt;/string&gt;
             &lt;/edit&gt;
         &lt;/match&gt;        </programlisting>

      <para>Una vez que haya terminado de editar
        <filename>local.conf</filename> asegúrese de que el fichero
        termina con la etiqueta <literal>&lt;/fontconfig&gt;</literal>.  Si no
        lo hace los cambios  que haya hecho serán ignorados.</para>

      <para>Los tipos por omisión que vienen con
        X11 no son los ideales para «anti-aliasing».
        Puede encontrar otros mucho mejores en el port
        <package>x11-fonts/bitstream-vera</package>.  Este
        port instalará el fichero
        <filename>/usr/local/etc/fonts/local.conf</filename> si aun no se ha
        creado.  Si el fichero existe el port creara el fichero
        <filename>/usr/local/etc/fonts/local.conf-vera</filename>.  Combine
        el contenido de este fichero con
        <filename>/usr/local/etc/fonts/local.conf</filename> y los tipos
        Bitstream reemplazarán automáticamente los
        tipos por defecto por X11 Serif, Sans Serif y
        Monospaced.</para>

      <para>Por si esto fuera poco los usuarios pueden añadir sus
        propios ajustes mediante sus ficheros personales
        <filename>.fonts.conf</filename>.  Los usuarios que deseen hacerlo
        deberán crear un fichero <filename>~/.fonts.conf</filename>.
        Este fichero tiene que estar también en formato XML.</para>

      <indexterm><primary>LCD screen</primary></indexterm>
      <indexterm><primary>Fonts</primary>
        <secondary>LCD screen</secondary></indexterm>

      <para>Un último punto: con pantallas LCD sería
        deseable un muestreo de subpixel, que consiste en configurar los
        componentes (separados horizontalmente) rojo, verde y azul para
        mejorar la resolución horizontal; los resultados pueden ser
        impresionantes.  Para habilitarlo añada la siguiente
        línea a
        <filename>local.conf</filename>:</para>

      <programlisting>
        &lt;match target="font"&gt;
            &lt;test qual="all" name="rgba"&gt;
                &lt;const&gt;unknown&lt;/const&gt;
            &lt;/test&gt;
            &lt;edit name="rgba" mode="assign"&gt;
                &lt;const&gt;rgb&lt;/const&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
      </programlisting>

      <note><para>Dependiendo del tipo de pantalla <literal>rgb</literal>
        podría ser <literal>bgr</literal> o <literal>vrgb</literal> o
        <literal>vbgr</literal>: experimente y elija cuál de ellos funciona
        mejor.</para></note>

      <indexterm><primary>Mozilla</primary></indexterm>
      <indexterm><primary>web browsers</primary>
        <secondary>Mozilla</secondary>
        <see>Mozilla</see></indexterm>

      <para>Una vez concluido el proceso «anti-aliasing» se
        debería activar la próxima vez que arranque X, aunque
        los programas necesitan saber como utilizarlo.  En
        este momento el «toolkit» Qt es capaz de hacerlo, así
        que <application>KDE</application> entero puede usar
        «tipos  anti-aliasing».  GTK+ y
        <application>GNOME</application> también pueden usar
        «tipos anti-aliasing» mediante el «applet»
	«Font» (consulte <xref linkend="x11-wm-gnome-antialias"/> para más detalle).  Por
        omisión <application>Mozilla</application>
        1.2 y versiones siguientes usarán automáticamente
        «tipos anti-aliasing».  Para deshabilitarlos
        recompile <application>Mozilla</application> usando el
        parámetro <varname>-DWITHOUT_XFT</varname>.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="x-xdm">
    <info><title>El gestor de pantalla X</title>
      <authorgroup>
        <author><personname><firstname>Seth</firstname><surname>Kingsley</surname></personname><contrib>Escrito por </contrib></author>
      </authorgroup>
    </info>
    
    <sect2>
      <title>Descripción</title>

      <indexterm><primary>X Display Manager</primary></indexterm>
      <para>El gestor de pantalla X (<application>XDM</application>) es una
        parte opcional del sistema X Window que se usa para la gestión de
        sesiones.  Esto es útil en diferentes situaciones, como
        «Terminales X» con escritorios mínimos y grandes
        servidores de red.  Como X Window System es independiente
        del protocolo y de la red hay muchas configuraciones posibles para
        ejecutar clientes y servidores X en diferentes equipos conectados a
        una red.  <application>XDM</application> dispone de un interfaz
        gráfico para elegir a qué pantalla se quiere
        conectar y pedir la información de autentificación como
        el nombre de usuario y le contraseña.</para>

      <para><application>XDM</application> ac6túa como proveedor de la
        misma funcionalidad que &man.getty.8; (consulte
        <xref linkend="term-config"/> para más detalles).  Esto quiere
        decir que se encarga de las entradas al sistema en la pantalla a la
        que está conectado y arranca el gestor de sesiones para que lo
        utilice el usuario (normalmente un gestor de ventanas
        X).  <application>XDM</application> espera a que el
	programa termine, envía la señal de que el usuario ha
	terminado y que se le
        debería  desconectar de la pantalla.  En este punto
        <application>XDM</application> puede mostrar las pantallas de entrada
        al sistema y de selección de pantalla para que el siguiente
        usuario intente acceder al sistema.</para>
    </sect2>

    <sect2>
      <title>Uso de XDM</title>

      <para>El d&aelig;mon <application>XDM</application> está en
        <filename>/usr/local/bin/xdm</filename>.  Este programa se puede
        arrancar en cualquier momento como <systemitem class="username">root</systemitem> y
        empezará a gestionar la pantalla X en la máquina
        local.  Si se quiere que <application>XDM</application> arranque cada
        vez que la máquina se encienda puede hacerlo añadiendo
        una entrada a <filename>/etc/ttys</filename>.  Para más
        información sobre el formato y uso de este fichero consulte la
	<xref linkend="term-etcttys"/>.  Por omisión hay una línea en
        <filename>/etc/ttys</filename> que permite arrancar el
	d&aelig;mon <application>XDM</application> en una terminal virtual:
	</para>

      <screen>ttyv8   "/usr/local/bin/xdm -nodaemon"  xterm   off secure</screen>

      <para>Por omisión esta entrada está deshabilitada; para habilitarla
        cambie el campo 5 de <literal>off</literal> a <literal>on</literal> y
        reinicie &man.init.8; usando los pasos descritos en la <xref linkend="term-hup"/>.  El primer campo es el nombre de la terminal que
        que gestiona el programa, <literal>ttyv8</literal>.  Es decir,
        <application>XDM</application> empezará a
        ejecutarse en la terminal virtual número 9.</para>
    </sect2>

    <sect2>
      <title>Configuración de XDM</title>

      <para>El directorio de configuración de
        <application>XDM</application> está en
        <filename>/usr/local/lib/X11/xdm</filename>.  En este directorio hay
        varios ficheros que se usan para intervenir en el comportamiento y la
        apariencia de <application>XDM</application>.  Normalmente tendrá
        estos ficheros:</para>

      <informaltable frame="none">
        <tgroup cols="2">
          <thead>
            <row>
              <entry>Fichero</entry>
              <entry>Descripción</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry><filename>Xaccess</filename></entry>
              <entry>Reglas de acceso para clientes.</entry>
            </row>

            <row>
              <entry><filename>Xresources</filename></entry>
              <entry>Recursos de X por omisión.</entry>
            </row>

            <row>
              <entry><filename>Xservers</filename></entry>
              <entry>Lista de pantallas locales y remotas a gestionar.</entry>
            </row>

            <row>
              <entry><filename>Xsession</filename></entry>
              <entry>«script» por omisión para el acceso al
                sistema.</entry>
            </row>

            <row>
              <entry><filename>Xsetup_</filename>*</entry>
              <entry>«script» para lanzar aplicaciones antes del
                acceso al sistema.</entry>
            </row>

            <row>
              <entry><filename>xdm-config</filename></entry>
              <entry>Configuración de todas las pantallas de
              este equipo.</entry>
            </row>

            <row>
              <entry><filename>xdm-errors</filename></entry>
              <entry>Errores generados por el programa servidor.</entry>
            </row>

            <row>
              <entry><filename>xdm-pid</filename></entry>
              <entry>El ID de proceso del XDM que está
                 funcionando.</entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <para>En este directorio también hay unos cuantos programas y
        «scripts» que se usan para arrancar el escritorio cuando
        <application>XDM</application> se está ejecutando.
        El objetivo de cada uno de estos ficheros será descrito
        brevemente.  La sintaxis exacta y el uso de todos estos ficheros
        se describe en &man.xdm.1;.</para>

      <para>La configuración por omisión es una simple ventana
        rectangular de acceso al sistema con el nombre de la máquina
        en la parte superior en un tipo de letra grande y unos campos para que
        introduzca«Login:» y «Password:» debajo.  Este es
        un buen punto de partida para aprender a cambiar el aspecto de las
        pantallas de <application>XDM</application>.</para>

      <sect3>
        <title>Xaccess</title>

        <para>El protocolo para conectar con las pantallas controladas por
          <application>XDM</application> se llama «X Display Manager Connection
          Protocol» (XDMCP).  Este fichero es un conjunto de reglas para
          controlar las conexiones XDMCP desde otros equipos.  Por defecto
          permite a cualquier cliente conectar, pero eso no importa a menos
          que <filename>xdm-config</filename> se cambie para escuchar
          conexiones remotas.  La configuración básica no
	  permite conexiones desde ningún cliente.</para>
      </sect3>

      <sect3>
        <title>Xresources</title>

        <para>Este es el fichero de opciones por defecto para el selector de
          pantalla y acceso al sistema.  Aquí es donde se puede
          modificar la apariencia del programa de «login».
          El formato es idéntico al fichero de opciones por defecto
          descrito en la documentación de X11.</para>
      </sect3>

      <sect3>
        <title>Xservers</title>

        <para>Una lista de pantallas remotas entre las que elegir.</para>

      </sect3>

      <sect3>
        <title>Xsession</title>

        <para>Este es el «script» de sesión que por
	  defecto <application>XDM</application> arrancará
	  después de que el usuario acceda al sistema.  Normalmente
	  cada usuario tendrá una versión personalizada del
          «script» de sesión en
          <filename>~/.xsession</filename> que sobreescribe el
          «script» por defecto.</para>
      </sect3>

      <sect3>
        <title>Xsetup_*</title>

        <para>Estos se arrancarán automáticamente antes de que
	  se muestre el interfaz de selección o de acceso al sistema.
          Hay un «script» por cada gestor de ventanas disponible
          llamados <filename>Xsetup_</filename> seguido por el número
	  de pantalla local (por ejemplo <filename>Xsetup_0</filename>).
	  Normalmente estos «scripts» arrancan uno o dos
	  programas en segundo plano, por ejemplo <command>xconsole</command>.
	  </para>
      </sect3>

      <sect3>
        <title>xdm-config</title>

        <para>Este fichero contiene las opciones por defecto aplicables a
          todas las pantallas que gestiona la instalación.</para>
      </sect3>

      <sect3>
        <title>xdm-errors</title>
        <para>Este fichero contiene la salida de los servidores X que
          <application>XDM</application> intente arrancar.  Si alguna pantalla
          que <application>XDM</application> intente arrancar se cuelga por
          alguna razón este es un buen sitio para buscar los mensajes
          de error.  Estos mensajes también se escriben en el fichero
          <filename>~/.xsession-errors</filename> del usuario en cada
          sesión.</para>
      </sect3>
    </sect2>

    <sect2>
      <title>Ejecutar un servidor de pantalla a través de la red
        </title>

      <para>Para que otros clientes puedan conectar al servidor de pantalla
        edite las reglas de acceso y habilite la escucha en la
        conexión.  Por omisión se aplican restricciones.  Si quiere
        que <application>XDM</application> escuche conexiones
        comente la siguiente línea en el fichero
        <filename>xdm-config</filename>:</para>

      <screen>! SECURITY: do not listen for XDMCP or Chooser requests
! Comment out this line if you want to manage X terminals with xdm
DisplayManager.requestPort:     0</screen>

      <para>y después reinicie <application>XDM</application>.
        Recuerde que los comentarios en los ficheros de opciones por defecto
        comienzan con el carácter«!» en
        vez del típico «#».  Puede aplicar controles
        más restrictivos.  Consulte las opciones de ejemplo en
        <filename>Xaccess</filename> y la página de manual de
        &man.xdm.1;.</para>
    </sect2>

    <sect2>
      <title>Alternativas a XDM</title>

      <para>Hay algunas alternativas al programa por defecto
        <application>XDM</application>.  Una de ellas,
        <application>kdm</application> (que se incluye con
        <application>KDE</application>) se describe más adelante en este
        capítulo.  <application>kdm</application> ofrece muchas
	ventajas visuales y funcionalidad para permitir a los usuarios elegir
	su gestor de ventanas en el momento del acceso al sistema.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="x11-wm">
    <info><title>Entornos de escritorio</title>
      <authorgroup>
        <author><personname><firstname>Valentino</firstname><surname>Vaschetto</surname></personname><contrib>Escrito por </contrib></author>
        <!-- Junio 2001 -->
      </authorgroup>
    </info>

    

    <para>Está sección describe los diferentes entornos de
      escritorio disponibles para X en &os;.  Un «entorno de
      escritorio» puede ser cualquier cosa que vaya desde un simple
      gestor de ventanas hasta una completa «suite» de
      aplicaciones de escritorio como <application>KDE</application> o
      <application>GNOME</application>.</para>

    <sect2 xml:id="x11-wm-gnome">
      <title>GNOME</title>

      <sect3 xml:id="x11-wm-gnome-about">
        <title>Acerca de GNOME</title>
        <indexterm><primary>GNOME</primary></indexterm>
        <para><application>GNOME</application> es un entorno de escritorio
          amigable que permite a los usuarios una configuración
          fácil de sus sistemas.  <application>GNOME</application>
          incluye un panel (para iniciar las aplicaciones y mostrar su
          estado),  un escritorio (donde pueden colocarse los datos y las
          aplicaciones), un conjunto de herramientas y aplicaciones de
          escritorio estándar y un conjunto de convenciones para
          facilitar la creación de aplicaciones que sean consistentes
	  y colaboren unas con otras.  Los usuarios de otros sistemas
	  operativos o entornos pueden sentirse como en casa utilizando el
	  poderoso entorno gráfico <application>GNOME</application>.
	  Encontrará más información sobre
	  <application>GNOME</application> en &os; en la página
	  <link xlink:href="http://www.FreeBSD.org/gnome">del
          Proyecto FreeBSD GNOME</link>.</para>
      </sect3>

      <sect3 xml:id="x11-wm-gnome-install">
        <title>Instación de GNOME</title>

          <para><application>GNOME</application> puede instalarse
	  fácilmente utilizando packages
          precompilados o desde la Colección de Ports:</para>

        <para>Para instalar el paquete de <application>GNOME</application>
          desde la red, simplemente teclee:</para>

        <screen>&prompt.root; <userinput>pkg_add -r gnome2</userinput></screen>

        <para>Para compilar <application>GNOME</application> a partir del
          código fuente, es decir, como port:</para>

        <screen>&prompt.root; <userinput>cd /usr/ports/x11/gnome2</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

        <para>Una vez <application>GNOME</application> esté instalado
          debe indicarle al servidor X como iniciar
          <application>GNOME</application> para convertirlo en el gestor de
          ventanas predeterminado.</para>




        <para>La manera más fácil de arrancar
          <application>GNOME</application> es con
          <application>GDM</application>, el gestor de pantalla de GNOME.
          <application>GDM</application>, que se instala con el escritorio
          <application>GNOME</application> al ser parte del mismo (aunque venga
          desactivado por omisión) se activa añadiendo
          <literal>gdm_enable="YES"</literal> a
          <filename>/etc/rc.conf</filename>.  Tras reiniciar,
          <application>GNOME</application> arrancará automáticamente
          al acceder al sistema; no es necesario configurar nada
          más.</para>

        <para>Puede arrancar <application>GNOME</application> también
	  desde la línea de órdenes configurando adecuadamente
	  un fichero llamado <filename>.xinitrc</filename>.  Si ya tiene un
          <filename>.xinitrc</filename> personalizado tendrá que
	  reemplazar la línea que arranca el gestor de ventanas anterior
          por otra que contenga
	  <application>/usr/local/bin/gnome-session</application>.  Si no ha
	  modificado el fichero previamente basta con que teclée lo
	  siguiente:</para>

<screen>&prompt.user; <userinput>echo "/usr/local/bin/gnome-session" &gt; ~/.xinitrc</userinput></screen>

        <para>Después teclée <command>startx</command> y debería
          iniciarse el entorno de escritorio
          <application>GNOME</application>.</para>

        <note><para>Si utiliza un gestor de pantalla antíguo,
	  como <application>XDM</application>, lo anteriormente descrito no
	  funcionará.  Cree un fichero ejecutable
          <filename>.xsession</filename> con la misma orden en
          él.  Edite el fichero y sustituya la orden
          para iniciar su actual gestor de ventanas por
          <application>/usr/local/bin/gnome-session</application>:
          </para></note>

        <screen>&prompt.user; <userinput>echo "#!/bin/sh" &gt; ~/.xsession</userinput>
&prompt.user; <userinput>echo "/usr/local/bin/gnome-session" &gt;&gt; ~/.xsession</userinput>
&prompt.user; <userinput>chmod +x ~/.xsession</userinput></screen>

        <para>Otra opción es configurar el gestor de pantalla para que
          permita seleccionar el gestor de ventanas durante el acceso;
          la sección de <link linkend="x11-wm-kde-details">detalles de KDE</link> explica cómo
          hacerlo para <application>kdm</application>, el gestor de pantalla
          de <application>KDE</application>.</para>
      </sect3>


      <sect3 xml:id="x11-wm-gnome-antialias">
        <title>Tipos «Anti-aliased» en GNOME</title>

        <indexterm><primary>GNOME</primary>
          <secondary>anti-aliased fonts</secondary></indexterm>
	<para>X11 soporta «anti-aliasing» a
          través de la extensión «RENDER».  Gtk+
	  2.0 y superiores (el «toolkit» utilizado por
          <application>GNOME</application>) disponen de esta funcionalidad.
	  La configuración del «anti-aliasing» se describe
	  en la <xref linkend="antialias"/>.  Una vez configurado el software es
          posible utilizar «anti-aliasing» en el entorno de
          escritorio <application>GNOME</application>.  Sólamente tiene
	  que ir a
	  <menuchoice>
	    <guimenu>Applications</guimenu>
	    <guisubmenu>Desktop Preferences</guisubmenu>
	    <guimenuitem>Font</guimenuitem></menuchoice>,
          y seleccione entre
	  <guibutton>Best shapes</guibutton>,
	  <guibutton>Best contrast</guibutton>, o
	  <guibutton>Subpixel smoothing (LCDs)</guibutton>.  En el caso de una
	  aplicación Gtk+ que no forme parte del escritorio
	  <application>GNOME</application> asigne a la variable de entorno
          <varname>GDK_USE_XFT</varname> un valor de <literal>1</literal> antes de
	  arrancar el programa.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="x11-wm-kde">
      <title>KDE</title>

      <indexterm><primary>KDE</primary></indexterm>
      <sect3 xml:id="x11-wm-kde-about">
        <title>Acerca de KDE</title>

        <para><application>KDE</application> es un entorno de escritorio
          contemporáneo y fácil de usar.  Veamos alguna de las cosas
	  que <application>KDE</application> brinda al usuario:</para>

        <itemizedlist>
          <listitem>
	    <para>Un bello escritorio contemporáneo.</para>
	  </listitem>

          <listitem>
	    <para>Un escritorio completamente transparente en red.</para>
	  </listitem>

          <listitem>
	    <para>Un sistema de ayuda integrado que facilita un acceso adecuado y
              consistente a la ayuda durante el uso del escritorio
	      <application>KDE</application> y sus aplicaciones.</para>
	  </listitem>

          <listitem>
	    <para>Un aspecto consistente de todas las aplicaciones
              <application>KDE</application>.</para>
	  </listitem>

          <listitem>
	    <para>Menús y barras de herramientas estándares,
	      teclas programables, esquemas de color, etc.</para>
	  </listitem>

          <listitem>
	    <para>Internacionalización: <application>KDE</application>
              está disponible en más de 40 idiomas.</para>
	  </listitem>

          <listitem>
	    <para>Un diálogo de configuración del escritorio
              centralizado y consistente.</para>
	  </listitem>

          <listitem>
	    <para>Un gran número de útiles aplicaciones
              <application>KDE</application>.</para>
	  </listitem>
        </itemizedlist>

        <para><application>KDE</application> incluye un navegador web llamado
          <application>Konqueror</application>, que es un sólido
	  competidor del resto de navegadores web existentes en sistemas
	  &unix;.  Puede encontrar más
	  información sobre <application>KDE</application> en el
	  <link xlink:href="http://www.kde.org/"> sitio web de KDE</link>.  Si quiere
          información específica y recursos sobre
          <application>KDE</application> en &os; consulte el sitio web del
	  <link xlink:href="http://freebsd.kde.org/">equipo de KDE en &os;</link>.</para>

        <para>Hay dos versiones de <application>KDE</application> en &os;: la
          versión 3 lleva ya bastante tiempo en el sistema y es muy
	  estable en todos los sentidos.  La versión 4, la nueva
	  generación de <application>KDE</application>, también
	  está en los ports.  Si quiere puede instalar ambas versiones
	  simultáneamente.</para>

      </sect3>

      <sect3 xml:id="x11-wm-kde-install">
        <title>Instalación de KDE</title>

        <para>Igual que sucede con <application>GNOME</application> o cualquier
          otro entorno de escritorio puede instalarlo como package o desde la
          Colección de Ports:</para>

        <para>Si quiere instalar como package <application>KDE3</application>
          (desde la red) escriba:</para>

        <screen>&prompt.root; <userinput>pkg_add -r kde</userinput></screen>

        <para>Si quiere instalar como package <application>KDE4</application>
          (desde la red) escriba:</para>

        <screen>&prompt.root; <userinput>pkg_add -r kde4</userinput></screen>


	<para>&man.pkg.add.1; descargará automáticamente
          la versión más reciente de la aplicación.</para>

        <para>Si lo que desea es compilar <application>KDE3</application> desde
	  el código fuente utilice el árbol de ports:</para>

        <screen>&prompt.root; <userinput>cd /usr/ports/x11/kde3</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>


        <para>Si lo que desea es compilar <application>KDE4</application> desde
	  el código fuente utilice el árbol de ports:</para>

        <screen>&prompt.root; <userinput>cd /usr/ports/x11/kde4</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>


        <para>Una vez instalado <application>KDE</application>
	  debe indicarle al servidor X cómo iniciar la aplicación
	  para que se convierta en el gestor de ventanas por defecto.  Edite
	  <filename>.xinitrc</filename>:</para>

	<para>Para <application>KDE3</application>:</para>


        <screen>&prompt.user; <userinput>echo "exec startkde" &gt; ~/.xinitrc</userinput></screen>




	<para>Para <application>KDE4</application>:</para>


        <screen>&prompt.user; <userinput>echo "exec /usr/local/kde4/bin/startkde" &gt; ~/.xinitrc</userinput></screen>




	<para>A partir de ahora cuando se llame al sistema X Window con
          <command>startx</command> el escritorio será
          <application>KDE</application>.</para>

        <para>Si utiliza un gestor de pantalla, como por ejemplo
          <application>xdm</application>, la configuración es
          ligeramente diferente.  En vez de lo antedicho edite
          <filename>.xsession</filename>.  Las instrucciones para
          <application>kdm</application> se decribirán más
          adelante en este capítulo.</para>
      </sect3>
    </sect2>

    <sect2 xml:id="x11-wm-kde-details">
        <title>Más detalles sobre KDE</title>

        <para>Una vez <application>KDE</application> está instalado
	  en el sistema la mayoría de las cosas se pueden ir descubriendo
          utilizando las páginas de ayuda o sencillamente a golpe de
	  ratón en los diversos menús.  Los usuarios de
          &windows; y &mac; se sentiráan como en casa.</para>

        <para>La mejor referencia para <application>KDE</application> es
          la documentación «on-line».
	  <application>KDE</application>
          incluye su propio navegador, <application>Konqueror</application>,
          docenas de útiles aplicaciones y una extensa
          documentación.  El resto de esta sección trata sobre
          cuestiones técnicas que son difíciles de aprender
          mediante una exploración al azar.</para>

      <sect3 xml:id="x11-wm-kde-kdm">
        <title>El gestor de pantalla de KDE</title>


        <indexterm><primary>KDE</primary>
          <secondary>display manager</secondary></indexterm>
        <para>El administrador de un sistemas multiusuario puede querer ofrecer
	  a sus usuarios una pantalla de bienvenido que se les presente
	  al acceder al sistema.  Tal y como se ha explicado previamente puede
          usar <link linkend="x-xdm">XDM</link>.  De todos modos
          <application>KDE</application> incluye su propia alternativa,
          alternative, <application>kdm</application>, diseñado pensando
	  en ser más atractivo y tener más opciones que ofrecer
	  en el momento del acceso al sistema.  Más concretamente ofrece
	  a los usuarios la posibilidad de elegir mediante un menú
	  qué entorno de escritorio
          (<application>KDE</application>,
          <application>GNOME</application>, o cualquier otro) quiere ejecutar
	  el usuario una vez validado.</para>

        <para>Si quiere activar <application>kdm</application> debe modificar
	  la entrada de <literal>ttyv8</literal> en
	  <filename>/etc/ttys</filename>.  La línea debe quedar
	  del siguiente modo:</para>

	<para>Si va a usar <application>KDE3</application>:</para>

	 <programlisting>ttyv8 "/usr/local/bin/kdm -nodaemon" xterm on secure</programlisting>

	<para>En el caso de <application>KDE4</application>:</para>

	<programlisting>ttyv8 "/usr/local/kde4/bin/kdm -nodaemon" xterm on secure</programlisting>


       </sect3>
     </sect2>

     <sect2 xml:id="x11-wm-xfce">
         <title>XFce</title>
       <sect3 xml:id="x11-wm-xfce-about">
         <title>Acerca de XFce</title>

        <para><application>XFce</application> es un entorno de escritorio
          basado en el «toolkit» GTK utilizado por
          <application>GNOME</application> pero es mucho más ligero y
          está pensado para aquellos que quieran un escritorio
	  sencillo, eficiente y fácil de utlizar y configurar.
	  Visualmente es muy parecido a <application>CDE</application>, que
	  podemos encontrar en sistemas &unix; comerciales.  Alguna de las
	  caracterésticas de <application>XFce</application> son:
	  </para>

         <itemizedlist>
           <listitem>
	     <para>Un escritorio sencillo y fácil de utilizar.</para>
           </listitem>

           <listitem>
	     <para>Completamente configurable utilizando el ratón, con
               arrastrar y soltar, etc.</para>
           </listitem>

           <listitem>
	     <para>Panel principal similar al de
               <application>CDE</application>, con menús,
               «applets» y accesos directos a las
               aplicaciones.</para>
           </listitem>

           <listitem>
	     <para>Gestor de ventanas integrado, gestor de ficheros, gestor
	       de sonido, módulo de compatibilidad con
           <application>GNOME</application>, y muchas cosas más.</para>
           </listitem>

           <listitem>
	     <para>Aspecto configurable (utiliza GTK).</para>
           </listitem>

           <listitem>
	     <para>Rápido, ligero y eficiente: ideal para
               máquinas viejas, lentas o máquinas con
	       memoria limitada.</para>
           </listitem>
         </itemizedlist>

         <para>Puede encontrar más información sobre
          <application>XFce</application> en el
          <link xlink:href="http://www.xfce.org/"> sitio web de XFce</link>.</para>
       </sect3>

       <sect3 xml:id="x11-wm-xfce-install">
         <title>Instalar XFce</title>

        <para>En el momento de escribir este texto existe un paquete binario
          para <application>XFce</application>.  Para instalarlo
          escriba:</para>

        <screen>&prompt.root; <userinput>pkg_add -r xfce4</userinput></screen>

        <para>También puede compilarlo desde el
          código gracias a la Colección de Ports:</para>

        <screen>&prompt.root; <userinput>cd /usr/ports/x11-wm/xfce4</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

        <para>Para indicar al servidor X que use
         <application>XFce</application> la próxima vez que arranque
         simplemente escriba lo siguiente:</para>

        <screen>&prompt.user; <userinput>echo "/usr/X11R6/bin/startxfce4" &gt; ~/.xinitrc</userinput></screen>

        <para>La próxima vez que arranque X
          <application>XFce</application> será el escritorio.
          Como antes, si se usa un gestor de pantalla como
          <filename>xdm</filename> cree un <filename>.xsession</filename> tal
	  y como se ha descrito en la anterior sección en <link linkend="x11-wm-gnome">GNOME</link>, pero con la orden
	  <filename>/usr/local/bin/startxfce4</filename>; puede configurar el
	  gestor de pantalla para permitir elegir el escritorio en el momento
	  de acceder al sistema tal y como se ha explicado en la
	  sección de <link linkend="x11-wm-kde-kdm">kdm</link>.</para>
      </sect3>
    </sect2>
  </sect1>

</chapter>
