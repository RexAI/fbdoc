<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook XML V5.0-Based Extension//EN"
	"http://www.FreeBSD.org/XML/share/xml/freebsd50.dtd">
<!--
     The FreeBSD Documentation Project
     The FreeBSD French Documentation Project

     $FreeBSD$
     Original revision: 1.2
-->
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="mh" xml:lang="fr">
  <info><title>Introduction &agrave; MH</title>
    
      <authorgroup>
        <author><personname><firstname>Matt</firstname><surname>Midboe</surname></personname><affiliation>
            <address><email>matt@garply.com</email></address>
          </affiliation></author>
      </authorgroup>
    <pubdate>v1.0, 16 Janvier 1996</pubdate>
    <abstract>
      <para>Ce document est une introduction sur la façon d'utiliser MH
        sous FreeBSD.</para>

      &trans.a.gioria;
    </abstract>

    <releaseinfo>$FreeBSD$</releaseinfo>
  </info>
  <sect1>
    <title>Introduction</title>
      <para>MH débuta en 1977 dans la société RAND
        Corporation, oû la philosophie MH fut développée. MH
        n'est pas seulement un programme monolithique de courrier
        électronique mais plutôt une philosophie sur la meilleure
        façon de développer des outils permettant de lire son
        courrier. Les développeurs de MH ont fourni un logiciel superbe
        tout en adhérent au concept <acronym>KISS</acronym>&nbsp;:
        &ldquo;Keep It Simple Stupid&rdquo; (Rester le plus simple
        possible).</para>
      <para>Plutôt que de disposer d'un seul et complexe logiciel pour
        lire, envoyer et gérer ses courriers électroniques, ils
        ont écrit une multitude de petits programmes
        spécialisés. Certains aimeront MH pour cette
        spécificité, d'autres non. Chaque outil de MH effectue une
        action, et l'effectue très bien.</para>
      <para>En plus de tous les outils de gestion des courriers
        électroniques, chaque outil MH comporte un mécanisme de
        configuration uniforme. En fait, si vous ne savez pas vraiment comment
        marche un outil, ou de quels arguments il dispose, vous vous en sortez
        généralement très facilement. Toutes les commandes
        de MH gèrent de façon identique les fichiers de
        configuration et les arguments de la ligne de commande. La chose la plus
        importante est de se souvenir que vous pouvez toujours passer l'option
        <option>-help</option> &agrave; une commande pour afficher toutes les
        options disponibles.</para>
      <para>Pour commencer, assurez vous que vous avez installé les
        programmes de MH sur votre machine. Si vous disposez d'un CDROM vous
        devez pouvoir l'installer en exécutant la commande
        suivante&nbsp;:</para>
      <informalexample>
<screen>#<userinput>&gt;pkg_add /cdrom/packages/mh-6.8.3.tgz</userinput></screen>
      </informalexample>
      <para>Vous verrez alors la création d'un répertoire
        <filename>/usr/local/lib/mh</filename> ainsi que l'ajout de
        différents binaires dans le répertoire
        <filename>/usr/local/bin</filename>. Si vous préférez le
        compiler vous même, vous pouvez télécharger les
        sources en ftp anonyme depuis
        <link xlink:href="ftp://ftp.ics.uci.edu/">ftp.ics.uci.edu</link> ou
        <link xlink:href="ftp://louie.udel.edu/">louie.udel.edu</link>.</para>
      <para>Cette introduction n'est pas une explication détaillée
        de la façon de fonctionner de MH. Elle vous permettra juste
        démarrer sur la route de la façon la plus rapide de lire vos emails. Vous devrez
surement consulter les pages de manuels des différentes commandes par
la suite. De même il serait bon de lire le <link xlink:href="http://www.cis.ohio-state.edu/hypertext/faq/usenet/mh-faq/part1/faq.html">FAQ
sur MH</link> et de vous abonnez au forum de discussion <link xlink:href="news:comp.mail.mh">comp.mail.mh</link>. Cependant la meilleur
ressource sur MH est le livre écrit par Jerry Peek aux éditions
O'Reilly et Associates.</para>
</sect1>
<sect1>
<title>Lire le courrier</title>
<para>Ce chapitre explique les commandes <command>inc</command>,
<command>show</command>, <command>scan</command>, <command>next</command>,
<command>prev</command>, <command>rmm</command>, <command>rmf</command>, and
<command>msgchk</command>. Le meilleur atout de MH est la consistence de
l'interface entre les différents programmes. La chose la plus
importante &agrave; retenir lorsque l'on utilise les différentes commandes,
est la façon de spécifier une liste de messages. Dans le cas de la
commande <command>inc</command> cela n'a aucun sens mais avec des commandes
comme  <command>show</command> c'est plus qu'utile.</para>

<para>Une liste de messages consiste en quelque chose comme <parameter>23 20
16</parameter>, qui corresponds aux messages 23, 20 et 16. C'est vraiment très
simple, mais vous pouvez avoir des choses plus  utiles comme
<parameter>23-30</parameter> correspondant &agrave; tous les messages entre le message
23 et le message 30. Vous pouvez aussi spécifier <parameter>cur:10</parameter>,
qui correspond au message courant et aux 9 messages suivants. Les
messages <parameter>cur</parameter><parameter>last</parameter>, et <parameter>first</parameter>
sont des messages spéciaux référant au message courant, dernier
message, et premier message du dossier.</para>

<sect2 xml:id="inc">
<title><command>inc</command>, <command>msgchk</command>&mdash;lire ou vérifier vos
messages</title>

<para>Si vous tapez la commande <userinput>inc</userinput> sans arguments, vous
débutez sur la bonne voie pour lire  votre courrier avec MH. La
première fois ou vous utilisez <command>inc</command>, il configurera votre
compte pour utilisez toutes les valeurs par défaut de MH et vous
demandera la création d'un répertoire Mail. Si vous avez des messages
et attente de téléchargement, vous verrez quelque chose qui peut
ressembler &agrave; ceci:
<informalexample>
<screen>  29  01/15 Doug White         Re: Another Failed to boot problem&lt;&lt;On Mon, 15 J
  30  01/16 "Jordan K. Hubbar  Re: FBSD 2.1&lt;&lt;&gt; Do you want a library instead of
  31  01/16 Bruce Evans        Re: location of bad144 table&lt;&lt;&gt;&gt; &gt;It would appea
  32  01/16 "Jordan K. Hubbar  Re: video is up&lt;&lt;&gt; Anyway, mrouted won't run, ev
  33  01/16 Michael Smith      Re: FBSD 2.1&lt;&lt;Nate Williams stands accused of sa</screen>
</informalexample>
Vous obtenez la même vue que si vous utilisiez la commande <command>scan</command> (voir
<xref linkend="scan"/>). Si vous lancez <command>inc</command> sans arguments
, cela vous affiche juste le courrier qui vous est destiné.</para>

<para>Enormément de personnes utilisent le protocole POP pour lire
leur mail. MH sait utiliser le protocole POP pour rapatrier les emails
sur votre poste. Vous devez passer plusieurs arguments &agrave;
<command>inc</command> pour cela.
<informalexample>
<screen>tempest% <userinput>inc -host mail.pop.org -user NomUtilisateur -norpop</userinput></screen>
</informalexample>
Cela invoque la commande <command>inc</command> en lui disant d'aller
télécharger le courrier sur le serveur <parameter>mail.pop.org</parameter>,
avec comme nom d'utilisateur <replaceable>NomUtilisateur</replaceable>. L'option
<option>-norpop</option> demande &agrave; la commande <command>inc</command> de
télécharger le courrier en clair suivant le protocole POP3. MH
supporte plusieurs variantes du protocole POP3. Vous n'utiliserez pas
dans la plupart des cas les autres variantes. Vous pouvez effectuer
des taches plus complexes avec <command>inc</command> comme, auditer des
fichiers ou parcourir des fichiers formattés
</para>
<para>La commande <command>msgchk</command> vous permet de savoir si
vous avez ou non de nouveaux messages dans votre
boite.<command>msgchk</command> accepte les mêmes options
,<option>-host</option> et <option>-user</option>, que la commande
<command>inc</command>.</para>
</sect2>
<sect2 xml:id="show">
<title><command>show</command>, <command>next</command> et <command>prev</command>&mdash;afficher un message et se déplacer dans une boite.</title>
<para><command>show</command> vous permet de visualiser un courrier de votre boite. Comme <command>inc</command>,<command>show</command> est une commande assez franche.Si vous tapez <userinput>show</userinput> sans paramètres elle affiche le message courant. Vous pouvez aussi demander l'affichage de messages particuliers en donnant son numéro &agrave; <command>show</command>:
<informalexample>
<screen>tempest% <userinput>show 32 45 56</userinput></screen>
</informalexample>
Cela affichera les fichiers numéros 32 45 56 &agrave; la suite l'un de
l'autre. Si vous changez rien &agrave; la configuration par défaut,
<command>show</command> ne fera rien d'autre qu'un
<command>more</command> sur le fichier contenant votre message.</para>

<para><command>next</command> s'utilise pour se déplacer au message
suivant et <command>prev</command> pour revenir au message
précédent. Ces deux commandes exécutent automatiquement un
<command>show</command> ce qui vous permet de lire automatiquement le
message suivant ou précédant.</para>
</sect2>

<sect2 xml:id="scan">
<title><command>scan</command>&mdash;Afficher un résumé de vos
messages</title>
<para><command>scan</command> affiche un bref descriptif de tous les
messages de votre répertoire courant. Voici un exemple d'affichage de
la commande <command>show</command>:
<informalexample>
<screen>  30+ 01/16 "Jordan K. Hubbar  Re: FBSD 2.1&lt;&lt;&gt; Do you want a library instead of
  31  01/16 Bruce Evans        Re: location of bad144 table&lt;&lt;&gt;&gt; &gt;It would appea
  32  01/16 "Jordan K. Hubbar  Re: video is up&lt;&lt;&gt; Anyway, mrouted won't run, ev
  33  01/16 Michael Smith      Re: FBSD 2.1&lt;&lt;Nate Williams stands accused of sa</screen>
</informalexample>
Comme tout dans MH, l'affichage est complètement configurable. Ce qui
est fournit dans l'exemple ci-dessus est l'affichage par défaut. Il
vous permet de visualiser le numéro du message, la date d'envoi,
l'envoyeur, le sujet et une partie du début du message. Le caractère
<literal>+</literal> vous indique le message courant donc si vous
tapez la commande <command>show</command> vous visualiserez ce
message.</para>
<para>Une option très utile de <command>scan</command> est l'option
<option>-reverse</option>. Cette option permet de lister l'ensemble de
vos messages en affichant en premier le message ayant le numéro le
plus élevé. Une autre option très interessante de
<command>scan</command> lui permet de lire les données depuis un
fichier. Si vous désirez parcourir votre boite aux lettres de courrier
entrant sans avoir &agrave; lancer la commande <command>inc</command>, il
vous suffit de faire <command>scan -file
/var/mail/nom_d_utilisateur</command>. Cela
peut etre fait sur n'importe quel fichier au format
<database>mbox</database>.</para>
</sect2>

<sect2 xml:id="rmm">
<title><command>rmm</command> et <command>rmf</command>&mdash; Effacer
le message courant ou le dossier</title>

<para><command>rmm</command> est utilisé pour effacer un message. Par
défaut le message n'est pas vraiment détruit mais renommé en un
fichier dont le nom est ignoré par les commandes de MH. Vous devrez
effacer physiquement de façon périodique les messages
&ldquo;effacés&rdquo;.</para>
<para>La commande <command>rmf</command> permet d'effacer un
dossier. Cela ne renomme pas les fichiers mais les efface du disque
dur, vous devez donc faire extrêmement attention lorsque vous
l'utilisez.</para>
</sect2>
<sect2 xml:id="samplereading">
<title>Un session typique de lecture avec MH</title>
<para>La première chose que vous ferez sera de lancer la commande
<command>inc</command>. Donc sous l'interpréteur de commandes tapez
<command>inc</command> et la touche <keycap>entrée</keycap>.
<informalexample>
<screen>tempest% <userinput>inc</userinput>
Incorporating new mail into inbox...

  36+ 01/19 "Stephen L. Lange  Request...&lt;&lt;Please remove me as contact for pind
  37  01/19 Matt Thomas        Re: kern/950: Two PCI bridge chips fail (multipl
  38  01/19 "Amancio Hasty Jr  Re: FreeBSD and VAT&lt;&lt;&gt;&gt;&gt; Bill Fenner said: &gt; In
tempest%</screen>
</informalexample>
Cela vous permet de visualiser les nouveaux messages rapatriés dans
votre boite aux lettres. La commande suivante a exécuter est
<command>show</command> pour vous permettre de les visualiser et de
vous déplacer dans votre liste de messages.
<informalexample>
<screen>tempest% <userinput>show</userinput>
Received: by sashimi.wwa.com (Smail3.1.29.1 #2)
        id m0tdMZ2-001W2UC; Fri, 19 Jan 96 13:33 CST
Date: Fri, 19 Jan 1996 13:33:31 -0600 (CST)
From: "Stephen L. Lange" &lt;stvlange@wwa.com&gt;
To: matt@garply.com
Subject: Request...
Message-Id: &lt;Pine.BSD.3.91.960119133211.824A-100000@sashimi.wwa.com&gt;
Mime-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


Please remove me as contact for pindat.com

tempest% <userinput>rmm</userinput>
tempest% <userinput>next</userinput>
Received: from localhost (localhost [127.0.0.1]) by whydos.lkg.dec.com (8.6.11/8
.6.9) with SMTP id RAA24416; Fri, 19 Jan 1996 17:56:48 GMT
Message-Id: &lt;199601191756.RAA24416@whydos.lkg.dec.com&gt;
X-Authentication-Warning: whydos.lkg.dec.com: Host localhost didn't use HELO pro
tocol
To: hsu@clinet.fi
Cc: hackers@FreeBSD.org
Subject: Re: kern/950: Two PCI bridge chips fail (multiple multiport ethernet
 boards)
In-Reply-To: Your message of "Fri, 19 Jan 1996 00:18:36 +0100."
             &lt;199601182318.AA11772@Sysiphos&gt;
X-Mailer: exmh version 1.5omega 10/6/94
Date: Fri, 19 Jan 1996 17:56:40 +0000
From: Matt Thomas &lt;matt@lkg.dec.com&gt;
Sender: owner-hackers@FreeBSD.org
Precedence: bulk


This is due to a typo in pcireg.h (to
which I am probably the guilty party).</screen>
</informalexample></para>
<para>La commande <command>rmm</command> efface le message courant et
la commande <command>next</command> permet de déplacer le numéro du
message courant au message suivant. Maintenant vous désirez visualiser les
dix courriers les plus récents, pour choisir lequel vous désirez lire:
<informalexample>
<screen>tempest% <userinput>scan last:10</userinput>
  26  01/16 maddy              Re: Testing some stuff&lt;&lt;yeah, well, Trinity has
  27  01/17 Automatic digest   NET-HAPPENINGS Digest - 16 Jan 1996 to 17 Jan 19
  28  01/17 Evans A Criswell   Re: Hey dude&lt;&lt;&gt;From matt@tempest.garply.com Tue
  29  01/16 Karl Heuer         need configure/make volunteers&lt;&lt;The FSF is looki
  30  01/18 Paul Stephanouk    Re: [alt.religion.scientology] Raw Meat (humor)&lt;
  31  01/18 Bill Lenherr       Re: Linux NIS Solaris&lt;&lt;--- On Thu, 18 Jan 1996 1
  34  01/19 John Fieber        Re: Stuff for the email section?&lt;&lt;On Fri, 19 Jan
  35  01/19 support@foo.garpl  [garply.com #1138] parlor&lt;&lt;Hello. This is the Ne
  37+ 01/19 Matt Thomas        Re: kern/950: Two PCI bridge chips fail (multipl
  38  01/19 "Amancio Hasty Jr  Re: FreeBSD and VAT&lt;&lt;&gt;&gt;&gt; Bill Fenner said: &gt; In
tempest%</screen>
</informalexample>
Maintenant vous voulez lire le message numéro 27, donc vous
tapez<userinput>show 27</userinput> et il s'affiche. Comme vous pouvez
le voir après ce court exemple MH est très simple &agrave; utiliser pour
visualiser et lire votre courrier et est de plus très intuitif.
</para>
</sect2>
</sect1>


<sect1>
<title>Chercher parmi les messages et les dossiers</title>

<para>Toute personne qui a beaucoup de mails aime &agrave; pouvoir mettre des
priorités, marquer les messages, les numéroter de différentes
façons. MH permet de faire toutes ces taches de façons très simple
comme d'habitude. Une chose dont nous n'avons pas encore parlé est le
concept de dossier. Vous avez sûrement utilisé le concept de dossier
avec d'autres programmes de lecture de courrier électronique. MH a
aussi des dossiers. MH peut aussi avoir des sous-dossiers de
dossiers. Un chose que vous devez avoir &agrave; l'esprit quand vous utilisez
la commande <command>inc</command>, pour la première fois, est qu'elle
demande si vous voulez créer le répertoire <filename>Mail</filename>,
et qu'elle enregistre tout dans ce répertoire. Si vous regardez ce
qu'il se trouve dans ce répertoire, vous verrez un répertoire
<filename>inbox</filename>. Ce répertoire comporte tous vos nouveaux
messages qui n'ont pas encore été déplacés dans un autre
dossier.</para>

<para>Lorsque vous créez un nouveau dossier, un répertoire est crée
sous votre répertoire <filename>Mail</filename> et les messages &agrave;
destination de se dossier sont stockés dans ce répertoire. Lorsque un
nouveau message arrive, il est déposé dans votre répertoire
<filename>inbox</filename> avec comme nom le numéro du message. Donc
même si vous n'avez pas les outils MH pour lire votre courrier,
vous pouvez utiliser les commandes standards UNIX pour vous déplacer
parmis les dossiers et visualiser vos messages. C'est cette simplicité
qui vous donne autant de puissance dans le traitement de vos
messages.</para>

<para>De la meme façon ou vous pouvez utiliser une liste de messages,
comme <parameter>23 16 42</parameter>, avec la plupart des commandes
MH; il y a une option utilisable avec toutes les commandes MH vous
permettant de travailler dans le dossier spécifié. Si vous essayer
<command>scan +freebsd</command>, vous allez parcourir le dossier
<filename>freebsd</filename>. Si vous faites un <command>show +freebsd
23 16 42</command>, la commande <command>show</command> affichera les
messages 23, 26 et 42 du dossier <filename>freebsd</filename>. Donc
souvenez vous que la syntaxe
<option>+<replaceable>dossier</replaceable></option>. Vous en aurez besoin pour
lancer les commandes dans les différents dossiers. Souvenez vous aussi
que votre dossier de courrier entrant par défaut est
<filename>inbox</filename>, donc en faisant un <command>folder
+inbox</command> vous aurez la liste de vos nouveaux messages. Bien
sur grace &agrave; la flexibilité de MH, vous pourriez changer ce dossier,
mais il y a peu d'intêret &agrave; le faire.</para>

<sect2>
<title><command>pick</command>&mdash; recherche par critères dans les
messages</title>
<para><command>pick</command> est une des commandes les plus
compliquées de MH. Je ne saurais pas mieux vous conseiller que d'aller
voir la page de manuel de
<citerefentry><refentrytitle>pick</refentrytitle><manvolnum>1</manvolnum></citerefentry>
pour bien la comprendre. La plus simple façon de s'en servir est la
suivante:
<informalexample>
<screen>tempest% <userinput>pick -search pci</userinput>
15
42
55
56
57</screen>
</informalexample>
Cela vous permet de trouver les numéros de tous les messages
comprenant le mot <literal>pci</literal> dans une des lignes du
message. Vous pouvez ensuite lancer la commande
<command>show</command> sur ces messages pour les lire ou
<command>rmm</command> pour les effacer. Vous devrez bien sur lancer
la commande suivante <command>show 15 42 55-57</command> pour les voir
tous. Une façon un peu plus compliquée d'utiliser
<command>pick</command> serait la suivante:
<informalexample>
<screen>tempest% <userinput>pick -search pci -seq pick</userinput>
5 hits
tempest% <userinput>show pick</userinput></screen>
</informalexample>
Cela vous permet de voir les memes messages que précédemment sans vous
fatiguer. L'option <option>-seq</option> n'est rien de plus qu'une
abréviation de l'option<option>-sequence</option> et la commande
<command>pick</command> n'est rien de plus qu'une sequence comportant
les numéros des messages vérifiant le critère. Vous pouvez aussi
utiliser la commande <command>rmm pick</command> pour effacer tous les
messages qui répondent au critère. Le nom de la sequence n'est pas
signifiant. Si vous relancez la commande <command>pick</command> de
nouveau, l'ancienne séquence sera effacée si vous utilisez le même
nom.</para>

<para>Si vous n'utilisiez que la commande <command>pick
-search</command>, cela peut prendre plus de temps que de chercher un
message entre un destinataire et un envoyeur. La commande
<command>pick</command> dispose donc de certains critères prédéfinis:
<variablelist>

<varlistentry>
<term><option>-to</option></term>
<listitem>
<para>recherche sur le destinataire</para>
</listitem>
</varlistentry>


<varlistentry>
<term><option>-cc</option></term>
<listitem>
<para>recherche dans le champ cc du message</para>
</listitem>
</varlistentry>

<varlistentry>
<term><option>-from</option></term>
<listitem>
<para>recherche sur l'expéditeur du message</para>
</listitem>
</varlistentry>

<varlistentry>
<term><option>-subject</option></term>
<listitem>
<para>recherche dans le sujet du message</para>
</listitem>
</varlistentry>

<varlistentry>
<term><option>-date</option></term>
<listitem>
<para>recherche par rapport &agrave; la date du message</para>
</listitem>
</varlistentry>


<varlistentry>
<term><option>--<replaceable>component</replaceable></option></term>
<listitem>
<para>recherche sur un quelconque autre entête. (ex:
<option>--reply-to</option> pour rechercher dans les entêtes reply-to
des messages)</para>
</listitem>
</varlistentry></variablelist></para>

<para>Cela permet d'avoir des requetes de ce type:
<informalexample>
<screen>tempest% <userinput>pick -to freebsd-hackers@freebsd.org -seq hackers</userinput></screen>
</informalexample>
pour avoir tous les messages envoyés &agrave; la liste de diffusion hackers
de FreeBSD. <command>pick</command> vous permet de grouper de
différentes façon en fonction du critère.
<itemizedlist>

<listitem>
<para>&hellip; <option>-and</option> &hellip;</para>
</listitem>

<listitem>
<para>&hellip; <option>-or</option> &hellip;</para>
</listitem>

<listitem>
<para><option>-not</option> &hellip;</para>
</listitem>

<listitem>
<para><option>-lbrace</option> &hellip; <option>-rbrace</option></para>
</listitem>
</itemizedlist>
Ces options permettent de faire des choses comme ceci:
<informalexample>
<screen>tempest% <userinput>pick -to freebsd-hackers -and -cc freebsd-hackers</userinput></screen>
</informalexample>
Cela vous permet de retrouver tous les messages envoyés &agrave; la liste
freebsd-hackers ou mis en copie &agrave; cette liste. Les options <option>lbrace</option> et
<option>rbrace</option> vous permettent de grouper les critères ensemble. Cela peut
etre util dans certaines situations, comme dans l'exemple suivant:
<informalexample>
<screen>tempest% <userinput>pick -lbrace -to freebsd-hackers -and
  -not -cc freebsd-questions -rbrace -and -subject pci</userinput></screen>
</informalexample></para>

<para>Cet exemple vous permet d'extraire tous les mails destinés &agrave; <quote>la
liste freebsd-hackers (mais qui ne sont pas mis en copie pour la liste
freebsd-questions) et dont le sujet est pci</quote>. Normalement vous
vous poseriez la question; mais quelle est la précédence des
opérateurs ? Vous vous rappelez qu'en mathématiques les expressions
sont évaluées de gauche &agrave; droite et que la multiplication et la
division ont plus de poids que les additions et les soustractions. MH
utilise les mêmes règles pour la commande <command>pick</command>. Les
combinaisons peuvent être très complexes, donc lisez la page de manuel
pour plus d'informations. Ce document est juste la pour vous aider &agrave;
découvrir MH.</para>
</sect2>

<sect2>
<title><command>folder</command>, <command>folders</command>,
<command>refile</command>&mdash; trois programmes utiles pour gérer vos
dossiers.</title>

<para>Il y a trois programmes vous permettant de gérer de façon
primitive vos dossiers. Le programme <command>folder</command> est
utilisé pour changer de dossiers, lister leur contenu. Vous pouvez
lancer la commande <command>folder
+dossier2</command> et automatiquement,
vous vous retrouverez dans le dossier
<replaceable>dossier2</replaceable>. Alors toutes les commandes MH,
telles que
<command>comp</command>,<command>repl</command>,<command>scan</command>,
et <command>show</command> utiliserons le dossier <filename>dossier2</filename>.</para>

<para>Quelques fois lorsque vous lisez et effacez dans messages vous
avez des <quote>discontinuitées</quote> dans vos dossiers. Si vous faites un
<command>scan</command> vous pouvez voir les messages  34, 35, 36, 43,
55, 56, 57, 80. Si vous faites un <command>folder -pack</command>,
cela vous permet de renuméroter tous vos messages, et vous n'aurez
plus de discontinuitées. Cela n'efface aucun message. Vous devez donc
périodiquement faire des <command>rmm</command> sur vos
messages.</para>

<para>Si vous désirez des statistiques sur vos dossiers, vous pouvez
faire des <command>folders</command> ou des <command>folder
-all</command> pour obtenir la liste de vos dossiers, combien de
messages comporte chaque dossier et quel est le message courant dans
chacun. La ligne de statistique affichée est la même que celle que
vous avez lorsque vous changez de dossier avec la commande
<command>folder +dossier2</command>. Un exemple de la commande
<command>folders</command> pourrait être:
<informalexample>
<screen>                Folder      # of messages (  range  ); cur  msg  (other files)
              announce  has    1 message  (   1-   1).
                drafts  has   no messages.
             f-hackers  has   43 messages (   1-  43).
           f-questions  has   16 messages (   1-  16).
                 inbox+ has   35 messages (   1-  38); cur=  37.
                 lists  has    8 messages (   1-   8).
             netfuture  has    1 message  (   1-   1).
                   out  has   31 messages (   1-  31).
              personal  has    6 messages (   1-   6).
                  todo  has   58 messages (   1-  58); cur=   1.

                     TOTAL=  199 messages in 13 folders.
</screen>
</informalexample></para>

<para>La commande <command>refile</command> vous permet de déplacer
les messages entre les dossiers. Si vous faites un <command>refile 23
+nouveaudossier</command>, le message 23 sera déplacer dans le dossier
<filename>nouveaudossier</filename>. Vous pouvez tout aussi bien faire
un <command>refile 23 +nouveaudossier/sousdossier1</command> qui
déplacera le message 23 dans le un sous
dossier,<filename>sousdossier1</filename>, du dossier
<filename>nouveaudossier</filename>. Si vous voulez garder un message
dans le dossier courant tout en le mettant dans un autre, vous devez
lancer la commande <command>refile -link 23 +nouveaudossier</command>,
qui gardera le message dans le dossier <filename>inbox</filename> tout
en le listant dans le dossier
<filename>nouveaudossier</filename>. Cela vous permet de réaliser
toutes les choses merveilleuses que vous pouvez faire avec MH.</para>
</sect2>
</sect1>

<sect1>
<title>Envoyer des messages</title>
<para>L'email est pour beaucoup de gens, comme une rue a double sens,
vous voudrez donc répondre a certains messages. La façon qu'emploie MH
pour envoyer des messages peut être difficile a comprendre au début,
mais il permet une énorme flexibilitée.La première chose que fait MH,
est de copier un "composant" dans votre file de messages sortant. Un
"composant" est en fait un squelette de message comportant les entêtes
<filename>To:</filename> et <filename>Subject:</filename>. Le système
lance ensuite votre éditeur favori ou vous pouvez remplir les entêtes
et composer le corps du message sous les pointillés dans le
message. Ensuite vous lancez la commande
<command>whatnow</command>. Et lorsque vous avez le prompt
<prompt>What now?</prompt>, vous pouvez répondre par une des commandes
suivante <command>send</command>, <command>list</command>, <command>edit</command>,
<command>edit</command>, <command>push</command>, and
<command>quit</command>. La plupart des commandes précédentes
s'expliquent d'elles même. Donc le processus d'envoi de message est le
suivant; copie du fichier "composant", édition de votre message, et
lancement de la commande <command>whatnow</command> en lui indiquant
quoi faire de votre message.</para>

<sect2>
<title><command>comp</command>, <command>forw</command>,
<command>reply</command>&mdash;composer, faire suivre ou répondre &agrave; un
message</title>

<para>La commande <command>comp</command> comporte quelques options de
la ligne de commande intéressantes. La plus importante est
<option>-editor</option>.Lorsque vous installez MH, un programme
appelé <command>prompter</command> est utiliser comme éditeur de
texte par défaut. Ce n'est pas un éditeur très intéressant. Donc
lorsque vous composez un message, vous utiliserez sûrement
<command>comp -editor /usr/bin/vi</command> ou <command>comp -editor
/usr/local/bin/pico</command> a la place. Après avoir lancer
<emphasis>comp</emphasis>, vous vous trouvez dans votre éditeur de
texte favori et vous voyez quelque chose qui ressemble &agrave; ceci:
<informalexample>
<screen>To:
cc:
Subject:
--------
</screen>
</informalexample></para>
<para>Vous devez ajoutez l'adresse de votre destinataire après le mot
<literal>To:</literal>. Vous devez remplir de la même manière les
autres entêtes, donc vous devez mettre le sujet après le mot
<literal>Subject:</literal>. Vous pouvez ensuite ajouter le corps de
votre message après les lignes pointillées. Cela peut vous sembler un
peu simpliste par rapport a d'autres programmes de messagerie qui vous
pose des questions et remplissent automatiquement les différents
entête, mais cela vous apporte une excellente flexibilité.
<informalexample>
<screen>To:<userinput>freebsd-rave@freebsd.org</userinput>
cc:
Subject:<userinput>Et le 8ème jour, Dieu créa le bureau des directeurs de FreeBSD</userinput>
--------
<userinput>Ouah, c'est un super système d'exploitation. Merci !</userinput></screen>
</informalexample>
Vous pouvez ensuite, sauvegarder le message et quitter votre
éditeur. Vous aurez alors le prompt <prompt>What now?</prompt> et vous
pourrez taper <userinput>send</userinput> ou <userinput>s</userinput>
et appuyer sur la touche <keycap>entrée</keycap>. Alors l'équipe
principal de développement de FreeBSD recevra votre gratitude. Comme
mentionné précédemment vous pouvez utiliser une des autres réponse,
par exemple <command>quit</command> si vous ne voulez pas envoyer ce
message.</para>

<para>La commande <command>forw</command> s'utilise de façon
similaire. La principal différence est que le message que vous envoyez
comprends dans son corps le message courant. Lorsque vous utilisez la
commande <command>forw</command>, vous faites suivre le message
courant a un autre destinataire. Vous pouvez faire suivre un autre
message en utilisant de la façon suivante <command>forw 23</command>
la commande <command>forw</command>, ainsi le message 23 sera ajoute
dans le corps du message composé. A part ces simples différences, la
commande <command>forw</command>, fonctionne de la même façon que la
commande <command>comp</command>. </para>

<para>La commande <command>repl</command> vous permet de répondre au
message courant, sauf si vous lui indiquez un autre numéro de
message. La commande <command>repl</command> essaye de remplir au
mieux les différents champs de l'entête en fonction de ce qui se
trouve dans le message de base. Vous noterez donc que le
champ<literal> To:</literal> de l'entête comporte deja l'adresse du
destinataire et que la ligne <literal>Subject:</literal> est deja
remplie. Ensuite vous composez de la façon habituelle votre
message. Un option intéressante de cette commande est
<option>-cc</option>. Vous pouvez utiliser comme paramètre
<parameter>all</parameter>, <parameter>to</parameter>,
<parameter>cc</parameter>,<parameter>me</parameter> avec cette option;
cela vous permet d'ajouter de façon simple, les adresses en copie du
message original. Vous noterez que le message original n'est pas inclus
par défaut. C'est le comportement par défaut de la plupart des
configuration de MH.
</para>
</sect2>

<sect2>
<title><filename>components</filename>, et
<filename>replcomps</filename>&mdash;les fichiers de composition pour
<command>comp</command> and <command>repl</command></title>

<para>Le fichier <filename>components</filename> se trouve la plupart
du temps dans le répertoire
<filename>/usr/local/lib/mh</filename>. Vous pouvez copier ce fichier
dans votre répertoire de MH et l'éditer pour ajouter ce que vous
voulez. Vous avez certaines lignes d'entête de mail par défaut au
début, une ligne pointillée et puis plus rien. La commande
<command>comp</command> ne fait que copier ce fichier et vous permet
ensuite de l'éditer. Vous pouvez ajouter n'importe quel entête valide
(RFC822). Par exemple, vous pourriez avoir le fichier
<filename>components</filename> suivant:
<informalexample>
<screen>To:
Fcc: out
Subject:
X-Mailer: MH 6.8.3
X-Comment: FreeBSD the power to serve
X-Home-Page: http://www.freebsd-fr.org/
-------</screen>
</informalexample>
MH copiera donc ce fichier et vous enverra dans votre éditeur
favori. Le fichier <filename>components</filename> est très simple. Si
vous désirez inclure une signature, il vous suffit de l'ajouter dans
ce fichier.</para>

<para>Le fichier <filename>replcomps</filename> est un peu plus
complexe. Son contenu par défaut ressemble &agrave; ceci:
<informalexample>
<screen>%(lit)%(formataddr %&lt;{reply-to}%?{from}%?{sender}%?{return-path}%&gt;)\
%&lt;(nonnull)%(void(width))%(putaddr To: )\n%&gt;\
%(lit)%(formataddr{to})%(formataddr{cc})%(formataddr(me))\
%&lt;(nonnull)%(void(width))%(putaddr cc: )\n%&gt;\
%&lt;{fcc}Fcc: %{fcc}\n%&gt;\
%&lt;{subject}Subject: Re: %{subject}\n%&gt;\
%&lt;{date}In-reply-to: Your message of "\
%&lt;(nodate{date})%{date}%|%(pretty{date})%&gt;."%&lt;{message-id}
             %{message-id}%&gt;\n%&gt;\
--------
</screen>
</informalexample></para>

<para>Ce fichier a le même format de base que le fichier
<filename>components</filename> mais il comporte un peu plus de codes
de mise en forme. La commande <literal>%(lit)</literal> crée l'espace
nécessaire pour l'adresse. La commande <literal>%(formataddr</literal>
est une fonction qui retourne une adresse e-mail cohérente. Le morceau
suivant <literal>%&lt;</literal> permet de remplir le champ de
l'adresse avec l'adresse correspondante dans le cas ou elle se trouve
dans le champ <literal>{reply-to}</literal> du message de
l'émetteur. Cela sera donc transformé de la manière suivante:
<informalexample>
<screen>%&lt;<emphasis remap="bf">si</emphasis> {reply-to} <emphasis remap="bf"> dans le message original ou trouve un champ reply-to</emphasis>
alors la mettre dans le champ formataddr, %? <emphasis remap="bf">sinon
prendre le contenu du champ </emphasis> {from} <emphasis remap="bf"/>, %? <emphasis remap="bf">sinon</emphasis> prendre
le champ {sender} <emphasis remap="bf"/>, %?
<emphasis remap="bf">et en dernier lieu prendre le champ </emphasis> {return-path} <emphasis remap="bf"/>, %&gt; <emphasis remap="bf">endif</emphasis>.</screen>
</informalexample></para>

<para>Comme vous pouvez le voir, le formattage des champs de MH peut
être largement étendu. Vous pourrez sûrement décrypter le maximum des
autres fonctions et des noms de variables. Toutes les autres
informations sur le façon d'écrire ces chaînes de formattage se trouve
dans la page de manuel de MH. Donc lorsque vous aurez finit de créer
votre fichier <filename>replcomps</filename> vous n'aurez plus besoin
d'y toucher. Aucun autre programme ne vous donne autant de flexibilité
et de pouvoir que MH.</para>
</sect2>

</sect1>



</article>
