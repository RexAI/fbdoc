<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook XML V5.0-Based Extension//EN"
	"http://www.FreeBSD.org/XML/share/xml/freebsd50.dtd">
<!--
     The FreeBSD Documentation Project
     The FreeBSD French Documentation Project

     $FreeBSD$
     Original revision: n.nn
-->
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="fr">
<info><title>Pour les Nouveaux Venus &agrave; FreeBSD et Unix</title>

<authorgroup>
<author><personname><firstname>Annelise</firstname><surname>Anderson</surname></personname><affiliation>
<address><email>andrsn@hoover.stanford.edu</email></address>
</affiliation></author>
</authorgroup>
<pubdate>15 Août 1997</pubdate>
<legalnotice xml:id="trademarks" role="trademarks">
&tm-attrib.freebsd;
&tm-attrib.ibm;
&tm-attrib.microsoft;
&tm-attrib.netscape;
&tm-attrib.opengroup;
&tm-attrib.general;
</legalnotice>
<releaseinfo>$FreeBSD$</releaseinfo>
<abstract>
<para>Félicitations pour avoir installé FreeBSD! Cette
introduction concerne les nouveaux venus &agrave; la fois &agrave; FreeBSD
<emphasis>et</emphasis> &agrave; Unix&nbsp;-&nbsp;elle commence donc par les bases. Elle
suppose que vous utilisiez la version 2.0.5 ou une version ultérieure de
FreeBSD telle que distribuée par Walnut Creek ou FreeBSD.ORG, que votre
système n'a (jusqu'&agrave; présent) qu'un seul utilisateur (vous)&nbsp;-&nbsp;et que vous
êtes probablement &agrave; l'aise avec DOS/Windows ou OS/2.</para>

&trans.a.haby;
</abstract>
</info>
<sect1>
<title>Initialiser et Terminer une Session Utilisateur</title>
<para>Ouvrez une session (quand vous obtenez &agrave; l'écran l'invite
<prompt>login:</prompt>) avec le compte utilisateur que vous avez
défini &agrave; l'installation ou sous le compte super-utilisateur
 <firstterm>root</firstterm>. (FreeBSD a déj&agrave; créé le compte root lors de
l'installation; root peut accéder &agrave; tous les répertoires et tout faire, y
compris effacer des fichiers essentiels, donc soyez prudents!). Les symboles %
et # dans les exemples sont l'invite du système (la votre peut être différente),
où % correspond &agrave; un utilisateur normal et # distingue le compte root.</para>
<para>Pour terminer la session (vous obtiendrez &agrave; nouveau l'invite
<prompt>login:</prompt>), tapez:
<informalexample>
<screen># <userinput>exit</userinput></screen>
</informalexample>
autant de fois que nécessaire. Bien sûr, n'oubliez pas la touche
<keysym>Entrée</keysym> &agrave; la fin des commandes, et rappelez-vous qu'Unix
fait la distinction entre les majuscules et les
minuscules&nbsp;-&nbsp;<command>exit</command>, mais pas
<command>EXIT</command>.</para>
<para>Pour arrêtez l'ordinateur, tapez:
<informalexample>
<screen># <userinput>/sbin/shutdown -h now</userinput></screen>
</informalexample>
Ou, pour le redémarrer, tapez:
<informalexample>
<screen># <userinput>/sbin/shutdown -r now</userinput></screen>
</informalexample>
ou:
<informalexample>
<screen># <userinput>/sbin/reboot</userinput></screen>
</informalexample>
</para>
<para>Vous pouvez aussi redémarrer avec:
<keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Delete</keycap></keycombo>.
Laissez au système un peu de temps pour faire son travail. Cette séquence est,
dans les plus récentes versions de FreeBSD, l'équivalent de la commande
<command>/sbin/reboot</command>, et il est nettement préférable de l'employer
que d'utiliser l'interrupteur de réinitialisation de votre machine. A moins que
vous ne vouliez tout réinstaller ?</para>
</sect1>
<sect1>
<title>Créer un Nouveau Compte Utilisateur avec les Mêmes Droits que Root</title>
<para>Si vous n'avez pas créé de compte utilisateur au moment de l'installation,
et utilisez donc le compte root, vous devriez maintenant définir un nouvel
utilisateur avec:
<informalexample>
<screen># <userinput>adduser</userinput></screen>
</informalexample>
La première fois que vous utiliserez adduser, le programme vous demandera
peut-être de lui indiquer des options par défaut qu'il sauvegardera. Par
exemple, vous préférez peut-être que l'interpréteur de commandes soit csh, s'il
vous propose l'interpréteur sh. Sinon, tapez simplement Entrée pour conserver
les valeurs par défaut. Celles-ci sont enregistrées dans le fichier
<filename>/etc/adduser.conf</filename>, que vous pouvez éditer.
Supposons que vous ayez créé l'utilisateur <emphasis>jacques</emphasis> dont
le nom est <emphasis>Jacques Dupont</emphasis>.  Attribuez un mot de passe
&agrave; jacques si la sécurité (pourquoi pas, même des enfants pourraient pianoter
sur le clavier) vous préoccupe. Quand le programme vous demande si vous
voulez que jacques appartienne &agrave; d'autres groupes, répondez:
<informalexample>
<screen>Login group is ``jacques''. Invite jacques into other groups: <userinput>wheel</userinput></screen>
</informalexample>
Vous pourrez alors ouvrir une session avec le compte
<emphasis>jacques</emphasis> puis utiliser la commande
<command>su</command> pour devenir root. Vous n'aurez dorénavant
plus besoin d'ouvrir immédiatement une session avec le compte root.</para>
<para>Vous pouvez quitter <command>adduser</command> &agrave; tout moment en tapant
<keycombo><keycap>Ctrl</keycap><keycap>C</keycap></keycombo>, et
pour finir vous pourrez valider le nouveau compte utilisateur ou simplement
taper <keycap>n</keycap> pour non. Peut-être voudrez vous créer un second
compte utilisateur (jeanne?), vous aurez ainsi une issue de secours si vous
modifiez les fichiers de configuration de jacques et que quelque chose tourne
mal.</para>
<para>Une fois que vous avez fini, utilisez <command>exit</command>
pour revenir &agrave; l'invite <prompt>login:</prompt>
et ouvrez une session sous le compte <emphasis>jacques</emphasis>. Il est
toujours préférable de travailler autant que possible avec un compte utilisateur
ordinaire qui n'a pas autant de droits&nbsp;-&nbsp;et donc ne présente pas autant de
risques&nbsp;-&nbsp;que root.</para>
<para>Si vous avez déj&agrave; créé un compte et que vous voulez que cet utilisateur
puisse utiliser <command>su</command> pour devenir root, vous pouvez devenir
root et éditer le fichier <filename>/etc/group</filename>, pour y ajouter
jacques &agrave; la première ligne (le groupe wheel). Familiarisez-vous d'abord avec
l'éditeur de texte <command>vi</command>&nbsp;-&nbsp; ou utilisez l'éditeur plus
simple <command>ee</command>, présent sur les versions les plus récentes
de FreeBSD.</para>
</sect1>
<sect1>
<title>Tour d'horizon</title>
<para>Sous une session utilisateur ordinaire, faites un tour d'horizon et
essayez quelques commandes qui vous fourniront des informations et de l'aide
quand vous utiliserez FreeBSD.</para>
<para>Voici quelques commandes et ce qu'elles font :
<variablelist>
<varlistentry><term><command>id</command></term>
<listitem>
<para>Vous dit qui vous êtes!</para>
</listitem>
</varlistentry>
<varlistentry><term><command>pwd</command></term>
<listitem>
<para>Vous dit où vous êtes&nbsp;-&nbsp;le répertoire de travail
courant.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>ls</command></term>
<listitem>
<para>Donne la liste des fichiers du répertoire courant.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>ls -F</command></term>
<listitem>
<para>Donne la liste des fichiers du répertoire courant suivis d'une
<literal>*</literal> pour les exécutables, d'un <literal>/</literal> pour
les répertoires, et d'une <literal>@</literal> pour les liens
symboliques.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>ls -l</command></term>
<listitem>
<para>Donne la liste détaillée des fichiers du répertoire courant&nbsp;-&nbsp;taille,
date, autorisations.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>ls -a</command></term>
<listitem>
<para>Liste tous les fichiers, y compris les fichiers &ldquo;.&rdquo;
cachés. Si vous êtes root, les fichiers &ldquo;.&rdquo; sont visibles
sans l'option <option>-a</option>.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>cd</command></term>
<listitem>
<para>Change de répertoire courant.  <command>cd
..</command> remonte d'un niveau dans l'arborescence;
notez l'espace après <command>cd</command>.  <command>cd
/usr/local</command> va dans ce répertoire.  <command>cd
~</command> va dans le répertoire de
l'utilisateur courant&nbsp;-&nbsp;e.g., <filename>/usr/home/jacques</filename>.
Essayez <command>cd /cdrom</command>, puis
<command>ls</command>, pour voir si votre CDROM est monté et fonctionne.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>view nom_de fichier</command></term>
<listitem>
<para>Vous permet de visualiser le fichier
<replaceable>nom_de_fichier</replaceable> sans le modifier. Essayez
<command>view /etc/fstab</command>.
<command>:q</command> pour quitter.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>cat nom_de_fichier</command></term>
<listitem>
<para>Liste <replaceable>nom_de_fichier</replaceable> &agrave; l'écran. S'il
est trop long et que vous n'en voyez que la fin, appuyez sur
<keycap>Arrêt Défil</keycap> et utilisez <keycap>flèche-vers-le-haut</keycap>
pour revenir en arrière; vous pouvez aussi utiliser <keycap>Arrêt Défil</keycap>
avec les pages de manuel. Appuyez &agrave; nouveau sur
<keycap>Arrêt Défil</keycap> pour
terminer votre lecture. Essayez <command>cat</command> sur quelques fichiers
&ldquo;.&rdquo; de votre répertoire utilisateur&nbsp;-&nbsp;<command>cat
.cshrc</command>, <command>cat
.login</command>, <command>cat
.profile</command>.</para>
</listitem>
</varlistentry>
</variablelist>
Notez les alias de quelques commandes <command>ls</command>
dans le fichier <filename>.cshrc</filename> (ils sont très pratiques).
Vous pouvez créer d'autres alias en éditant le fichier
<filename>.cshrc</filename>. Vous pouvez aussi les mettre &agrave; disposition
de tous les utilisateurs en les définissant dans le fichier de configuration
général <filename>/etc/csh.cshrc</filename>.</para>
</sect1>
<sect1>
<title>Obtenir de l'Aide et de l'Information</title>
<para>Voici quelques moyens d'obtenir de l'aide.
<replaceable>Texte</replaceable> désigne quelque chose de votre choix
&nbsp;-&nbsp;normalement une commande ou un nom de fichier&nbsp;-&nbsp;que vous
tapez.</para>
<variablelist>
<varlistentry><term><command>apropos texte</command></term>
<listitem>
<para>Tout ce qui contient la chaîne <replaceable>texte</replaceable>
dans la <database>base de données whatis</database>.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>man texte</command></term>
<listitem>
<para>La page de manuel pour <replaceable>texte</replaceable>. C'est la
principale source de documentation des systèmes Unix.  <command>man
ls</command> vous expliquera toutes les possibilités
d'utilisation de la commande <command>ls</command>. Utilisez
<keycap>Entrée</keycap> pour faire défiler le texte,
<keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> pour remonter
d'une page, <keycombo><keycap>Ctrl</keycap><keycap>f</keycap></keycombo> pour
passer &agrave; la page suivante, et <keycap>q</keycap> ou
<keycombo><keycap>Ctrl</keycap><keycap>c</keycap></keycombo> pour
quitter.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>which texte</command></term>
<listitem>
<para>Vous dit où se trouve la commande
<replaceable>texte</replaceable>
dans vos chemins d'accès.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>locate texte</command></term>
<listitem>
<para>Tous les répertoires où l'on trouve la chaîne
<replaceable>texte</replaceable>.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>whatis texte</command></term>
<listitem>
<para>Vous dit ce qu'est la commande <replaceable>texte</replaceable>
et où se trouve la page de manuel correspondante.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>whereis text</command></term>
<listitem>
<para>Cherche le fichier <replaceable>texte</replaceable>, et vous en donne
le chemin d'accès complet.</para>
</listitem>
</varlistentry>
</variablelist>
<para>Essayez la commande <command>whatis</command> sur quelques utilitaires
d'usage courant comme <command>cat</command>,
<command>more</command>, <command>grep</command>,
<command>mv</command>, <command>find</command>,
<command>tar</command>, <command>chmod</command>,
<command>chown</command>, <command>date</command> et
<command>script</command>. <command>more</command> vous permet de lire
une page &agrave; la fois comme sous DOS, e.g., <command>ls -l |
more</command> ou <command>more
nom_de_fichier</command>.
<literal>*</literal> sert de caractère de substitution&nbsp;-&nbsp;e.g., <command>ls
w*</command> vous donnera la liste de tous les fichiers commençant par
<literal>w</literal>.</para>
<para>Certaines de ces commandes ne fonctionnent pas correctement?
<command>locate</command> et <command>whatis</command>
interrogent une base de données qui est reconstruite chaque semaine.
Si votre machine n'est pas en service le weekend (et sous FreeBSD), vous
devrez peut-être exécuter les commandes de maintenance quotidienne, hebdomadaire
et mensuelle de temps &agrave; autre. Faites-le sous le compte root et attendez qu'elles se terminent avant de lancer la suivante.
<informalexample>
<screen># <userinput>/etc/daily</userinput>
<lineannotation>sortie non mentionnée</lineannotation>
# <userinput>/etc/weekly</userinput>
<lineannotation>sortie non mentionnée</lineannotation>
# <userinput>/etc/monthly</userinput>
<lineannotation>sortie non mentionnée</lineannotation>
</screen></informalexample></para>
<para>Si vous êtes las d'attendre, appuyez sur
<keycombo><keycap>Alt</keycap><keycap>F2</keycap></keycombo> pour obtenir une
nouvelle <firstterm>console virtuelle</firstterm>, et rouvrir une session.
Après tout, c'est un système multi-utilisateurs, multi-tâches.  Ces
commandes afficheront probablement des messages &agrave; l'écran pendant
qu'elles s'exécutent; vous pouvez taper <command>clear</command> pour effacer
l'écran.  Une fois qu'elles auront terminé, regardez le contenu des fichiers
<filename>/var/mail/root</filename> et
<filename>/var/log/messages</filename>.</para>
<para>Utiliser de telles commandes est une des tâches d'administration
système&nbsp;-&nbsp;étant seul utilisateur d'un système Unix, vous êtes votre
propre administrateur système. Pratiquement tout ce que vous aurez &agrave; faire
sous le compte root sera l'administration de votre système. Ces tâches
sont souvent mal décrites dans les ouvrages volumineux sur Unix
qui passent plus de temps &agrave; détailler les menus des gestionnaires de fenêtres.
Procurez-vous l'un des deux ouvrages de référence sur l'administration système,
soit Evi Nemeth et.al.'s <citetitle>UNIX System
Administration Handbook</citetitle> (Prentice-Hall, 1995, ISBN
0-13-15051-7)&nbsp;-&nbsp;deuxième édition avec une couverture rouge; ou
&AElig;leen Frisch's <citetitle>Essential System
Administration</citetitle> (O'Reilly &amp; Associates, 1993, ISBN
0-937175-80-3)<footnote><para>N.d.T.: traduit en français sous le titre
<citetitle>Les Bases de l'Administration Système</citetitle>, chez le même
éditeur.</para></footnote>. J'ai personnellement utilisé Nemeth.</para>
</sect1>
<sect1>
<title>Editer des Fichiers Texte</title>
<para>Pour configurer votre système, vous devez éditer des fichiers texte. Ils
sont presque tous dans le répertoire <filename>/etc</filename>; vous devrez
utiliser la commande <command>su</command> pour devenir root pour les
modifier. Vous pouvez vous servir de l'éditeur simple <command>ee</command>,
mais &agrave; long terme, cela vaut la peine d'apprendre &agrave; utiliser
<command>vi</command>. Il y a une excellente introduction &agrave; vi dans
<filename>/usr/src/contrib/nvi/docs/tutorial</filename> si vous l'avez
installé. Sinon vous pouvez le télécharger par ftp sur
<link xlink:href="ftp://ftp.cdrom.com">ftp://ftp.cdrom.com</link>
dans le répertoire
<filename>FreeBSD/FreeBSD-current/src/contrib/nvi/tutorial</filename>.</para>
<para>Avant d'éditer un fichier, faites-en une copie de sauvegarde. Supposons
que vous vouliez modifier le fichier <filename>/etc/rc.conf</filename>. Avec
la commande <command>cd /etc</command> vous allez dans le répertoire
<filename>/etc</filename>, puis tapez:
<informalexample>
<screen># <userinput>cp rc.conf rc.conf.orig</userinput></screen>
</informalexample>
pour recopier le fichier <filename>rc.conf</filename> dans
<filename>rc.conf.orig</filename>, de façon &agrave; pouvoir ensuite
recopier <filename>rc.conf.orig</filename> dans <emphasis remap="tt">rc.conf</emphasis> pour revenir &agrave; la version originale. Il serait
encore mieux de le déplacer (renommer) puis de faire la copie en sens inverse:
<informalexample>
<screen># <userinput>mv rc.conf rc.conf.orig</userinput>
# <userinput>cp rc.conf.orig rc.conf</userinput></screen>
</informalexample>
parce que la commande <command>mv</command> conserve la date et le nom du
propriétaire d'origine du fichier. Vous pouvez maintenant éditer le fichier
<filename>rc.conf</filename>. Si vous voulez revenir &agrave; la version d'origine,
utilisez alors <userinput>mv rc.conf rc.conf.myedit</userinput>
(en supposant que vous vouliez conserver la version que vous avez modifiée)
puis:
<informalexample>
<screen># <userinput>mv rc.conf.orig rc.conf</userinput></screen>
</informalexample>
pour remettre l'original &agrave; sa place.</para>
<para>Pour éditer un fichier, tapez:
<informalexample>
<screen># <userinput>vi nom_de_fichier</userinput></screen>
</informalexample>
déplacez vous dans le fichier avec les touches flèches. <keycap>Echap</keycap> (la touche d'échappement) met <command>vi</command> en mode commande. Voici
quelques-unes de ces commandes:
<variablelist>
<varlistentry><term><command>x</command></term>
<listitem>
<para>efface le caractère sur lequel se trouve le curseur.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>dd</command></term>
<listitem>
<para>efface toute la ligne (même si elle dépasse la largeur de l'écran et
s'affiche sur plus d'une ligne).</para>
</listitem>
</varlistentry>
<varlistentry><term><command>i</command></term>
<listitem>
<para>permet d'insérer du texte devant la position du curseur.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>a</command></term>
<listitem>
<para>permet d'insérer du texte après la position du curseur.</para>
</listitem>
</varlistentry>
</variablelist>
Après avoir tapé <command>i</command> ou <command>a</command>,
vous pouvez insérer du texte. <command>Echap</command> vous ramène en mode
commande. Vous pouvez alors taper:
<variablelist>
<varlistentry><term><command>:w</command></term>
<listitem>
<para>pour enregistrer le fichier modifié sur disque et continuer &agrave;
l'éditer,</para>
</listitem>
</varlistentry>
<varlistentry><term><command>:wq</command></term>
<listitem>
<para>pour enregistrer le fichier modifié sur disque et quitter
l'éditeur,</para>
</listitem>
</varlistentry>
<varlistentry><term><command>:q!</command></term>
<listitem>
<para>pour quitter l'éditeur sans enregistrer vos modifications,</para>
</listitem>
</varlistentry>
<varlistentry><term><command>/texte</command></term>
<listitem>
<para>recherche la prochaine occurrence de <replaceable>texte</replaceable> et
y positionne le curseur; <command>/Entrée</command> (la touche
Entrée) recherche ensuite la prochaine occurrence de <replaceable>texte</replaceable>,</para>
</listitem>
</varlistentry>
<varlistentry><term><command>G</command></term>
<listitem>
<para>va &agrave; la fin du fichier,</para>
</listitem>
</varlistentry>
<varlistentry><term><command>nG</command></term>
<listitem>
<para>va &agrave; la <replaceable>n</replaceable>ième ligne du fichier,</para>
</listitem>
</varlistentry>
<varlistentry><term><keycombo><keycap>Ctrl</keycap><keycap>L</keycap></keycombo></term>
<listitem>
<para>rafraîchit l'affichage,</para>
</listitem>
</varlistentry>
<varlistentry><term><keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> et <keycombo><keycap>Ctrl</keycap><keycap>f</keycap></keycombo></term>
<listitem>
<para>remonte ou descend d'une page, de la même façon qu'avec les utilitaires
<command>more</command> et <command>view</command>.</para>
</listitem>
</varlistentry>
</variablelist>
</para>
<para>Entraînez-vous &agrave; utiliser <command>vi</command> dans votre répertoire utilisateur
en créant un nouveau fichier avec <command>vi
nom_de_fichier</command> puis ajoutez-y et effacez du texte,
enregistrez le ficher et rééditez-le. <command>vi</command> peut vous réserver
des surprises parce qu'il est assez complexe, et il vous arrivera de taper
accidentellement des commandes au résultat inattendu. (Certains aiment
vraiment <command>vi</command>&nbsp;-&nbsp;il est bien plus puissant qu'EDIT
de DOS&nbsp;-&nbsp;voyez par exemple la commande <command>:r</command> command.) Utilisez
<keycap>Echap</keycap> une ou plusieurs fois pour être sûr que vous êtes en mode
commande quand vous êtes dans l'embarras, enregistrez régulièrement vos
modifications avec la commande <command>:w</command>, et utilisez la commande
<command>:q!</command> pour sortir et rééditer la dernière version enregistrée
avec <command>:w</command> au besoin.</para>
<para>Vous pouvez maintenant <command>cd</command> vers <filename>/etc</filename>,
<command>su</command> pour devenir root, utiliser <command>vi</command> pour éditer le
fichier <filename>/etc/group</filename>, et ajouter un utilisateur au groupe
wheel pour qu'il ait les mêmes droits que root. Ajoutez juste une virgule puis
le nom de l'utilisateur &agrave; la fin de la première ligne, appuyez sur
<keycap>Echap</keycap>, et utilisez la commande <command>:wq</command> pour enregistrer
le fichier et quitter l'éditeur. La modification est aussitôt prise en compte
par le système. (vous n'avez pas mis de blanc après la virgule,
n'est-ce-pas?)</para>
</sect1>
<sect1>
<title>Imprimer des fichiers DOS</title>
<para>A ce stade, vous n'avez probablement pas encore configuré FreeBSD
pour pouvoir utiliser votre imprimante. Voici donc une méthode pour
créer un fichier &agrave; partir d'une page de manuel, l'enregistrer sur disquette
et l'imprimer sous DOS. Si par exemple, vous voulez lire dans le détail
ce qui concerne la modification des droits d'accès aux fichiers (c'est assez
important), la commande man chmod vous affiche la page de manuel. La commande:
<informalexample>
<screen># <userinput>man chmod &gt; chmod.txt</userinput></screen>
</informalexample>
recopie la page de manuel dans le fichier <filename>chmod.txt</filename> au lieu
de l'afficher &agrave; l'écran. Mettez maintenant une disquette formatée DOS dans le
lecteur de disquettes A:, <command>su</command> pour devenir root, et tapez:
<informalexample>
<screen># <userinput>/sbin/mount -t msdos /dev/fd0 /mnt</userinput></screen>
</informalexample>
pour monter le lecteur de disquettes dans le répertoire
<filename>/mnt</filename>.</para>
<para>Ensuite (plus besoin d'être root, vous pouvez utiliser
<command>exit</command> pour redevenir l'utilisateur jacques), vous pouvez aller
dans le répertoire où vous avez créé le fichier chmod.txt et le recopier
sur la disquette avec la commande:
<informalexample>
<screen>% <userinput>cp chmod.txt /mnt</userinput></screen>
</informalexample>
puis utiliser <command>ls /mnt</command> pour lister le contenu du répertoire
<filename>/mnt</filename>, où devrait figurer le fichier
<filename>chmod.txt</filename>.</para>
<para>En particulier, il vous sera utile de créer un fichier &agrave; partir du
résultat de la commande
<filename>/sbin/dmesg</filename> en tapant:
<informalexample>
<screen>% <userinput>/sbin/dmesg &gt; dmesg.txt</userinput></screen>
</informalexample>
et en copiant <filename>dmesg.txt</filename> sur la disquette.
<command>/sbin/dmesg</command> liste les informations affichées au démarrage
du système, qu'il est utile de comprendre, parce qu'elles décrivent la
configuration matérielle reconnue par FreeBSD au démarrage.
Si vous posez des questions sur <email>freebsd-questions@FreeBSD.ORG</email> ou
dans un forum USENET&nbsp;-&nbsp;du type &ldquo;FreeBSD ne reconnaît pas mon
lecteur de bande, que faire ? &rdquo;&nbsp;-&nbsp;on vous demandera ce qu'indique
<command>dmesg</command> sur votre système.</para>
<para>Vous pouvez maintenant démonter le lecteur de disquette (sous le compte
root) pour retirer la disquette avec la commande:
<informalexample>
<screen># <userinput>/sbin/umount /mnt</userinput></screen>
</informalexample>
et redémarrer la machine pour passer sous DOS. Copiez ces fichiers dans un
répertoire DOS, éditez-les avec DOS EDIT, Windows Notepad, ou un traitement
de texte, faites une petite modification pour avoir &agrave; les enregistrer et
imprimez-les comme d'habitude sous DOS ou Windows. J'espère que cela marche!
Les pages de manuel s'impriment mieux avec la commande <command>print</command>
du DOS. (Copier des fichiers de FreeBSD vers une partition DOS montée est
dans certains cas encore un peu risqué).</para>
<para>Pour pouvoir imprimer depuis FreeBSD, il faut définir l'imprimante dans
le fichier <filename>/etc/printcap</filename> et créer le répertoire tampon
correspondant dans <filename>/var/spool/output</filename>. Si votre imprimante
est sur le port <hardware>lpt0</hardware> (qui s'appelle <hardware>LPT1</hardware> sous DOS),
il suffit d'aller dans le répertoire <filename>/var/spool/output</filename> et
(sous le compte root) de créer le répertoire <filename>lpd</filename>, s'il n'existe
pas, en tapant:
<informalexample>
<screen># <userinput>mkdir lpd</userinput></screen>
</informalexample>
L'imprimante devrait alors répondre si elle était sous tension au démarrage du
système et les commandes lp ou lpr devraient envoyer un fichier &agrave;
l'imprimante. Que le fichier s'imprime ou non dépend de la
configuration de l'imprimante, qui est décrite dans le
<link xlink:href="&url.books.handbook;/index.html">manuel FreeBSD.</link></para>
</sect1>
<sect1>
<title>D'autres Commandes Utiles</title>
<para>
<variablelist>
<varlistentry><term><command>df</command></term>
<listitem>
<para>liste les systèmes de fichiers montés, leur taille et leur utilisation.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>ps aux</command></term>
<listitem>
<para>liste les processus actifs. <command>ps ax</command> en est une forme abregée.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>rm nom_de_fichier</command></term>
<listitem>
<para>efface le fichier <replaceable>nom_de_fichier.</replaceable></para>
</listitem>
</varlistentry>
<varlistentry><term><command>rm -R répertoire</command></term>
<listitem>
<para>efface le répertoire <replaceable>répertoire</replaceable> et tous ses
sous-répertoires&nbsp;-&nbsp;attention!</para>
</listitem>
</varlistentry>
<varlistentry><term><command>ls -R</command></term>
<listitem>
<para>liste les fichiers du répertoire courant et de tous ses sous-répertoires;
j'en utilisais une variante, <command>ls -AFR &gt; where.txt</command>,
pour avoir la liste de tous les fichiers du répertoire racine
<filename>/</filename> et (indépendamment) du répertoire
<filename>/usr</filename> avant de trouver un meilleur moyen pour rechercher
des fichiers.</para>
</listitem>
</varlistentry>
<varlistentry><term><command>passwd</command></term>
<listitem>
<para>pour changer le mot de passe d'un utilisateur
(ou le mot de passe root).</para>
</listitem>
</varlistentry>
<varlistentry><term><command>man hier</command></term>
<listitem>
<para>pages de manuel du système de fichier Unix.</para>
</listitem>
</varlistentry>
</variablelist></para>
<para>Avec le commande <command>find</command> vous pouvez localiser le fichier
<replaceable>nom_de_fichier</replaceable> dans <filename>/usr</filename> ou un
de ses sous-répertoires:
<informalexample>
<screen>% <userinput>find /usr -name "nom_de_fichier"</userinput></screen>
</informalexample>
Vous pouvez employer <literal>*</literal> comme caractère de substitution dans
<parameter>"<replaceable>nom_de_fichier</replaceable>"</parameter> (qui doit être entre guillemets).
Si vous demandez &agrave; <command>find</command> d'effectuer la recherche dans <filename>/</filename>
au lieu de <filename>/usr</filename>, il va parcourir tous les systèmes de
fichiers montés, y compris le CDROM et la partition DOS.</para>
<para>Voici un excellent livre qui détaille les commandes et les utilitaires
du système Unix:
Abrahams &amp; Larson, <citetitle>Unix for the Impatient</citetitle>
(2nd ed., Addison-Wesley, 1996). Vous trouverez aussi beaucoup d'informations
sur Unix sur l'Internet. Essayez l'
<link xlink:href="http://www.eecs.nwu.edu/unix.html">Unix Reference
Desk</link>.</para>
</sect1>
<sect1>
<title>Etapes Suivantes</title>
<para>Vous avez maintenant les outils nécessaires &agrave; l'exploration du système et
&agrave; l'édition de fichiers. Il y a énormément d'informations dans le
<link xlink:href="&url.books.handbook;/index.html">manuel FreeBSD
</link> (que vous avez probablement aussi sur votre disque
dur) et sur le
<link xlink:href="http://www.freebsd.org/">
site Internet de FreeBSD</link>. Il y a un grand nombre de logiciels sur le
CDROM de <link xlink:href="http://www.cdrom.com/">Walnut Creek</link> et sur leur
site Internet. Le "manuel" vous explique comment les utiliser
(installer le logiciel s'il existe, avec <command>pkg_add
/cdrom/packages/All/nom_du_logiciel</command>,
où <replaceable>nom_du_logiciel</replaceable> est le nom du fichier
correspondant au logiciel voulu). Le CDROM donne la liste des logiciels
pré-compilés ou non <footnote><para>N.d.T: Les logiciels prévus pour être utilisés avec FreeBSD peuvent être pré-compilés (&ldquo;packages&rdquo;) ou
disponibles sous forme de code source (&ldquo;ports&rdquo;) livré avec
les procédures nécessaires &agrave; sa compilation.</para></footnote> avec une
courte description de
chacun dans <filename>/cdrom/packages/index</filename>,
<filename>/cdrom/packages/index.txt</filename> et
<filename>/cdrom/ports/index</filename>. Il y a des descriptifs plus détaillés
dans <filename>/cdrom/ports/*/*/pkg/DESCR</filename>, où les
<literal>*</literal>s désignent respectivement les sous-répertoires regroupant
les logiciels par catégories et les noms des logiciels.</para>
<para>Si vous trouvez le "manuel" trop subtil (avec ses commandes
<command>lndir</command> et ainsi de suite) en ce qui concerne l'installation des
logiciel &agrave; compiler, voici une méthode qui fonctionne habituellement:</para>
<para>Trouvez le logiciel que vous voulez, par exemple <command>kermit</command>. Il
y aura un sous-répertoire correspondant sur le CDROM. Copiez ce sous-répertoire
dans <filename>/usr/local</filename> (l&agrave; où l'on met généralement les logiciels
que l'on installe pour les mettre &agrave; la disposition de tous les utilisateurs)
avec:
<informalexample>
<screen># <userinput>cp -R /cdrom/ports/comm/kermit /usr/local</userinput></screen>
</informalexample>
Ceci crée normalement un sous-répertoire <filename>/usr/local/kermit</filename>
qui contient tous les fichiers du sous-répertoire
<command>kermit</command> du CDROM.</para>
<para>Recherchez ensuite dans le répertoire
<filename>/cdrom/ports/distfiles</filename> un fichier dont le nom
indique que c'est le logiciel que vous voulez installer. Copiez ce fichier dans
<filename>/usr/ports/distfiles</filename>; avec les versions récentes,
vous pouvez sauter cette étape, FreeBSD s'en chargera.
Dans le cas de <command>kermit</command>, il n'y a aucun fichier associé dans
<filename>/cdrom/ports/distfiles</filename>.</para>
<para>Puis <command>cd</command> dans le sous-répertoire de
<filename>/usr/local/kermit</filename> qui contient le fichier
<filename>Makefile</filename>.  Tapez:
<informalexample>
<screen># <userinput>make all install</userinput></screen>
</informalexample>
</para>
<para>Pendant l'installation, le système ira chercher par ftp les
fichiers compressés qu'il ne trouve pas dans
<filename>/usr/ports/distfiles</filename>. Si vous n'êtes pas
encore connecté &agrave; l'Internet et que le fichier correspondant au
logiciel n'existe pas dans
<filename>/cdrom/ports/distfiles</filename>, vous devrez récupérer
ce fichier sur une autre machine et le copier dans
<filename>/usr/ports/distfiles</filename> depuis une disquette ou
votre partition Dos. Lisez <filename>Makefile</filename> (Avec <command>cat</command>,
<command>more</command> ou <command>view</command>) pour trouver sur quel site (le
"master distribution site"&nbsp;-&nbsp;site de distribution d'origine) aller pour
récupérer le fichier et pour connaître
son nom. Ce nom sera tronqué si vous téléchargez le fichier sous DOS, et
vous devrez redonner au fichier son nom d'origine après l'avoir recopié
dans <filename>/usr/ports/distfiles</filename>
(avec la commande <command>mv</command>) pour que FreeBSD le trouve.
(Utilisez le transfert de fichier en mode binaire!) Revenez ensuite dans
<filename>/usr/local/kermit</filename>, trouvez le sous-répertoire où est
<filename>Makefile</filename>, et tapez <command>make all install</command>.</para>
<para>Il peut aussi arriver quand vous installez des logiciels pré-compilés ou
non qu'un autre logiciel soit nécessaire. Si l'installation s'interrompt avec
un message du style <errorname>can't find unzip</errorname>, vous devez d'abord
installer le logiciel unzip avant de continuer.</para>
<para>Un fois le logiciel installé, tapez <command>rehash</command> pour que FreeBSD
relise la liste des fichiers dans les chemins d'accès par défaut, de façon
&agrave; ce qu'il sache ce qui s'y trouve. (Si vous obtenez de nombreux messages
d'erreur <errorname>path not found</errorname> avec les commandes
<command>whereis</command> ou <command>which</command>, ajoutez les répertoires
nécessaires &agrave; la liste des chemins d'accès par défaut définis dans le
fichier <filename>.cshrc</filename> de votre répertoire utilisateur. L'instruction
path d'Unix fonctionne de la même façon que sous DOS, &agrave; ceci près que, pour des
raisons de sécurité, le répertoire courant n'y est pas défini (par défaut); si
le programme que vous cherchez se trouve dans le répertoire courant, vous devrez
faire précéder le nom du programme de <filename>./</filename> pour l'exécuter
(pas d'espace après le &ldquo;<filename>/</filename>&rdquo;.) </para>
<para>Vous voudrez peut-être installer la version la plus récente de Netscape
depuis leur <link xlink:href="ftp://ftp.netscape.com">site ftp</link>. (Netscape
a besoin du gestionnaire graphique X Window.) Il vous faut la version
&ldquo;unknown bsd&rdquo;. Appliquez au fichier téléchargé les commandes
<command>gunzip nom_de_fichier</command> puis <command>tar xvf
nom_de_fichier</command>, recopiez l'exécutable dans
<filename>/usr/local/bin</filename> ou dans tout autre répertoire où vous mettez les programmes, <command>rehash</command>, et ajoutez les lignes suivantes aux fichiers
<filename>.cshrc</filename> dans les répertoires de tous les
utilisateurs ou (plus simplement) au fichier
<filename>/etc/csh.cshrc</filename> de démarrage de l'interpréteur de commandes
csh applicable &agrave; tous les utilisateurs:
<informalexample>
<programlisting>setenv XKEYSYMDB /usr/X11R6/lib/X11/XKeysymDB
setenv XNLSPATH /usr/X11R6/lib/X11/nls</programlisting>
</informalexample>
Ce qui présuppose que les fichiers <filename>XKeysymDB</filename> et le répertoire
<filename>nls</filename> existent dans <filename>/usr/X11R6/lib/X11</filename>; s'ils
n'y sont pas, trouvez-les et recopiez-les dans ce répertoire.</para>

<para>Si vous aviez auparavant installé Netscape depuis le CDROM (ou par
ftp), ne remplacez pas <filename>/usr/local/bin/netscape</filename> par
le nouveau binaire; ce fichier n'est qu'une procédure qui positionne des
variables d'environnement. Au lieu de cela, renommez le nouveau fichier
binaire en <filename>netscape.bin</filename> et installez-le &agrave; la place
de l'ancien, qui s'appelle <filename>/usr/local/lib/netscape/netscape.bin</filename>.</para>
</sect1>
<sect1>
<title>Votre Environnement de Travail</title>
<para>Votre interpréteur de commandes est la composante la plus importante de
votre environnement de travail. C'est l'équivalent de COMMAND.COM sous DOS.
C'est lui qui analyse les commandes que vous tapez au clavier et communique
avec le reste du système d'exploitation. Vous pouvez aussi écrire des
procédures, qui sont l'équivalent des fichiers .BAT de DOS.</para>
<para>Deux interpréteurs de commandes sont pré-installés par FreeBSD : csh et
sh. csh est utile pour le travail en ligne de commande, mais vous devriez mieux
écrire vos procédures pour sh (ou bash). <command>echo $SHELL</command> vous
retourne le nom de l'interpréteur que vous utilisez actuellement.</para>
<para>L'interpréteur csh est commode, mais tcsh fait tout ce que fait csh et
plus encore. Il vous permet de rappeler des commandes avec les touches flèches
et de les éditer. Il sait compléter les noms de fichiers avec la touche Tab (csh
utilise la touche Echap) et il vous permet de revenir dans le répertoire où vous
étiez auparavant avec <command>cd -</command>. Il est aussi plus facile de
modifier l'invite du système avec tcsh. Il vous rend la vie beaucoup plus
facile.</para>
<para>Voici les trois étapes pour installer un nouvel interpréteur de
commandes:</para>
<para>Installez l'interpréteur, pré-compilé ou non, comme vous le feriez pour
n'importe quel autre logiciel. Utilisez <command>rehash</command> puis
<command>which tcsh</command> (en supposant que vous installiez tcsh) pour vous
assurer qu'il est bien installé.</para>
<para>Sous le compte root, éditez le fichier <filename>/etc/shells</filename>,
ajoutez-y une ligne pour le nouvel interpréteur, dans notre cas
/usr/local/bin/tcsh, et enregistrez votre modification. (certaines procédures
d'installation font cela pour vous.)</para>
<para>Utilisez <command>chsh</command> pour changer de façon permanente
d'interpréteur de commandes, ou tapez <command>tcsh</command> sous l'invite
du système pour changer d'interpréteur sans ouvrir de nouvelle session.</para>
<para>Note: Il peut être dangereux de changer l'interpréteur de commandes du
compte root en autre chose que sh ou csh avec les premières versions de FreeBSD
et de nombreuses autres versions d'Unix; vous pourriez ne plus avoir
d'interpréteur de commandes quand le système passe en mode mono-utilisateur.
La solution est d'utiliser <command>su -m</command> pour devenir root et
disposer de tcsh, parce que l'interpréteur de commandes est partie intégrante
de l'environnement. Vous pouvez rendre ce fonctionnement définitif en ajoutant
un alias dans votre fichier <filename>.tchsrc</filename>:</para>
<informalexample><screen>alias su su -m</screen>
</informalexample>
<para>Quand tcsh démarre, il lit les fichiers
<filename>/etc/csh.cshrc</filename> et <filename>/etc/csh.login</filename>.
Il lit aussi le fichier <filename>.login</filename> de votre répertoire
utilisateur, ainsi que le fichier <filename>.cshrc</filename>, &agrave; moins que vous
n'ayez un fichier <filename>.tchsrc</filename>. Vous pouvez facilement en
créer un en copiant simplement <filename>.cshrc</filename> dans
<filename>.tcshrc</filename>.</para>
<para>Maintenant que vous avez installé tcsh, vous pouvez modifier l'invite
du système. Vous trouverez plus de détails dans les pages de manuel de tcsh,
mais voici une ligne que vous pouvez mettre dans votre fichier
<filename>.tchsrc</filename>, qui vous dira combien de commandes vous avez
tapées, quelle heure il est, et dans quel répertoire vous vous
trouvez. Un &gt; sera aussi
affiché si vous êtes un utilisateur ordinaire et un # si vous êtes root, mais
tcsh fait cela de toute façon:</para>
<informalexample><screen>set prompt = "%h %t %~ %#"</screen>
</informalexample>
<para>Mettez cette ligne &agrave; la place de la ligne "set prompt" s'il y en a déj&agrave;
une, ou après la ligne "if($?prompt) then" sinon. Mettez l'ancienne ligne en
commentaire; vous pourrez toujours y revenir si vous le souhaitez. N'oubliez
pas les espaces et les guillemets. Vous pouvez forcer la relecture du fichier
<filename>.tchsrc</filename> en tapant <command>source .tcshrc</command>.</para>
<para>Vous pouvez obtenir la liste des autres variables d'environnement qui ont
été positionnées avec la commande <command>env</command>. Le résultat vous
indiquera entre autres quels sont votre éditeur et votre gestionnaire de page
affichée par défaut, et quel type de terminal vous utilisez. Une
commande utile si vous vous connectez &agrave; distance et ne pouvez exécuter un
programme parce que le terminal n'est pas adapté est
<command>setenv TERM vt100</command>.</para>
</sect1>
<sect1>
<title>Autres</title>
<para>En tant que root, vous pouvez démonter le CDROM avec <command>/sbin/umount
/cdrom</command>, le sortir du lecteur, en mettre un autre, et monter ce dernier avec
<command>/sbin/mount_cd9660 /dev/cd0a /cdrom</command> en supposant que
<hardware>cd0a</hardware> est le nom du périphérique associé &agrave; votre lecteur de
CDROMs.</para>
<para>Le système de fichier actif&nbsp;-&nbsp;le deuxième CDROM de la
distribution de FreeBSD&nbsp;-&nbsp;est utile si vous manquez d'espace disque.
Vous pouvez essayez d'utiliser <command>emacs</command> ou des jeux depuis le
cdrom. Vous devrez utiliser <command>lndir</command>, qui est installé en même temps
que le gestionnaire graphique X Window, pour dire au(x) programme(s)
où trouver les fichiers dont il a besoin, parce qu'ils se trouvent dans le
système de fichiers <filename>/cdrom</filename> et non dans
<filename>/usr</filename> et ses sous-répertoires, où ils devraient
normalement être.  Lisez <command>man lndir</command>.</para>
<para>Vous pouvez supprimer un utilisateur (par example, jacques) en utilisant
la commande <command>vipw</command> pour éditer le fichier <filename>master.passwd</filename>
(n'utilisez pas <command>vi</command> directement sur le fichier
<filename>master.passwd</filename>); effacez la ligne pour jacques et sauvez le
fichier. Editez ensuite <filename>/etc/group</filename> et supprimez toutes
les occurrences de jacques.
Enfin, allez dans <filename>/usr/home</filename> et utilisez
<command>rm -R jacques</command> (pour effacer les fichiers et sous-répertoires
du répertoire utilisateur de jacques).</para>
</sect1>
<sect1>
<title>Vos Commentaires sont la Bienvenue</title>
<para>Si vous utilisez ce guide, je suis intéressée de savoir où il ne vous est
pas suffisamment clair et ce que vous trouvez qu'il y manque, et aussi s'il vous
a été utile.  <footnote><para>N.d.T.: en anglais !</para></footnote>
Mes remerciements &agrave; Eugene W. Stark, professeur d'informatique
&agrave; SUNY-Stony Brook, et &agrave; John Fieber pour ses commentaires pertinents.</para>
<para>Annelise Anderson, <email>andrsn@hoover.stanford.edu</email></para>
</sect1>
</article>
